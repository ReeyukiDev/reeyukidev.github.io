<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reeyuki Desktop</title>
    <link href="/src/style.css" rel="stylesheet" />
  </head>

  <body>
    <div id="selection-box"></div>

    <div id="desktop">
      <div class="icon selectable" data-app="explorer">
        <img src="/static/icons/pc.webp" />
        <div>Computer</div>
      </div>

      <div class="icon selectable" data-app="notepad">
        <img src="/static/icons/notepad.webp" />
        <div>Notepad</div>
      </div>

      <div class="icon selectable" data-app="paint">
        <img src="/static/icons/paint.webp" />
        <div>Paint</div>
      </div>

      <div class="icon selectable" data-app="terminal">
        <img src="/static/icons/terminal.png" />
        <div>Terminal</div>
      </div>

      <div class="icon selectable" data-app="music">
        <img src="/static/icons/music.png" />
        <div>Music Player</div>
      </div>

      <div class="icon selectable" data-app="pacman">
        <img src="/static/icons/pac-man.webp" />
        <div>Pac-Man</div>
      </div>

      <div class="icon selectable" data-app="pvz">
        <img src="/static/icons/pvz.webp" />
        <div>Plants vs. Zombies</div>
      </div>

      <div class="icon selectable" data-app="tetris">
        <img src="/static/icons/tetris.webp" />
        <div>Tetris</div>
      </div>

      <div class="icon selectable" data-app="roads">
        <img src="/static/icons/roads.svg" />
        <div>Roads</div>
      </div>

      <div class="icon selectable" data-app="isaac">
        <img src="/static/icons/isaac.ico" />
        <div>Isaac</div>
      </div>

      <div class="icon selectable" data-app="mario">
        <img src="/static/icons/mario.webp" />
        <div>Mario</div>
      </div>

      <div class="icon selectable" data-app="sonic">
        <img src="/static/icons/sonic.png" />
        <div>Sonic</div>
      </div>

      <div class="icon selectable" data-app="papaGames">
        <img src="/static/icons/papa.webp" />
        <div>Papa Games</div>
      </div>

      <div class="icon selectable" data-app="zombieTd">
        <img src="/static/icons/zombietd.jpg" />
        <div>Zombie TD</div>
      </div>

      <div class="icon selectable" data-app="zombotron">
        <img src="/static/icons/zombotron.webp" />
        <div>Zombotron</div>
      </div>

      <div class="icon selectable" data-app="zombotron2">
        <img src="/static/icons/zombotron.webp" />
        <div>Zombotron 2</div>
      </div>

      <div class="icon selectable" data-app="zombotron2Time">
        <img src="/static/icons/zombotron2.webp" />
        <div>Zombotron 2 Time Machine</div>
      </div>

      <div class="icon selectable" data-app="swarmQueen">
        <img src="/static/icons/swarm.webp" />
        <div>Swarm Queen</div>
      </div>

      <div class="icon selectable" data-app="fancyPants">
        <img src="/static/icons/fancypants.png" />
        <div>Fancy Pants</div>
      </div>

      <div class="icon selectable" data-app="fancyPants2">
        <img src="/static/icons/fancypants2.png" />
        <div>Fancy Pants 2</div>
      </div>

      <div class="icon selectable" data-app="strikeForce">
        <img src="/static/icons/strikeforce.avif" />
        <div>Strike Force Kitty</div>
      </div>

      <div class="icon selectable" data-app="jojo">
        <img src="/static/icons/jojo.gif" />
        <div>JJBA Heritage For The Future</div>
      </div>

      <div class="icon selectable" data-app="pokemonRed">
        <img src="/static/icons/pokemonred.png" />
        <div>Pokemon Red</div>
      </div>

      <div class="icon selectable" data-app="pokemonEmerald">
        <img src="/static/icons/pokemonemerald.png" />
        <div>Pokemon Emerald</div>
      </div>
      <div class="icon selectable" data-app="pokemonPlatinum">
        <img src="/static/icons/pokemonplatinum.jpg" />
        <div>Pokemon Platinum</div>
      </div>

      <div class="icon selectable" data-app="pokemonHeartgold">
        <img src="/static/icons/pokemonheartgold.webp" />
        <div>Pokemon Heartgold</div>
      </div>

      <div class="icon selectable" data-app="pokemonWhite">
        <img src="/static/icons/pokemonwhite.jpg" />
        <div>Pokemon White</div>
      </div>

      <div class="icon selectable" data-app="gtaVc">
        <img src="/static/icons/gtavc.png" />
        <div>GTA Vice City</div>
      </div>

      <div class="icon selectable" data-app="subwaySurfers">
        <img src="/static/icons/subway.png" />
        <div>Subway Surfers</div>
      </div>

      <div class="icon selectable" data-app="mutantFighting">
        <img src="/static/icons/mutantcup1.png" />
        <div>Mutant Fighting Cup</div>
      </div>

      <div class="icon selectable" data-app="mutantFighting2">
        <img src="/static/icons/mutantcup2.png" />
        <div>Mutant Fighting Cup 2</div>
      </div>

      <div class="icon selectable" data-app="finnAndBones">
        <img src="/static/icons/finn-and-bones.webp" />
        <div>Finn And Bones</div>
      </div>

      <div class="icon selectable" data-app="infectonator">
        <img src="/static/icons/infectonator.webp" />
        <div>Infectonator</div>
      </div>

      <div class="icon selectable" data-app="infectonator2">
        <img src="/static/icons/infectonator2.webp" />
        <div>Infectonator 2</div>
      </div>

      <div class="icon selectable" data-app="newyorkShark">
        <img src="/static/icons/newyorkshark.webp" />
        <div>New York Shark</div>
      </div>

      <div class="icon selectable" data-app="vscode">
        <img src="/static/icons/vscode.webp" />
        <div>Visual Studio Code</div>
      </div>

      <div class="icon selectable" data-app="minecraft">
        <img src="/static/icons/minecraft.webp" />
        <div>Minecraft</div>
      </div>

      <div class="icon selectable" data-app="swordsSouls">
        <img src="/static/icons/swordsandsouls.webp" />
        <div>Swords And Souls</div>
      </div>

      <div class="icon selectable" data-app="flight">
        <img src="/static/icons/flight.webp" />
        <div>Flight</div>
      </div>

      <div class="icon selectable" data-app="intrusion">
        <img src="/static/icons/intrusion.jpg" />
        <div>Intrusion</div>
      </div>

      <div class="icon selectable" data-app="intrusion2">
        <img src="/static/icons/intrusion-2.jpg" />
        <div>Intrusion 2</div>
      </div>

      <div class="icon selectable" data-app="dan">
        <img src="/static/icons/dan.webp" />
        <div>Dan The Man</div>
      </div>

      <div class="icon selectable" data-app="obama">
        <img src="/static/icons/obama.jpg" />
        <div>Obama Alien Defense</div>
      </div>
    </div>
    <div id="start-menu" class="kde-menu">
      <div class="kde-sidebar">
        <div class="kde-user">
          <img src="/static/icons/guest.webp" />
          <span>reeyuki</span>
        </div>

        <div class="kde-cat active" data-cat="favorites">â­ Favorites</div>
        <div class="kde-cat" data-cat="apps">ğŸ“¦ Applications</div>
        <div class="kde-cat" data-cat="games">ğŸ® Games</div>
        <div class="kde-cat" data-cat="system">âš™ System</div>
      </div>

      <div class="kde-content">
        <input id="kde-search" placeholder="Searchâ€¦" autocomplete="off" />

        <div class="kde-page active" data-page="favorites">
          <div class="kde-item" data-app="notepad">ğŸ“ Notepad</div>
          <div class="kde-item" data-app="explorer">ğŸ“ File Manager</div>
          <div class="kde-item" data-app="music">ğŸµ Music Player</div>
        </div>

        <div class="kde-page" data-page="apps">
          <div class="kde-item" data-app="notepad">ğŸ“ Notepad</div>
          <div class="kde-item" data-app="vscode">Visual Studio Code</div>
          <div class="kde-item" data-app="explorer">ğŸ“ File Manager</div>
        </div>

        <div class="kde-page" data-page="games">
          <div class="kde-item" data-app="pacman">ğŸ‘¾ Pac-Man</div>
          <div class="kde-item" data-app="pvz">ğŸŒ» Plants vs Zombies</div>
          <div class="kde-item" data-app="sonic">ğŸŒ€ Sonic</div>
        </div>

        <div class="kde-page" data-page="system">
          <div class="kde-item" data-app="settings">âš™ Settings</div>
          <div class="kde-item" data-app="return">â» Logout</div>
        </div>
      </div>
    </div>

    <div id="taskbar">
      <div id="start-button"></div>
      <div id="taskbar-windows" style="display: flex"></div>
      <div id="system-tray">
        <div id="clock">12:00 PM</div>
        <div id="date">12/18/2025</div>
      </div>
    </div>

    <div id="context-menu"></div>

    <script type="module" src="/src/main.js"></script>
    <script src="https://unpkg.com/@ruffle-rs/ruffle"></script>
    <script>
      const ICON_WIDTH = 80;
      const ICON_HEIGHT = 100;
      const GAP = 5;

      const desktop = document.getElementById("desktop");
      const icons = desktop.querySelectorAll(".icon");

      function layoutIcons() {
        const desktopHeight = desktop.clientHeight;

        let x = GAP;
        let y = GAP;

        icons.forEach((icon) => {
          icon.style.position = "absolute";
          icon.style.left = `${x}px`;
          icon.style.top = `${y}px`;

          y += ICON_HEIGHT + GAP;

          if (y + ICON_HEIGHT > desktopHeight) {
            y = GAP;
            x += ICON_WIDTH + GAP;
          }
        });
      }

      window.addEventListener("load", layoutIcons);
      window.addEventListener("resize", layoutIcons);

      document.querySelectorAll(".kde-cat").forEach((cat) => {
        cat.onclick = () => {
          document.querySelectorAll(".kde-cat").forEach((c) => c.classList.remove("active"));
          document.querySelectorAll(".kde-page").forEach((p) => p.classList.remove("active"));

          cat.classList.add("active");
          document.querySelector(`.kde-page[data-page="${cat.dataset.cat}"]`).classList.add("active");
        };
      });

      document.getElementById("kde-search").addEventListener("input", (e) => {
        const q = e.target.value.toLowerCase();
        document.querySelectorAll(".kde-item").forEach((item) => {
          item.style.display = item.textContent.toLowerCase().includes(q) ? "" : "none";
        });
      });
    </script>
  </body>
</html>
