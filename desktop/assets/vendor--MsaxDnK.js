function Ra(I){return I&&I.__esModule&&Object.prototype.hasOwnProperty.call(I,"default")?I.default:I}var xi={exports:{}},ps=xi.exports,la;function ds(){return la||(la=1,(function(I,X){(function(j,N){I.exports=N()})(ps,function(){return(function(W){var j={};function N(C){if(j[C])return j[C].exports;var Q=j[C]={exports:{},id:C,loaded:!1};return W[C].call(Q.exports,Q,Q.exports,N),Q.loaded=!0,Q.exports}return N.m=W,N.c=j,N.p="",N(0)})([function(W,j,N){(function(C,Q,L,V){Object.defineProperty(j,"__esModule",{value:!0});var R=N(2),_=N(9),p;(function(r){r[r.EPERM=1]="EPERM",r[r.ENOENT=2]="ENOENT",r[r.EIO=5]="EIO",r[r.EBADF=9]="EBADF",r[r.EACCES=13]="EACCES",r[r.EBUSY=16]="EBUSY",r[r.EEXIST=17]="EEXIST",r[r.ENOTDIR=20]="ENOTDIR",r[r.EISDIR=21]="EISDIR",r[r.EINVAL=22]="EINVAL",r[r.EFBIG=27]="EFBIG",r[r.ENOSPC=28]="ENOSPC",r[r.EROFS=30]="EROFS",r[r.ENOTEMPTY=39]="ENOTEMPTY",r[r.ENOTSUP=95]="ENOTSUP"})(p||(p={}));var T={};T[p.EPERM]="Operation not permitted.",T[p.ENOENT]="No such file or directory.",T[p.EIO]="Input/output error.",T[p.EBADF]="Bad file descriptor.",T[p.EACCES]="Permission denied.",T[p.EBUSY]="Resource busy or locked.",T[p.EEXIST]="File exists.",T[p.ENOTDIR]="File is not a directory.",T[p.EISDIR]="File is a directory.",T[p.EINVAL]="Invalid argument.",T[p.EFBIG]="File is too big.",T[p.ENOSPC]="No space left on disk.",T[p.EROFS]="Cannot modify a read-only file system.",T[p.ENOTEMPTY]="Directory is not empty.",T[p.ENOTSUP]="Operation is not supported.";var d=(function(r){function t(n,e,i){e===void 0&&(e=T[n]),r.call(this,e),this.syscall="",this.errno=n,this.code=p[n],this.path=i,this.stack=new r().stack,this.message="Error: "+this.code+": "+e+(this.path?", '"+this.path+"'":"")}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.fromJSON=function(e){var i=new t(0);return i.errno=e.errno,i.code=e.code,i.path=e.path,i.stack=e.stack,i.message=e.message,i},t.fromBuffer=function(e,i){return i===void 0&&(i=0),t.fromJSON(JSON.parse(e.toString("utf8",i+4,i+4+e.readUInt32LE(i))))},t.FileError=function(e,i){return new t(e,T[e],i)},t.ENOENT=function(e){return this.FileError(p.ENOENT,e)},t.EEXIST=function(e){return this.FileError(p.EEXIST,e)},t.EISDIR=function(e){return this.FileError(p.EISDIR,e)},t.ENOTDIR=function(e){return this.FileError(p.ENOTDIR,e)},t.EPERM=function(e){return this.FileError(p.EPERM,e)},t.ENOTEMPTY=function(e){return this.FileError(p.ENOTEMPTY,e)},t.prototype.toString=function(){return this.message},t.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},t.prototype.writeToBuffer=function(e,i){e===void 0&&(e=C.alloc(this.bufferSize())),i===void 0&&(i=0);var s=e.write(JSON.stringify(this.toJSON()),i+4);return e.writeUInt32LE(s,i),e},t.prototype.bufferSize=function(){return 4+C.byteLength(JSON.stringify(this.toJSON()))},t})(Error),H=Object.freeze({get ErrorCode(){return p},ErrorStrings:T,ApiError:d}),P;(function(r){r[r.NOP=0]="NOP",r[r.THROW_EXCEPTION=1]="THROW_EXCEPTION",r[r.TRUNCATE_FILE=2]="TRUNCATE_FILE",r[r.CREATE_FILE=3]="CREATE_FILE"})(P||(P={}));var B=function r(t){if(this.flagStr=t,r.validFlagStrs.indexOf(t)<0)throw new d(p.EINVAL,"Invalid flag: "+t)};B.getFileFlag=function(t){return B.flagCache.hasOwnProperty(t)?B.flagCache[t]:B.flagCache[t]=new B(t)},B.prototype.getFlagString=function(){return this.flagStr},B.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},B.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},B.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},B.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},B.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},B.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},B.prototype.pathExistsAction=function(){return this.isExclusive()?P.THROW_EXCEPTION:this.isTruncating()?P.TRUNCATE_FILE:P.NOP},B.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?P.CREATE_FILE:P.THROW_EXCEPTION},B.flagCache={},B.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];var q;(function(r){r[r.FILE=32768]="FILE",r[r.DIRECTORY=16384]="DIRECTORY",r[r.SYMLINK=40960]="SYMLINK"})(q||(q={}));var G=function(t,n,e,i,s,u){if(i===void 0&&(i=new Date),s===void 0&&(s=new Date),u===void 0&&(u=new Date),this.size=n,this.atime=i,this.mtime=s,this.ctime=u,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,e)this.mode=e;else switch(t){case q.FILE:this.mode=420;break;case q.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(n/512),this.mode<4096&&(this.mode|=t)};G.fromBuffer=function(t){var n=t.readUInt32LE(0),e=t.readUInt32LE(4),i=t.readDoubleLE(8),s=t.readDoubleLE(16),u=t.readDoubleLE(24);return new G(e&61440,n,e&4095,new Date(i),new Date(s),new Date(u))},G.prototype.toBuffer=function(){var t=C.alloc(32);return t.writeUInt32LE(this.size,0),t.writeUInt32LE(this.mode,4),t.writeDoubleLE(this.atime.getTime(),8),t.writeDoubleLE(this.mtime.getTime(),16),t.writeDoubleLE(this.ctime.getTime(),24),t},G.prototype.clone=function(){return new G(this.mode&61440,this.size,this.mode&4095,this.atime,this.mtime,this.ctime)},G.prototype.isFile=function(){return(this.mode&61440)===q.FILE},G.prototype.isDirectory=function(){return(this.mode&61440)===q.DIRECTORY},G.prototype.isSymbolicLink=function(){return(this.mode&61440)===q.SYMLINK},G.prototype.chmod=function(t){this.mode=this.mode&61440|t},G.prototype.isSocket=function(){return!1},G.prototype.isBlockDevice=function(){return!1},G.prototype.isCharacterDevice=function(){return!1},G.prototype.isFIFO=function(){return!1};var gt=function(r,t){return r};function tt(r){if(r)return r;throw new d(p.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function ot(r,t){switch(typeof r){case"number":return r;case"string":var n=parseInt(r,8);return isNaN(n)?t:n;default:return t}}function Yt(r){if(r instanceof Date)return r;if(typeof r=="number")return new Date(r*1e3);throw new d(p.EINVAL,"Invalid time.")}function U(r){if(r.indexOf("\0")>=0)throw new d(p.EINVAL,"Path must be a string without null bytes.");if(r==="")throw new d(p.EINVAL,"Path must not be empty.");return _.resolve(r)}function Vt(r,t,n,e){switch(typeof r){case"object":return{encoding:typeof r.encoding<"u"?r.encoding:t,flag:typeof r.flag<"u"?r.flag:n,mode:ot(r.mode,e)};case"string":return{encoding:r,flag:n,mode:e};default:return{encoding:t,flag:n,mode:e}}}function At(){}var et=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};et.prototype.initialize=function(t){if(!t.constructor.isAvailable())throw new d(p.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=t},et.prototype._toUnixTimestamp=function(t){if(typeof t=="number")return t;if(t instanceof Date)return t.getTime()/1e3;throw new Error("Cannot parse time: "+t)},et.prototype.getRootFS=function(){return this.root?this.root:null},et.prototype.rename=function(t,n,e){e===void 0&&(e=At);var i=gt(e,1);try{tt(this.root).rename(U(t),U(n),i)}catch(s){i(s)}},et.prototype.renameSync=function(t,n){tt(this.root).renameSync(U(t),U(n))},et.prototype.exists=function(t,n){n===void 0&&(n=At);var e=gt(n,1);try{return tt(this.root).exists(U(t),e)}catch{return e(!1)}},et.prototype.existsSync=function(t){try{return tt(this.root).existsSync(U(t))}catch{return!1}},et.prototype.stat=function(t,n){n===void 0&&(n=At);var e=gt(n,2);try{return tt(this.root).stat(U(t),!1,e)}catch(i){return e(i)}},et.prototype.statSync=function(t){return tt(this.root).statSync(U(t),!1)},et.prototype.lstat=function(t,n){n===void 0&&(n=At);var e=gt(n,2);try{return tt(this.root).stat(U(t),!0,e)}catch(i){return e(i)}},et.prototype.lstatSync=function(t){return tt(this.root).statSync(U(t),!0)},et.prototype.truncate=function(t,n,e){n===void 0&&(n=0),e===void 0&&(e=At);var i=0;typeof n=="function"?e=n:typeof n=="number"&&(i=n);var s=gt(e,1);try{if(i<0)throw new d(p.EINVAL);return tt(this.root).truncate(U(t),i,s)}catch(u){return s(u)}},et.prototype.truncateSync=function(t,n){if(n===void 0&&(n=0),n<0)throw new d(p.EINVAL);return tt(this.root).truncateSync(U(t),n)},et.prototype.unlink=function(t,n){n===void 0&&(n=At);var e=gt(n,1);try{return tt(this.root).unlink(U(t),e)}catch(i){return e(i)}},et.prototype.unlinkSync=function(t){return tt(this.root).unlinkSync(U(t))},et.prototype.open=function(t,n,e,i){var s=this;i===void 0&&(i=At);var u=ot(e,420);i=typeof e=="function"?e:i;var l=gt(i,2);try{tt(this.root).open(U(t),B.getFileFlag(n),u,function(m,E){E?l(m,s.getFdForFile(E)):l(m)})}catch(m){l(m)}},et.prototype.openSync=function(t,n,e){return e===void 0&&(e=420),this.getFdForFile(tt(this.root).openSync(U(t),B.getFileFlag(n),ot(e,420)))},et.prototype.readFile=function(t,n,e){n===void 0&&(n={}),e===void 0&&(e=At);var i=Vt(n,null,"r",null);e=typeof n=="function"?n:e;var s=gt(e,2);try{var u=B.getFileFlag(i.flag);return u.isReadable()?tt(this.root).readFile(U(t),i.encoding,u,s):s(new d(p.EINVAL,"Flag passed to readFile must allow for reading."))}catch(l){return s(l)}},et.prototype.readFileSync=function(t,n){n===void 0&&(n={});var e=Vt(n,null,"r",null),i=B.getFileFlag(e.flag);if(!i.isReadable())throw new d(p.EINVAL,"Flag passed to readFile must allow for reading.");return tt(this.root).readFileSync(U(t),e.encoding,i)},et.prototype.writeFile=function(t,n,e,i){e===void 0&&(e={}),i===void 0&&(i=At);var s=Vt(e,"utf8","w",420);i=typeof e=="function"?e:i;var u=gt(i,1);try{var l=B.getFileFlag(s.flag);return l.isWriteable()?tt(this.root).writeFile(U(t),n,s.encoding,l,s.mode,u):u(new d(p.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(m){return u(m)}},et.prototype.writeFileSync=function(t,n,e){var i=Vt(e,"utf8","w",420),s=B.getFileFlag(i.flag);if(!s.isWriteable())throw new d(p.EINVAL,"Flag passed to writeFile must allow for writing.");return tt(this.root).writeFileSync(U(t),n,i.encoding,s,i.mode)},et.prototype.appendFile=function(t,n,e,i){i===void 0&&(i=At);var s=Vt(e,"utf8","a",420);i=typeof e=="function"?e:i;var u=gt(i,1);try{var l=B.getFileFlag(s.flag);if(!l.isAppendable())return u(new d(p.EINVAL,"Flag passed to appendFile must allow for appending."));tt(this.root).appendFile(U(t),n,s.encoding,l,s.mode,u)}catch(m){u(m)}},et.prototype.appendFileSync=function(t,n,e){var i=Vt(e,"utf8","a",420),s=B.getFileFlag(i.flag);if(!s.isAppendable())throw new d(p.EINVAL,"Flag passed to appendFile must allow for appending.");return tt(this.root).appendFileSync(U(t),n,i.encoding,s,i.mode)},et.prototype.fstat=function(t,n){n===void 0&&(n=At);var e=gt(n,2);try{var i=this.fd2file(t);i.stat(e)}catch(s){e(s)}},et.prototype.fstatSync=function(t){return this.fd2file(t).statSync()},et.prototype.close=function(t,n){var e=this;n===void 0&&(n=At);var i=gt(n,1);try{this.fd2file(t).close(function(s){s||e.closeFd(t),i(s)})}catch(s){i(s)}},et.prototype.closeSync=function(t){this.fd2file(t).closeSync(),this.closeFd(t)},et.prototype.ftruncate=function(t,n,e){e===void 0&&(e=At);var i=typeof n=="number"?n:0;e=typeof n=="function"?n:e;var s=gt(e,1);try{var u=this.fd2file(t);if(i<0)throw new d(p.EINVAL);u.truncate(i,s)}catch(l){s(l)}},et.prototype.ftruncateSync=function(t,n){n===void 0&&(n=0);var e=this.fd2file(t);if(n<0)throw new d(p.EINVAL);e.truncateSync(n)},et.prototype.fsync=function(t,n){n===void 0&&(n=At);var e=gt(n,1);try{this.fd2file(t).sync(e)}catch(i){e(i)}},et.prototype.fsyncSync=function(t){this.fd2file(t).syncSync()},et.prototype.fdatasync=function(t,n){n===void 0&&(n=At);var e=gt(n,1);try{this.fd2file(t).datasync(e)}catch(i){e(i)}},et.prototype.fdatasyncSync=function(t){this.fd2file(t).datasyncSync()},et.prototype.write=function(t,n,e,i,s,u){u===void 0&&(u=At);var l,m,E,z=null;if(typeof n=="string"){var Z="utf8";switch(typeof e){case"function":u=e;break;case"number":z=e,Z=typeof i=="string"?i:"utf8",u=typeof s=="function"?s:u;break;default:return u=typeof i=="function"?i:typeof s=="function"?s:u,u(new d(p.EINVAL,"Invalid arguments."))}l=C.from(n,Z),m=0,E=l.length}else l=n,m=e,E=i,z=typeof s=="number"?s:null,u=typeof s=="function"?s:u;var at=gt(u,3);try{var mt=this.fd2file(t);z==null&&(z=mt.getPos()),mt.write(l,m,E,z,at)}catch(wt){at(wt)}},et.prototype.writeSync=function(t,n,e,i,s){var u,l=0,m,E;if(typeof n=="string"){E=typeof e=="number"?e:null;var z=typeof i=="string"?i:"utf8";l=0,u=C.from(n,z),m=u.length}else u=n,l=e,m=i,E=typeof s=="number"?s:null;var Z=this.fd2file(t);return E==null&&(E=Z.getPos()),Z.writeSync(u,l,m,E)},et.prototype.read=function(t,n,e,i,s,u){u===void 0&&(u=At);var l,m,E,z,Z;if(typeof n=="number"){E=n,l=e;var at=i;u=typeof s=="function"?s:u,m=0,z=C.alloc(E),Z=gt(function(wt,Lt,Bt){if(wt)return u(wt);u(wt,Bt.toString(at),Lt)},3)}else z=n,m=e,E=i,l=s,Z=gt(u,3);try{var mt=this.fd2file(t);l==null&&(l=mt.getPos()),mt.read(z,m,E,l,Z)}catch(wt){Z(wt)}},et.prototype.readSync=function(t,n,e,i,s){var u=!1,l,m,E,z,Z="utf8";typeof n=="number"?(E=n,z=e,Z=i,m=0,l=C.alloc(E),u=!0):(l=n,m=e,E=i,z=s);var at=this.fd2file(t);z==null&&(z=at.getPos());var mt=at.readSync(l,m,E,z);return u?[l.toString(Z),mt]:mt},et.prototype.fchown=function(t,n,e,i){i===void 0&&(i=At);var s=gt(i,1);try{this.fd2file(t).chown(n,e,s)}catch(u){s(u)}},et.prototype.fchownSync=function(t,n,e){this.fd2file(t).chownSync(n,e)},et.prototype.fchmod=function(t,n,e){var i=gt(e,1);try{var s=typeof n=="string"?parseInt(n,8):n;this.fd2file(t).chmod(s,i)}catch(u){i(u)}},et.prototype.fchmodSync=function(t,n){var e=typeof n=="string"?parseInt(n,8):n;this.fd2file(t).chmodSync(e)},et.prototype.futimes=function(t,n,e,i){i===void 0&&(i=At);var s=gt(i,1);try{var u=this.fd2file(t);typeof n=="number"&&(n=new Date(n*1e3)),typeof e=="number"&&(e=new Date(e*1e3)),u.utimes(n,e,s)}catch(l){s(l)}},et.prototype.futimesSync=function(t,n,e){this.fd2file(t).utimesSync(Yt(n),Yt(e))},et.prototype.rmdir=function(t,n){n===void 0&&(n=At);var e=gt(n,1);try{t=U(t),tt(this.root).rmdir(t,e)}catch(i){e(i)}},et.prototype.rmdirSync=function(t){return t=U(t),tt(this.root).rmdirSync(t)},et.prototype.mkdir=function(t,n,e){e===void 0&&(e=At),typeof n=="function"&&(e=n,n=511);var i=gt(e,1);try{t=U(t),tt(this.root).mkdir(t,n,i)}catch(s){i(s)}},et.prototype.mkdirSync=function(t,n){tt(this.root).mkdirSync(U(t),ot(n,511))},et.prototype.readdir=function(t,n){n===void 0&&(n=At);var e=gt(n,2);try{t=U(t),tt(this.root).readdir(t,e)}catch(i){e(i)}},et.prototype.readdirSync=function(t){return t=U(t),tt(this.root).readdirSync(t)},et.prototype.link=function(t,n,e){e===void 0&&(e=At);var i=gt(e,1);try{t=U(t),n=U(n),tt(this.root).link(t,n,i)}catch(s){i(s)}},et.prototype.linkSync=function(t,n){return t=U(t),n=U(n),tt(this.root).linkSync(t,n)},et.prototype.symlink=function(t,n,e,i){i===void 0&&(i=At);var s=typeof e=="string"?e:"file";i=typeof e=="function"?e:i;var u=gt(i,1);try{if(s!=="file"&&s!=="dir")return u(new d(p.EINVAL,"Invalid type: "+s));t=U(t),n=U(n),tt(this.root).symlink(t,n,s,u)}catch(l){u(l)}},et.prototype.symlinkSync=function(t,n,e){if(!e)e="file";else if(e!=="file"&&e!=="dir")throw new d(p.EINVAL,"Invalid type: "+e);return t=U(t),n=U(n),tt(this.root).symlinkSync(t,n,e)},et.prototype.readlink=function(t,n){n===void 0&&(n=At);var e=gt(n,2);try{t=U(t),tt(this.root).readlink(t,e)}catch(i){e(i)}},et.prototype.readlinkSync=function(t){return t=U(t),tt(this.root).readlinkSync(t)},et.prototype.chown=function(t,n,e,i){i===void 0&&(i=At);var s=gt(i,1);try{t=U(t),tt(this.root).chown(t,!1,n,e,s)}catch(u){s(u)}},et.prototype.chownSync=function(t,n,e){t=U(t),tt(this.root).chownSync(t,!1,n,e)},et.prototype.lchown=function(t,n,e,i){i===void 0&&(i=At);var s=gt(i,1);try{t=U(t),tt(this.root).chown(t,!0,n,e,s)}catch(u){s(u)}},et.prototype.lchownSync=function(t,n,e){t=U(t),tt(this.root).chownSync(t,!0,n,e)},et.prototype.chmod=function(t,n,e){e===void 0&&(e=At);var i=gt(e,1);try{var s=ot(n,-1);if(s<0)throw new d(p.EINVAL,"Invalid mode.");tt(this.root).chmod(U(t),!1,s,i)}catch(u){i(u)}},et.prototype.chmodSync=function(t,n){var e=ot(n,-1);if(e<0)throw new d(p.EINVAL,"Invalid mode.");t=U(t),tt(this.root).chmodSync(t,!1,e)},et.prototype.lchmod=function(t,n,e){e===void 0&&(e=At);var i=gt(e,1);try{var s=ot(n,-1);if(s<0)throw new d(p.EINVAL,"Invalid mode.");tt(this.root).chmod(U(t),!0,s,i)}catch(u){i(u)}},et.prototype.lchmodSync=function(t,n){var e=ot(n,-1);if(e<1)throw new d(p.EINVAL,"Invalid mode.");tt(this.root).chmodSync(U(t),!0,e)},et.prototype.utimes=function(t,n,e,i){i===void 0&&(i=At);var s=gt(i,1);try{tt(this.root).utimes(U(t),Yt(n),Yt(e),s)}catch(u){s(u)}},et.prototype.utimesSync=function(t,n,e){tt(this.root).utimesSync(U(t),Yt(n),Yt(e))},et.prototype.realpath=function(t,n,e){e===void 0&&(e=At);var i=typeof n=="object"?n:{};e=typeof n=="function"?n:At;var s=gt(e,2);try{t=U(t),tt(this.root).realpath(t,i,s)}catch(u){s(u)}},et.prototype.realpathSync=function(t,n){return n===void 0&&(n={}),t=U(t),tt(this.root).realpathSync(t,n)},et.prototype.watchFile=function(t,n,e){throw new d(p.ENOTSUP)},et.prototype.unwatchFile=function(t,n){throw new d(p.ENOTSUP)},et.prototype.watch=function(t,n,e){throw new d(p.ENOTSUP)},et.prototype.access=function(t,n,e){throw new d(p.ENOTSUP)},et.prototype.accessSync=function(t,n){throw new d(p.ENOTSUP)},et.prototype.createReadStream=function(t,n){throw new d(p.ENOTSUP)},et.prototype.createWriteStream=function(t,n){throw new d(p.ENOTSUP)},et.prototype.wrapCallbacks=function(t){gt=t},et.prototype.getFdForFile=function(t){var n=this.nextFd++;return this.fdMap[n]=t,n},et.prototype.fd2file=function(t){var n=this.fdMap[t];if(n)return n;throw new d(p.EBADF,"Invalid file descriptor.")},et.prototype.closeFd=function(t){delete this.fdMap[t]},et.Stats=G;var vt=new et,bt={},Qt=et.prototype;Object.keys(Qt).forEach(function(r){typeof vt[r]=="function"?bt[r]=function(){return vt[r].apply(vt,arguments)}:bt[r]=vt[r]}),bt.changeFSModule=function(r){vt=r},bt.getFSModule=function(){return vt},bt.FS=et;function Ot(r,t,n,e,i){return r<t||n<t?r>n?n+1:r+1:e===i?t:t+1}function Kt(r,t){if(r===t)return 0;if(r.length>t.length){var n=r;r=t,t=n}for(var e=r.length,i=t.length;e>0&&r.charCodeAt(e-1)===t.charCodeAt(i-1);)e--,i--;for(var s=0;s<e&&r.charCodeAt(s)===t.charCodeAt(s);)s++;if(e-=s,i-=s,e===0||i===1)return i;for(var u=new Array(e<<1),l=0;l<e;)u[e+l]=r.charCodeAt(s+l),u[l]=++l;var m,E,z,Z,at;for(m=0;m+3<i;)for(var mt=t.charCodeAt(s+(E=m)),wt=t.charCodeAt(s+(z=m+1)),Lt=t.charCodeAt(s+(Z=m+2)),Bt=t.charCodeAt(s+(at=m+3)),$t=m+=4,Ie=0;Ie<e;){var Be=u[e+Ie],dn=u[Ie];E=Ot(dn,E,z,mt,Be),z=Ot(E,z,Z,wt,Be),Z=Ot(z,Z,at,Lt,Be),$t=Ot(Z,at,$t,Bt,Be),u[Ie++]=$t,at=Z,Z=z,z=E,E=dn}for(var yn=0;m<i;){var lr=t.charCodeAt(s+(E=m));yn=++m;for(var bn=0;bn<e;bn++){var In=u[bn];u[bn]=yn=In<E||yn<E?In>yn?yn+1:In+1:lr===u[e+bn]?E:E+1,E=In}}return yn}function zt(r,t,n){r&&console.warn("["+t+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+t+".Create("+JSON.stringify(n)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}var Ct=typeof navigator<"u"&&!!(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||navigator.userAgent.indexOf("Trident")!==-1),_e=typeof window>"u";function $(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function J(r,t,n){n.existsSync(r)||(J(_.dirname(r),t,n),n.mkdirSync(r,t))}function pt(r){var t=Rt(r),n=t.byteOffset,e=t.byteLength;return n===0&&e===t.buffer.byteLength?t.buffer:t.buffer.slice(n,n+e)}function Rt(r){return r instanceof Uint8Array?r:new Uint8Array(r)}function qt(r){return r instanceof C?r:r instanceof Uint8Array?Wt(r):C.from(r)}function Wt(r){return r instanceof C?r:r.byteOffset===0&&r.byteLength===r.buffer.byteLength?Ht(r.buffer):C.from(r.buffer,r.byteOffset,r.byteLength)}function Ht(r){return C.from(r)}function te(r,t,n){if(t===void 0&&(t=0),n===void 0&&(n=r.length),t<0||n<0||n>r.length||t>n)throw new TypeError("Invalid slice bounds on buffer of length "+r.length+": ["+t+", "+n+"]");if(r.length===0)return ae();var e=Rt(r),i=r[0],s=(i+1)%255;return r[0]=s,e[0]===s?(e[0]=i,Wt(e.slice(t,n))):(r[0]=i,Wt(e.subarray(t,n)))}var he=null;function ae(){return he||(he=C.alloc(0))}function x(r,t){C.isBuffer(r)?t():t(new d(p.EINVAL,"option must be a Buffer."))}function A(r,t,n){var e=r.Options,i=r.Name,s=0,u=!1,l=!1;function m(at){u||(at&&(u=!0,n(at)),s--,s===0&&l&&n())}var E=function(at){if(e.hasOwnProperty(at)){var mt=e[at],wt=t[at];if(wt==null){if(!mt.optional){var Lt=Object.keys(t).filter(function($t){return!($t in e)}).map(function($t){return{str:$t,distance:Kt(at,$t)}}).filter(function($t){return $t.distance<5}).sort(function($t,Ie){return $t.distance-Ie.distance});return u?{}:(u=!0,{v:n(new d(p.EINVAL,"["+i+"] Required option '"+at+"' not provided."+(Lt.length>0?" You provided unrecognized option '"+Lt[0].str+"'; perhaps you meant to type '"+at+"'.":"")+`
Option description: `+mt.description))})}}else{var Bt=!1;if(Array.isArray(mt.type)?Bt=mt.type.indexOf(typeof wt)!==-1:Bt=typeof wt===mt.type,Bt)mt.validator&&(s++,mt.validator(wt,m));else return u?{}:(u=!0,{v:n(new d(p.EINVAL,"["+i+"] Value provided for option "+at+" is not the proper type. Expected "+(Array.isArray(mt.type)?"one of {"+mt.type.join(", ")+"}":mt.type)+", but received "+typeof wt+`
Option description: `+mt.description))})}}};for(var z in e){var Z=E(z);if(Z)return Z.v}l=!0,s===0&&!u&&n()}var ut=Object.freeze({deprecationMessage:zt,isIE:Ct,isWebWorker:_e,fail:$,mkdirpSync:J,buffer2ArrayBuffer:pt,buffer2Uint8array:Rt,arrayish2Buffer:qt,uint8Array2Buffer:Wt,arrayBuffer2Buffer:Ht,copyingSlice:te,emptyBuffer:ae,bufferValidator:x,checkOptions:A}),_t=function(t){this.fs=t,this.nodefs=t.getNodeFS(),this.FS=t.getFS(),this.PATH=t.getPATH(),this.ERRNO_CODES=t.getERRNO_CODES()};_t.prototype.open=function(t){var n=this.fs.realPath(t.node),e=this.FS;try{e.isFile(t.node.mode)&&(t.nfd=this.nodefs.openSync(n,this.fs.flagsToPermissionString(t.flags)))}catch(i){throw i.code?new e.ErrnoError(this.ERRNO_CODES[i.code]):i}},_t.prototype.close=function(t){var n=this.FS;try{n.isFile(t.node.mode)&&t.nfd&&this.nodefs.closeSync(t.nfd)}catch(e){throw e.code?new n.ErrnoError(this.ERRNO_CODES[e.code]):e}},_t.prototype.read=function(t,n,e,i,s){try{return this.nodefs.readSync(t.nfd,Wt(n),e,i,s)}catch(u){throw new this.FS.ErrnoError(this.ERRNO_CODES[u.code])}},_t.prototype.write=function(t,n,e,i,s){try{return this.nodefs.writeSync(t.nfd,Wt(n),e,i,s)}catch(u){throw new this.FS.ErrnoError(this.ERRNO_CODES[u.code])}},_t.prototype.llseek=function(t,n,e){var i=n;if(e===1)i+=t.position;else if(e===2&&this.FS.isFile(t.node.mode))try{var s=this.nodefs.fstatSync(t.nfd);i+=s.size}catch(u){throw new this.FS.ErrnoError(this.ERRNO_CODES[u.code])}if(i<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return t.position=i,i};var Nt=function(t){this.fs=t,this.nodefs=t.getNodeFS(),this.FS=t.getFS(),this.PATH=t.getPATH(),this.ERRNO_CODES=t.getERRNO_CODES()};Nt.prototype.getattr=function(t){var n=this.fs.realPath(t),e;try{e=this.nodefs.lstatSync(n)}catch(i){throw i.code?new this.FS.ErrnoError(this.ERRNO_CODES[i.code]):i}return{dev:e.dev,ino:e.ino,mode:e.mode,nlink:e.nlink,uid:e.uid,gid:e.gid,rdev:e.rdev,size:e.size,atime:e.atime,mtime:e.mtime,ctime:e.ctime,blksize:e.blksize,blocks:e.blocks}},Nt.prototype.setattr=function(t,n){var e=this.fs.realPath(t);try{if(n.mode!==void 0&&(this.nodefs.chmodSync(e,n.mode),t.mode=n.mode),n.timestamp!==void 0){var i=new Date(n.timestamp);this.nodefs.utimesSync(e,i,i)}}catch(s){if(!s.code)throw s;if(s.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[s.code])}if(n.size!==void 0)try{this.nodefs.truncateSync(e,n.size)}catch(s){throw s.code?new this.FS.ErrnoError(this.ERRNO_CODES[s.code]):s}},Nt.prototype.lookup=function(t,n){var e=this.PATH.join2(this.fs.realPath(t),n),i=this.fs.getMode(e);return this.fs.createNode(t,n,i)},Nt.prototype.mknod=function(t,n,e,i){var s=this.fs.createNode(t,n,e,i),u=this.fs.realPath(s);try{this.FS.isDir(s.mode)?this.nodefs.mkdirSync(u,s.mode):this.nodefs.writeFileSync(u,"",{mode:s.mode})}catch(l){throw l.code?new this.FS.ErrnoError(this.ERRNO_CODES[l.code]):l}return s},Nt.prototype.rename=function(t,n,e){var i=this.fs.realPath(t),s=this.PATH.join2(this.fs.realPath(n),e);try{this.nodefs.renameSync(i,s),t.name=e,t.parent=n}catch(u){throw u.code?new this.FS.ErrnoError(this.ERRNO_CODES[u.code]):u}},Nt.prototype.unlink=function(t,n){var e=this.PATH.join2(this.fs.realPath(t),n);try{this.nodefs.unlinkSync(e)}catch(i){throw i.code?new this.FS.ErrnoError(this.ERRNO_CODES[i.code]):i}},Nt.prototype.rmdir=function(t,n){var e=this.PATH.join2(this.fs.realPath(t),n);try{this.nodefs.rmdirSync(e)}catch(i){throw i.code?new this.FS.ErrnoError(this.ERRNO_CODES[i.code]):i}},Nt.prototype.readdir=function(t){var n=this.fs.realPath(t);try{var e=this.nodefs.readdirSync(n);return e.push(".",".."),e}catch(i){throw i.code?new this.FS.ErrnoError(this.ERRNO_CODES[i.code]):i}},Nt.prototype.symlink=function(t,n,e){var i=this.PATH.join2(this.fs.realPath(t),n);try{this.nodefs.symlinkSync(e,i)}catch(s){throw s.code?new this.FS.ErrnoError(this.ERRNO_CODES[s.code]):s}},Nt.prototype.readlink=function(t){var n=this.fs.realPath(t);try{return this.nodefs.readlinkSync(n)}catch(e){throw e.code?new this.FS.ErrnoError(this.ERRNO_CODES[e.code]):e}};var jt=function(t,n,e,i){t===void 0&&(t=self.FS),n===void 0&&(n=self.PATH),e===void 0&&(e=self.ERRNO_CODES),i===void 0&&(i=bt),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=i,this.FS=t,this.PATH=n,this.ERRNO_CODES=e,this.node_ops=new Nt(this),this.stream_ops=new _t(this)};jt.prototype.mount=function(t){return this.createNode(null,"/",this.getMode(t.opts.root),0)},jt.prototype.createNode=function(t,n,e,i){var s=this.FS;if(!s.isDir(e)&&!s.isFile(e)&&!s.isLink(e))throw new s.ErrnoError(this.ERRNO_CODES.EINVAL);var u=s.createNode(t,n,e);return u.node_ops=this.node_ops,u.stream_ops=this.stream_ops,u},jt.prototype.getMode=function(t){var n;try{n=this.nodefs.lstatSync(t)}catch(e){throw e.code?new this.FS.ErrnoError(this.ERRNO_CODES[e.code]):e}return n.mode},jt.prototype.realPath=function(t){for(var n=[];t.parent!==t;)n.push(t.name),t=t.parent;return n.push(t.mount.opts.root),n.reverse(),this.PATH.join.apply(null,n)},jt.prototype.flagsToPermissionString=function(t){var n=typeof t=="string"?parseInt(t,10):t;return n&=8191,n in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[n]:t},jt.prototype.getNodeFS=function(){return this.nodefs},jt.prototype.getFS=function(){return this.FS},jt.prototype.getPATH=function(){return this.PATH},jt.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var dt=function(){};dt.prototype.supportsLinks=function(){return!1},dt.prototype.diskSpace=function(t,n){n(0,0)},dt.prototype.openFile=function(t,n,e){throw new d(p.ENOTSUP)},dt.prototype.createFile=function(t,n,e,i){throw new d(p.ENOTSUP)},dt.prototype.open=function(t,n,e,i){var s=this,u=function(l,m){if(l)switch(n.pathNotExistsAction()){case P.CREATE_FILE:return s.stat(_.dirname(t),!1,function(E,z){E?i(E):z&&!z.isDirectory()?i(d.ENOTDIR(_.dirname(t))):s.createFile(t,n,e,i)});case P.THROW_EXCEPTION:return i(d.ENOENT(t));default:return i(new d(p.EINVAL,"Invalid FileFlag object."))}else{if(m&&m.isDirectory())return i(d.EISDIR(t));switch(n.pathExistsAction()){case P.THROW_EXCEPTION:return i(d.EEXIST(t));case P.TRUNCATE_FILE:return s.openFile(t,n,function(E,z){E?i(E):z?z.truncate(0,function(){z.sync(function(){i(null,z)})}):$()});case P.NOP:return s.openFile(t,n,i);default:return i(new d(p.EINVAL,"Invalid FileFlag object."))}}};this.stat(t,!1,u)},dt.prototype.rename=function(t,n,e){e(new d(p.ENOTSUP))},dt.prototype.renameSync=function(t,n){throw new d(p.ENOTSUP)},dt.prototype.stat=function(t,n,e){e(new d(p.ENOTSUP))},dt.prototype.statSync=function(t,n){throw new d(p.ENOTSUP)},dt.prototype.openFileSync=function(t,n,e){throw new d(p.ENOTSUP)},dt.prototype.createFileSync=function(t,n,e){throw new d(p.ENOTSUP)},dt.prototype.openSync=function(t,n,e){var i;try{i=this.statSync(t,!1)}catch{switch(n.pathNotExistsAction()){case P.CREATE_FILE:var s=this.statSync(_.dirname(t),!1);if(!s.isDirectory())throw d.ENOTDIR(_.dirname(t));return this.createFileSync(t,n,e);case P.THROW_EXCEPTION:throw d.ENOENT(t);default:throw new d(p.EINVAL,"Invalid FileFlag object.")}}if(i.isDirectory())throw d.EISDIR(t);switch(n.pathExistsAction()){case P.THROW_EXCEPTION:throw d.EEXIST(t);case P.TRUNCATE_FILE:return this.unlinkSync(t),this.createFileSync(t,n,i.mode);case P.NOP:return this.openFileSync(t,n,e);default:throw new d(p.EINVAL,"Invalid FileFlag object.")}},dt.prototype.unlink=function(t,n){n(new d(p.ENOTSUP))},dt.prototype.unlinkSync=function(t){throw new d(p.ENOTSUP)},dt.prototype.rmdir=function(t,n){n(new d(p.ENOTSUP))},dt.prototype.rmdirSync=function(t){throw new d(p.ENOTSUP)},dt.prototype.mkdir=function(t,n,e){e(new d(p.ENOTSUP))},dt.prototype.mkdirSync=function(t,n){throw new d(p.ENOTSUP)},dt.prototype.readdir=function(t,n){n(new d(p.ENOTSUP))},dt.prototype.readdirSync=function(t){throw new d(p.ENOTSUP)},dt.prototype.exists=function(t,n){this.stat(t,null,function(e){n(!e)})},dt.prototype.existsSync=function(t){try{return this.statSync(t,!0),!0}catch{return!1}},dt.prototype.realpath=function(t,n,e){if(this.supportsLinks())for(var i=t.split(_.sep),s=0;s<i.length;s++){var u=i.slice(0,s+1);i[s]=_.join.apply(null,u)}else this.exists(t,function(l){l?e(null,t):e(d.ENOENT(t))})},dt.prototype.realpathSync=function(t,n){if(this.supportsLinks()){for(var e=t.split(_.sep),i=0;i<e.length;i++){var s=e.slice(0,i+1);e[i]=_.join.apply(_,s)}return e.join(_.sep)}else{if(this.existsSync(t))return t;throw d.ENOENT(t)}},dt.prototype.truncate=function(t,n,e){this.open(t,B.getFileFlag("r+"),420,(function(i,s){if(i)return e(i);s.truncate(n,(function(u){s.close((function(l){e(u||l)}))}))}))},dt.prototype.truncateSync=function(t,n){var e=this.openSync(t,B.getFileFlag("r+"),420);try{e.truncateSync(n)}catch(i){throw i}finally{e.closeSync()}},dt.prototype.readFile=function(t,n,e,i){var s=i;this.open(t,e,420,function(u,l){if(u)return i(u);i=function(m,E){l.close(function(z){return m||(m=z),s(m,E)})},l.stat(function(m,E){if(m)return i(m);var z=C.alloc(E.size);l.read(z,0,E.size,0,function(Z){if(Z)return i(Z);if(n===null)return i(Z,z);try{i(null,z.toString(n))}catch(at){i(at)}})})})},dt.prototype.readFileSync=function(t,n,e){var i=this.openSync(t,e,420);try{var s=i.statSync(),u=C.alloc(s.size);return i.readSync(u,0,s.size,0),i.closeSync(),n===null?u:u.toString(n)}finally{i.closeSync()}},dt.prototype.writeFile=function(t,n,e,i,s,u){var l=u;this.open(t,i,420,function(m,E){if(m)return u(m);u=function(z){E.close(function(Z){l(z||Z)})};try{typeof n=="string"&&(n=C.from(n,e))}catch(z){return u(z)}E.write(n,0,n.length,0,u)})},dt.prototype.writeFileSync=function(t,n,e,i,s){var u=this.openSync(t,i,s);try{typeof n=="string"&&(n=C.from(n,e)),u.writeSync(n,0,n.length,0)}finally{u.closeSync()}},dt.prototype.appendFile=function(t,n,e,i,s,u){var l=u;this.open(t,i,s,function(m,E){if(m)return u(m);u=function(z){E.close(function(Z){l(z||Z)})},typeof n=="string"&&(n=C.from(n,e)),E.write(n,0,n.length,null,u)})},dt.prototype.appendFileSync=function(t,n,e,i,s){var u=this.openSync(t,i,s);try{typeof n=="string"&&(n=C.from(n,e)),u.writeSync(n,0,n.length,null)}finally{u.closeSync()}},dt.prototype.chmod=function(t,n,e,i){i(new d(p.ENOTSUP))},dt.prototype.chmodSync=function(t,n,e){throw new d(p.ENOTSUP)},dt.prototype.chown=function(t,n,e,i,s){s(new d(p.ENOTSUP))},dt.prototype.chownSync=function(t,n,e,i){throw new d(p.ENOTSUP)},dt.prototype.utimes=function(t,n,e,i){i(new d(p.ENOTSUP))},dt.prototype.utimesSync=function(t,n,e){throw new d(p.ENOTSUP)},dt.prototype.link=function(t,n,e){e(new d(p.ENOTSUP))},dt.prototype.linkSync=function(t,n){throw new d(p.ENOTSUP)},dt.prototype.symlink=function(t,n,e,i){i(new d(p.ENOTSUP))},dt.prototype.symlinkSync=function(t,n,e){throw new d(p.ENOTSUP)},dt.prototype.readlink=function(t,n){n(new d(p.ENOTSUP))},dt.prototype.readlinkSync=function(t){throw new d(p.ENOTSUP)};var ge=(function(r){function t(){r.apply(this,arguments)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.supportsSynch=function(){return!0},t.prototype.rename=function(e,i,s){try{this.renameSync(e,i),s()}catch(u){s(u)}},t.prototype.stat=function(e,i,s){try{s(null,this.statSync(e,i))}catch(u){s(u)}},t.prototype.open=function(e,i,s,u){try{u(null,this.openSync(e,i,s))}catch(l){u(l)}},t.prototype.unlink=function(e,i){try{this.unlinkSync(e),i()}catch(s){i(s)}},t.prototype.rmdir=function(e,i){try{this.rmdirSync(e),i()}catch(s){i(s)}},t.prototype.mkdir=function(e,i,s){try{this.mkdirSync(e,i),s()}catch(u){s(u)}},t.prototype.readdir=function(e,i){try{i(null,this.readdirSync(e))}catch(s){i(s)}},t.prototype.chmod=function(e,i,s,u){try{this.chmodSync(e,i,s),u()}catch(l){u(l)}},t.prototype.chown=function(e,i,s,u,l){try{this.chownSync(e,i,s,u),l()}catch(m){l(m)}},t.prototype.utimes=function(e,i,s,u){try{this.utimesSync(e,i,s),u()}catch(l){u(l)}},t.prototype.link=function(e,i,s){try{this.linkSync(e,i),s()}catch(u){s(u)}},t.prototype.symlink=function(e,i,s,u){try{this.symlinkSync(e,i,s),u()}catch(l){u(l)}},t.prototype.readlink=function(e,i){try{i(null,this.readlinkSync(e))}catch(s){i(s)}},t})(dt),Mt=function(){};Mt.prototype.sync=function(t){t(new d(p.ENOTSUP))},Mt.prototype.syncSync=function(){throw new d(p.ENOTSUP)},Mt.prototype.datasync=function(t){this.sync(t)},Mt.prototype.datasyncSync=function(){return this.syncSync()},Mt.prototype.chown=function(t,n,e){e(new d(p.ENOTSUP))},Mt.prototype.chownSync=function(t,n){throw new d(p.ENOTSUP)},Mt.prototype.chmod=function(t,n){n(new d(p.ENOTSUP))},Mt.prototype.chmodSync=function(t){throw new d(p.ENOTSUP)},Mt.prototype.utimes=function(t,n,e){e(new d(p.ENOTSUP))},Mt.prototype.utimesSync=function(t,n){throw new d(p.ENOTSUP)};var xe=(function(r){function t(n,e,i,s,u){if(r.call(this),this._pos=0,this._dirty=!1,this._fs=n,this._path=e,this._flag=i,this._stat=s,u?this._buffer=u:this._buffer=ae(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.getBuffer=function(){return this._buffer},t.prototype.getStats=function(){return this._stat},t.prototype.getFlag=function(){return this._flag},t.prototype.getPath=function(){return this._path},t.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},t.prototype.advancePos=function(e){return this._pos+=e},t.prototype.setPos=function(e){return this._pos=e},t.prototype.sync=function(e){try{this.syncSync(),e()}catch(i){e(i)}},t.prototype.syncSync=function(){throw new d(p.ENOTSUP)},t.prototype.close=function(e){try{this.closeSync(),e()}catch(i){e(i)}},t.prototype.closeSync=function(){throw new d(p.ENOTSUP)},t.prototype.stat=function(e){try{e(null,this._stat.clone())}catch(i){e(i)}},t.prototype.statSync=function(){return this._stat.clone()},t.prototype.truncate=function(e,i){try{this.truncateSync(e),this._flag.isSynchronous()&&!bt.getRootFS().supportsSynch()&&this.sync(i),i()}catch(s){return i(s)}},t.prototype.truncateSync=function(e){if(this._dirty=!0,!this._flag.isWriteable())throw new d(p.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,e>this._buffer.length){var i=C.alloc(e-this._buffer.length,0);this.writeSync(i,0,i.length,this._buffer.length),this._flag.isSynchronous()&&bt.getRootFS().supportsSynch()&&this.syncSync();return}this._stat.size=e;var s=C.alloc(e);this._buffer.copy(s,0,0,e),this._buffer=s,this._flag.isSynchronous()&&bt.getRootFS().supportsSynch()&&this.syncSync()},t.prototype.write=function(e,i,s,u,l){try{l(null,this.writeSync(e,i,s,u),e)}catch(m){l(m)}},t.prototype.writeSync=function(e,i,s,u){if(this._dirty=!0,u==null&&(u=this.getPos()),!this._flag.isWriteable())throw new d(p.EPERM,"File not opened with a writeable mode.");var l=u+s;if(l>this._stat.size&&(this._stat.size=l,l>this._buffer.length)){var m=C.alloc(l);this._buffer.copy(m),this._buffer=m}var E=e.copy(this._buffer,u,i,i+s);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),E):(this.setPos(u+E),E)},t.prototype.read=function(e,i,s,u,l){try{l(null,this.readSync(e,i,s,u),e)}catch(m){l(m)}},t.prototype.readSync=function(e,i,s,u){if(!this._flag.isReadable())throw new d(p.EPERM,"File not opened with a readable mode.");u==null&&(u=this.getPos());var l=u+s;l>this._stat.size&&(s=this._stat.size-u);var m=this._buffer.copy(e,i,u,u+s);return this._stat.atime=new Date,this._pos=u+s,m},t.prototype.chmod=function(e,i){try{this.chmodSync(e),i()}catch(s){i(s)}},t.prototype.chmodSync=function(e){if(!this._fs.supportsProps())throw new d(p.ENOTSUP);this._dirty=!0,this._stat.chmod(e),this.syncSync()},t.prototype.isDirty=function(){return this._dirty},t.prototype.resetDirty=function(){this._dirty=!1},t})(Mt),Ne=(function(r){function t(n,e,i,s,u){r.call(this,n,e,i,s,u)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){e()},t.prototype.syncSync=function(){},t.prototype.close=function(e){e()},t.prototype.closeSync=function(){},t})(xe),We=(function(r){function t(n,e,i,s,u){r.call(this,n,e,i,s,u)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},t.prototype.closeSync=function(){this.syncSync()},t})(xe),k=(function(r){function t(n,e,i){if(i===void 0&&(i=!0),r.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=n,this._async=e,!n.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");zt(i,t.Name,{sync:"sync file system instance",async:"async file system instance"})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){try{var s=new t(e.sync,e.async,!1);s.initialize(function(u){u?i(u):i(null,s)},!1)}catch(u){i(u)}},t.isAvailable=function(){return!0},t.prototype.getName=function(){return t.Name},t.prototype._syncSync=function(e){this._sync.writeFileSync(e.getPath(),e.getBuffer(),null,B.getFileFlag("w"),e.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[e.getPath(),e.getBuffer(),null,e.getFlag(),e.getStats().mode]})},t.prototype.initialize=function(e,i){var s=this;i===void 0&&(i=!0),i&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var u=this._initializeCallbacks,l=function(Z){s._isInitialized=!Z,s._initializeCallbacks=[],u.forEach(function(at){return at(Z)})};if(this._isInitialized)e();else if(u.push(e)===1){var m=function(Z,at,mt){Z!=="/"&&s._sync.mkdirSync(Z,at),s._async.readdir(Z,function(wt,Lt){var Bt=0;function $t(Ie){Ie?mt(Ie):Bt<Lt.length?(z(_.join(Z,Lt[Bt]),$t),Bt++):mt()}wt?mt(wt):$t()})},E=function(Z,at,mt){s._async.readFile(Z,null,B.getFileFlag("r"),function(wt,Lt){if(wt)mt(wt);else try{s._sync.writeFileSync(Z,Lt,null,B.getFileFlag("w"),at)}catch(Bt){wt=Bt}finally{mt(wt)}})},z=function(Z,at){s._async.stat(Z,!1,function(mt,wt){mt?at(mt):wt.isDirectory()?m(Z,wt.mode,at):E(Z,wt.mode,at)})};m("/",0,l)}},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},t.prototype.renameSync=function(e,i){this.checkInitialized(),this._sync.renameSync(e,i),this.enqueueOp({apiMethod:"rename",arguments:[e,i]})},t.prototype.statSync=function(e,i){return this.checkInitialized(),this._sync.statSync(e,i)},t.prototype.openSync=function(e,i,s){this.checkInitialized();var u=this._sync.openSync(e,i,s);return u.closeSync(),new We(this,e,i,this._sync.statSync(e,!1),this._sync.readFileSync(e,null,B.getFileFlag("r")))},t.prototype.unlinkSync=function(e){this.checkInitialized(),this._sync.unlinkSync(e),this.enqueueOp({apiMethod:"unlink",arguments:[e]})},t.prototype.rmdirSync=function(e){this.checkInitialized(),this._sync.rmdirSync(e),this.enqueueOp({apiMethod:"rmdir",arguments:[e]})},t.prototype.mkdirSync=function(e,i){this.checkInitialized(),this._sync.mkdirSync(e,i),this.enqueueOp({apiMethod:"mkdir",arguments:[e,i]})},t.prototype.readdirSync=function(e){return this.checkInitialized(),this._sync.readdirSync(e)},t.prototype.existsSync=function(e){return this.checkInitialized(),this._sync.existsSync(e)},t.prototype.chmodSync=function(e,i,s){this.checkInitialized(),this._sync.chmodSync(e,i,s),this.enqueueOp({apiMethod:"chmod",arguments:[e,i,s]})},t.prototype.chownSync=function(e,i,s,u){this.checkInitialized(),this._sync.chownSync(e,i,s,u),this.enqueueOp({apiMethod:"chown",arguments:[e,i,s,u]})},t.prototype.utimesSync=function(e,i,s){this.checkInitialized(),this._sync.utimesSync(e,i,s),this.enqueueOp({apiMethod:"utimes",arguments:[e,i,s]})},t.prototype.checkInitialized=function(){if(!this._isInitialized)throw new d(p.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},t.prototype.enqueueOp=function(e){var i=this;if(this._queue.push(e),!this._queueRunning){this._queueRunning=!0;var s=function(u){if(u&&console.error("WARNING: File system has desynchronized. Received following error: "+u+`
$`),i._queue.length>0){var l=i._queue.shift(),m=l.arguments;m.push(s),i._async[l.apiMethod].apply(i._async,m)}else i._queueRunning=!1};s()}},t})(ge);k.Name="AsyncMirror",k.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};function y(r,t,n){switch(n.length){case 0:return r.call(t);case 1:return r.call(t,n[0]);case 2:return r.call(t,n[0],n[1]);case 3:return r.call(t,n[0],n[1],n[2])}return r.apply(t,n)}var v=Math.max;function D(r,t,n){return t=v(t===void 0?r.length-1:t,0),function(){for(var e=arguments,i=-1,s=v(e.length-t,0),u=Array(s);++i<s;)u[i]=e[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=e[i];return l[t]=n(u),y(r,this,l)}}function K(r){return r}function it(r,t){return D(r,t,K)}var lt=function(r){return it(function(t){var n=t.pop();r.call(this,t,n)})};function Jt(r){return it(function(t,n){var e=lt(function(i,s){var u=this;return r(t,function(l,m){l.apply(u,i.concat(m))},s)});return n.length?e.apply(this,n):e})}var ne=typeof Q=="object"&&Q&&Q.Object===Object&&Q,ce=typeof self=="object"&&self&&self.Object===Object&&self,me=ne||ce||Function("return this")(),re=me.Symbol,Ke=Object.prototype,vn=Ke.hasOwnProperty,en=Ke.toString,an=re?re.toStringTag:void 0;function Zn(r){var t=vn.call(r,an),n=r[an];try{r[an]=void 0;var e=!0}catch{}var i=en.call(r);return e&&(t?r[an]=n:delete r[an]),i}var gn=Object.prototype,mn=gn.toString;function nt(r){return mn.call(r)}var It="[object Null]",b="[object Undefined]",kt=re?re.toStringTag:void 0;function ue(r){return r==null?r===void 0?b:It:kt&&kt in Object(r)?Zn(r):nt(r)}function Et(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}var Le="[object AsyncFunction]",Tt="[object Function]",Te="[object GeneratorFunction]",ct="[object Proxy]";function st(r){if(!Et(r))return!1;var t=ue(r);return t==Tt||t==Te||t==Le||t==ct}var xn=9007199254740991;function fe(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=xn}function Ft(r){return r!=null&&fe(r.length)&&!st(r)}var Ae={};function Ce(){}function oe(r){return function(){if(r!==null){var t=r;r=null,t.apply(this,arguments)}}}var ie=typeof Symbol=="function"&&Symbol.iterator,Re=function(r){return ie&&r[ie]&&r[ie]()};function De(r,t){for(var n=-1,e=Array(r);++n<r;)e[n]=t(n);return e}function pe(r){return r!=null&&typeof r=="object"}var Pt="[object Arguments]";function sn(r){return pe(r)&&ue(r)==Pt}var we=Object.prototype,He=we.hasOwnProperty,Oe=we.propertyIsEnumerable,Pe=sn((function(){return arguments})())?sn:function(r){return pe(r)&&He.call(r,"callee")&&!Oe.call(r,"callee")},Ve=Array.isArray;function qn(){return!1}var Br=typeof j=="object"&&j&&!j.nodeType&&j,Wr=Br&&typeof L=="object"&&L&&!L.nodeType&&L,Hr=Wr&&Wr.exports===Br,Vr=Hr?me.Buffer:void 0,Xr=Vr?Vr.isBuffer:void 0,Yr=Xr||qn,Gn=9007199254740991,Zr=/^(?:0|[1-9]\d*)$/;function yr(r,t){return t=t??Gn,!!t&&(typeof r=="number"||Zr.test(r))&&r>-1&&r%1==0&&r<t}var qr="[object Arguments]",Li="[object Array]",vr="[object Boolean]",Ai="[object Date]",gr="[object Error]",Ci="[object Function]",Pi="[object Map]",Mi="[object Number]",zi="[object Object]",ji="[object RegExp]",Gr="[object Set]",Kn="[object String]",Tn="[object WeakMap]",mr="[object ArrayBuffer]",Jn="[object DataView]",cn="[object Float32Array]",Dn="[object Float64Array]",Ui="[object Int8Array]",Kr="[object Int16Array]",Jr="[object Int32Array]",wr="[object Uint8Array]",Bi="[object Uint8ClampedArray]",Wi="[object Uint16Array]",Qr="[object Uint32Array]",de={};de[cn]=de[Dn]=de[Ui]=de[Kr]=de[Jr]=de[wr]=de[Bi]=de[Wi]=de[Qr]=!0,de[qr]=de[Li]=de[mr]=de[vr]=de[Jn]=de[Ai]=de[gr]=de[Ci]=de[Pi]=de[Mi]=de[zi]=de[ji]=de[Gr]=de[Kn]=de[Tn]=!1;function Hi(r){return pe(r)&&fe(r.length)&&!!de[ue(r)]}function $r(r){return function(t){return r(t)}}var _r=typeof j=="object"&&j&&!j.nodeType&&j,ti=_r&&typeof L=="object"&&L&&!L.nodeType&&L,Sr=ti&&ti.exports===_r,Er=Sr&&ne.process,br=(function(){try{return Er&&Er.binding&&Er.binding("util")}catch{}})(),ei=br&&br.isTypedArray,Qn=ei?$r(ei):Hi,Vi=Object.prototype,ni=Vi.hasOwnProperty;function ri(r,t){var n=Ve(r),e=!n&&Pe(r),i=!n&&!e&&Yr(r),s=!n&&!e&&!i&&Qn(r),u=n||e||i||s,l=u?De(r.length,String):[],m=l.length;for(var E in r)ni.call(r,E)&&!(u&&(E=="length"||i&&(E=="offset"||E=="parent")||s&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||yr(E,m)))&&l.push(E);return l}var Xi=Object.prototype;function ii(r){var t=r&&r.constructor,n=typeof t=="function"&&t.prototype||Xi;return r===n}function oi(r,t){return function(n){return r(t(n))}}var Yi=oi(Object.keys,Object),Nn=Object.prototype,$n=Nn.hasOwnProperty;function Zi(r){if(!ii(r))return Yi(r);var t=[];for(var n in Object(r))$n.call(r,n)&&n!="constructor"&&t.push(n);return t}function Ir(r){return Ft(r)?ri(r):Zi(r)}function ai(r){var t=-1,n=r.length;return function(){return++t<n?{value:r[t],key:t}:null}}function qi(r){var t=-1;return function(){var e=r.next();return e.done?null:(t++,{value:e.value,key:t})}}function xr(r){var t=Ir(r),n=-1,e=t.length;return function(){var s=t[++n];return n<e?{value:r[s],key:s}:null}}function si(r){if(Ft(r))return ai(r);var t=Re(r);return t?qi(t):xr(r)}function Tr(r){return function(){if(r===null)throw new Error("Callback was already called.");var t=r;r=null,t.apply(this,arguments)}}function tr(r){return function(t,n,e){if(e=oe(e||Ce),r<=0||!t)return e(null);var i=si(t),s=!1,u=0;function l(E,z){if(u-=1,E)s=!0,e(E);else{if(z===Ae||s&&u<=0)return s=!0,e(null);m()}}function m(){for(;u<r&&!s;){var E=i();if(E===null){s=!0,u<=0&&e(null);return}u+=1,n(E.value,E.key,Tr(l))}}m()}}function ci(r,t,n,e){tr(t)(r,n,e)}function Or(r,t){return function(n,e,i){return r(n,t,e,i)}}function un(r,t,n){n=oe(n||Ce);var e=0,i=0,s=r.length;s===0&&n(null);function u(l,m){l?n(l):(++i===s||m===Ae)&&n(null)}for(;e<s;e++)t(r[e],e,Tr(u))}var Gi=Or(ci,1/0),ui=function(r,t,n){var e=Ft(r)?un:Gi;e(r,t,n)};function Ki(r){return function(t,n,e){return r(ui,t,n,e)}}function kr(r,t,n,e){e=e||Ce,t=t||[];var i=[],s=0;r(t,function(u,l,m){var E=s++;n(u,function(z,Z){i[E]=Z,m(z)})},function(u){e(u,i)})}var fi=Ki(kr);Jt(fi);function Me(r){return function(t,n,e,i){return r(tr(n),t,e,i)}}var Ji=Me(kr),Qi=Or(Ji,1);Jt(Qi),it(function(r,t){return it(function(n){return r.apply(null,t.concat(n))})});function $i(r,t){for(var n=-1,e=r==null?0:r.length;++n<e&&t(r[n],n,r)!==!1;);return r}var li=typeof setImmediate=="function"&&setImmediate,hi=typeof V=="object"&&typeof V.nextTick=="function";function pi(r){setTimeout(r,0)}function di(r){return it(function(t,n){r(function(){t.apply(null,n)})})}var er;li?er=setImmediate:hi?er=V.nextTick:er=pi,di(er);var yi=Or(ci,1);function nr(r,t,n,e){e=oe(e||Ce),yi(r,function(i,s,u){n(t,i,function(l,m){t=m,u(l)})},function(i){e(i,t)})}var wn=it(function(t){return it(function(n){var e=this,i=n[n.length-1];typeof i=="function"?n.pop():i=Ce,nr(t,n,function(s,u,l){u.apply(e,s.concat(it(function(m,E){l(m,E)})))},function(s,u){i.apply(e,[s].concat(u))})})});it(function(r){return wn.apply(null,r.reverse())}),it(function(r){var t=[null].concat(r);return lt(function(n,e){return e.apply(this,t)})});function Ln(r){return it(function(t,n){t.apply(null,n.concat(it(function(e,i){typeof console=="object"&&(e?console.error&&console.error(e):console[r]&&$i(i,function(s){console[r](s)}))})))})}Ln("dir");function to(r){return function(t,n,e){return r(t,e)}}function Rr(r,t,n){ui(r,to(t),n)}Ln("log");var An;hi?An=V.nextTick:li?An=setImmediate:An=pi,di(An);var ze;function Cn(){ze||(ze={},ze[Dropbox.ApiError.NETWORK_ERROR]=p.EIO,ze[Dropbox.ApiError.INVALID_PARAM]=p.EINVAL,ze[Dropbox.ApiError.INVALID_TOKEN]=p.EPERM,ze[Dropbox.ApiError.OAUTH_ERROR]=p.EPERM,ze[Dropbox.ApiError.NOT_FOUND]=p.ENOENT,ze[Dropbox.ApiError.INVALID_METHOD]=p.EINVAL,ze[Dropbox.ApiError.NOT_ACCEPTABLE]=p.EINVAL,ze[Dropbox.ApiError.CONFLICT]=p.EINVAL,ze[Dropbox.ApiError.RATE_LIMITED]=p.EBUSY,ze[Dropbox.ApiError.SERVER_ERROR]=p.EBUSY,ze[Dropbox.ApiError.OVER_QUOTA]=p.ENOSPC)}function eo(r){return r&&r.stat.isFile}function no(r){return r&&r.stat.isFolder}function ro(r){return r==null||typeof r=="object"&&typeof r.byteLength=="number"}var Fe=function(t){this._cache={},this._client=t};Fe.prototype.readdir=function(t,n){var e=this,i=this.getCachedDirInfo(t);this._wrap(function(s){i!==null&&i.contents?e._client.readdir(t,{contentHash:i.stat.contentHash},s):e._client.readdir(t,s)},function(s,u,l,m){s?s.status===Dropbox.ApiError.NO_CONTENT&&i!==null?n(null,i.contents.slice(0)):n(s):(e.updateCachedDirInfo(t,l,u.slice(0)),m.forEach(function(E){e.updateCachedInfo(_.join(t,E.name),E)}),n(null,u))})},Fe.prototype.remove=function(t,n){var e=this;this._wrap(function(i){e._client.remove(t,i)},function(i,s){i||e.updateCachedInfo(t,s),n(i)})},Fe.prototype.move=function(t,n,e){var i=this;this._wrap(function(s){i._client.move(t,n,s)},function(s,u){s||(i.deleteCachedInfo(t),i.updateCachedInfo(n,u)),e(s)})},Fe.prototype.stat=function(t,n){var e=this;this._wrap(function(i){e._client.stat(t,i)},function(i,s){i||e.updateCachedInfo(t,s),n(i,s)})},Fe.prototype.readFile=function(t,n){var e=this,i=this.getCachedFileInfo(t);i!==null&&i.contents!==null?this.stat(t,function(s,u){s?n(s):u.contentHash===i.stat.contentHash?n(s,i.contents.slice(0),i.stat):e.readFile(t,n)}):this._wrap(function(s){e._client.readFile(t,{arrayBuffer:!0},s)},function(s,u,l){s||e.updateCachedInfo(t,l,u.slice(0)),n(s,u,l)})},Fe.prototype.writeFile=function(t,n,e){var i=this;this._wrap(function(s){i._client.writeFile(t,n,s)},function(s,u){s||i.updateCachedInfo(t,u,n.slice(0)),e(s,u)})},Fe.prototype.mkdir=function(t,n){var e=this;this._wrap(function(i){e._client.mkdir(t,i)},function(i,s){i||e.updateCachedInfo(t,s,[]),n(i)})},Fe.prototype._wrap=function(t,n){var e=0,i=function(s){var u=2;if(s&&3>++e)switch(s.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){t(i)},u*1e3);break;default:n.apply(null,arguments);break}else n.apply(null,arguments)};t(i)},Fe.prototype.getCachedInfo=function(t){return this._cache[t.toLowerCase()]},Fe.prototype.putCachedInfo=function(t,n){this._cache[t.toLowerCase()]=n},Fe.prototype.deleteCachedInfo=function(t){delete this._cache[t.toLowerCase()]},Fe.prototype.getCachedDirInfo=function(t){var n=this.getCachedInfo(t);return no(n)?n:null},Fe.prototype.getCachedFileInfo=function(t){var n=this.getCachedInfo(t);return eo(n)?n:null},Fe.prototype.updateCachedDirInfo=function(t,n,e){e===void 0&&(e=null);var i=this.getCachedInfo(t);n.contentHash!==null&&(i===void 0||i.stat.contentHash!==n.contentHash)&&this.putCachedInfo(t,{stat:n,contents:e})},Fe.prototype.updateCachedFileInfo=function(t,n,e){e===void 0&&(e=null);var i=this.getCachedInfo(t);n.versionTag!==null&&(i===void 0||i.stat.versionTag!==n.versionTag)&&this.putCachedInfo(t,{stat:n,contents:e})},Fe.prototype.updateCachedInfo=function(t,n,e){e===void 0&&(e=null),n.isFile&&ro(e)?this.updateCachedFileInfo(t,n,e):n.isFolder&&Array.isArray(e)&&this.updateCachedDirInfo(t,n,e)};var io=(function(r){function t(n,e,i,s,u){r.call(this,n,e,i,s,u)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var i=this;if(this.isDirty()){var s=this.getBuffer(),u=pt(s);this._fs._writeFileStrict(this.getPath(),u,function(l){l||i.resetDirty(),e(l)})}else e()},t.prototype.close=function(e){this.sync(e)},t})(xe),rr=(function(r){function t(n,e){e===void 0&&(e=!0),r.call(this),this._client=new Fe(n),zt(e,t.Name,{client:"authenticated dropbox client instance"}),Cn()}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){i(null,new t(e.client,!1))},t.isAvailable=function(){return typeof Dropbox<"u"},t.prototype.getName=function(){return t.Name},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!1},t.prototype.empty=function(e){var i=this;this._client.readdir("/",function(s,u){if(s)e(i.convert(s,"/"));else{var l=function(E,z){var Z=_.join("/",E);i._client.remove(Z,function(at){z(at?i.convert(at,Z):null)})},m=function(E){E?e(E):e()};Rr(u,l,m)}})},t.prototype.rename=function(e,i,s){var u=this;this._client.move(e,i,function(l){l?u._client.stat(i,function(m,E){if(m||E.isFolder){var z=l.response.error.indexOf(e)>-1?e:i;s(u.convert(l,z))}else u._client.remove(i,function(Z){Z?s(u.convert(Z,i)):u.rename(e,i,s)})}):s()})},t.prototype.stat=function(e,i,s){var u=this;this._client.stat(e,function(l,m){if(l)s(u.convert(l,e));else if(m&&m.isRemoved)s(d.FileError(p.ENOENT,e));else{var E=new G(u._statType(m),m.size);return s(null,E)}})},t.prototype.open=function(e,i,s,u){var l=this;this._client.readFile(e,function(m,E,z){if(m)if(i.isReadable())u(l.convert(m,e));else if(m.status===Dropbox.ApiError.NOT_FOUND){var Z=new ArrayBuffer(0);return l._writeFileStrict(e,Z,function(wt,Lt){if(wt)u(wt);else{var Bt=l._makeFile(e,i,Lt,Ht(Z));u(null,Bt)}})}else return u(l.convert(m,e));else{var at;E===null?at=ae():at=Ht(E);var mt=l._makeFile(e,i,z,at);return u(null,mt)}})},t.prototype._writeFileStrict=function(e,i,s){var u=this,l=_.dirname(e);this.stat(l,!1,function(m,E){m?s(d.FileError(p.ENOENT,l)):u._client.writeFile(e,i,function(z,Z){z?s(u.convert(z,e)):s(null,Z)})})},t.prototype._statType=function(e){return e.isFile?q.FILE:q.DIRECTORY},t.prototype._makeFile=function(e,i,s,u){var l=this._statType(s),m=new G(l,s.size);return new io(this,e,i,m,u)},t.prototype._remove=function(e,i,s){var u=this;this._client.stat(e,function(l,m){l?i(u.convert(l,e)):m.isFile&&!s?i(d.FileError(p.ENOTDIR,e)):!m.isFile&&s?i(d.FileError(p.EISDIR,e)):u._client.remove(e,function(E){i(E?u.convert(E,e):null)})})},t.prototype.unlink=function(e,i){this._remove(e,i,!0)},t.prototype.rmdir=function(e,i){this._remove(e,i,!1)},t.prototype.mkdir=function(e,i,s){var u=this,l=_.dirname(e);this._client.stat(l,function(m,E){m?s(u.convert(m,l)):u._client.mkdir(e,function(z){s(z?d.FileError(p.EEXIST,e):null)})})},t.prototype.readdir=function(e,i){var s=this;this._client.readdir(e,function(u,l){return u?i(s.convert(u)):i(null,l)})},t.prototype.convert=function(e,i){i===void 0&&(i=null);var s=ze[e.status];return s===void 0&&(s=p.EIO),i?d.FileError(s,i):new d(s)},t})(dt);rr.Name="Dropbox",rr.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(r,t){r.isAuthenticated&&r.isAuthenticated()?t():t(new d(p.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};function ye(r,t){t===void 0&&(t="");for(var n=r.errno,e=r.node,i=[];e&&(i.unshift(e.name),e!==e.parent);)e=e.parent;return new d(n,T[n],i.length>0?"/"+i.join("/"):t)}var oo=(function(r){function t(n,e,i,s){r.call(this),this._fs=n,this._FS=e,this._path=i,this._stream=s}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.getPos=function(){},t.prototype.close=function(e){var i=null;try{this.closeSync()}catch(s){i=s}finally{e(i)}},t.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(e){throw ye(e,this._path)}},t.prototype.stat=function(e){try{e(null,this.statSync())}catch(i){e(i)}},t.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(e){throw ye(e,this._path)}},t.prototype.truncate=function(e,i){var s=null;try{this.truncateSync(e)}catch(u){s=u}finally{i(s)}},t.prototype.truncateSync=function(e){try{this._FS.ftruncate(this._stream.fd,e)}catch(i){throw ye(i,this._path)}},t.prototype.write=function(e,i,s,u,l){try{l(null,this.writeSync(e,i,s,u),e)}catch(m){l(m)}},t.prototype.writeSync=function(e,i,s,u){try{var l=Rt(e),m=u===null?void 0:u;return this._FS.write(this._stream,l,i,s,m)}catch(E){throw ye(E,this._path)}},t.prototype.read=function(e,i,s,u,l){try{l(null,this.readSync(e,i,s,u),e)}catch(m){l(m)}},t.prototype.readSync=function(e,i,s,u){try{var l=Rt(e),m=u===null?void 0:u;return this._FS.read(this._stream,l,i,s,m)}catch(E){throw ye(E,this._path)}},t.prototype.sync=function(e){e()},t.prototype.syncSync=function(){},t.prototype.chown=function(e,i,s){var u=null;try{this.chownSync(e,i)}catch(l){u=l}finally{s(u)}},t.prototype.chownSync=function(e,i){try{this._FS.fchown(this._stream.fd,e,i)}catch(s){throw ye(s,this._path)}},t.prototype.chmod=function(e,i){var s=null;try{this.chmodSync(e)}catch(u){s=u}finally{i(s)}},t.prototype.chmodSync=function(e){try{this._FS.fchmod(this._stream.fd,e)}catch(i){throw ye(i,this._path)}},t.prototype.utimes=function(e,i,s){var u=null;try{this.utimesSync(e,i)}catch(l){u=l}finally{s(u)}},t.prototype.utimesSync=function(e,i){this._fs.utimesSync(this._path,e,i)},t})(Mt),_n=(function(r){function t(n){r.call(this),this._FS=n}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){i(null,new t(e.FS))},t.isAvailable=function(){return!0},t.prototype.getName=function(){return this._FS.DB_NAME()},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsLinks=function(){return!0},t.prototype.supportsProps=function(){return!0},t.prototype.supportsSynch=function(){return!0},t.prototype.renameSync=function(e,i){try{this._FS.rename(e,i)}catch(s){throw s.errno===p.ENOENT?ye(s,this.existsSync(e)?i:e):ye(s)}},t.prototype.statSync=function(e,i){try{var s=i?this._FS.lstat(e):this._FS.stat(e),u=this.modeToFileType(s.mode);return new G(u,s.size,s.mode,s.atime,s.mtime,s.ctime)}catch(l){throw ye(l,e)}},t.prototype.openSync=function(e,i,s){try{var u=this._FS.open(e,i.getFlagString(),s);if(this._FS.isDir(u.node.mode))throw this._FS.close(u),d.EISDIR(e);return new oo(this,this._FS,e,u)}catch(l){throw ye(l,e)}},t.prototype.unlinkSync=function(e){try{this._FS.unlink(e)}catch(i){throw ye(i,e)}},t.prototype.rmdirSync=function(e){try{this._FS.rmdir(e)}catch(i){throw ye(i,e)}},t.prototype.mkdirSync=function(e,i){try{this._FS.mkdir(e,i)}catch(s){throw ye(s,e)}},t.prototype.readdirSync=function(e){try{return this._FS.readdir(e).filter(function(i){return i!=="."&&i!==".."})}catch(i){throw ye(i,e)}},t.prototype.truncateSync=function(e,i){try{this._FS.truncate(e,i)}catch(s){throw ye(s,e)}},t.prototype.readFileSync=function(e,i,s){try{var u=this._FS.readFile(e,{flags:s.getFlagString()}),l=Wt(u);return i?l.toString(i):l}catch(m){throw ye(m,e)}},t.prototype.writeFileSync=function(e,i,s,u,l){try{s&&(i=C.from(i,s));var m=Rt(i);this._FS.writeFile(e,m,{flags:u.getFlagString(),encoding:"binary"}),this._FS.chmod(e,l)}catch(E){throw ye(E,e)}},t.prototype.chmodSync=function(e,i,s){try{i?this._FS.lchmod(e,s):this._FS.chmod(e,s)}catch(u){throw ye(u,e)}},t.prototype.chownSync=function(e,i,s,u){try{i?this._FS.lchown(e,s,u):this._FS.chown(e,s,u)}catch(l){throw ye(l,e)}},t.prototype.symlinkSync=function(e,i,s){try{this._FS.symlink(e,i)}catch(u){throw ye(u)}},t.prototype.readlinkSync=function(e){try{return this._FS.readlink(e)}catch(i){throw ye(i,e)}},t.prototype.utimesSync=function(e,i,s){try{this._FS.utime(e,i.getTime(),s.getTime())}catch(u){throw ye(u,e)}},t.prototype.modeToFileType=function(e){if(this._FS.isDir(e))return q.DIRECTORY;if(this._FS.isFile(e))return q.FILE;if(this._FS.isLink(e))return q.SYMLINK;throw d.EPERM("Invalid mode: "+e)},t})(ge);_n.Name="EmscriptenFileSystem",_n.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var On=(function(r){function t(n,e){r.call(this),this._folder=n,this._wrapped=e}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){i(null,new t(e.folder,e.wrapped))},t.isAvailable=function(){return!0},t.prototype.initialize=function(e){var i=this;this._wrapped.exists(this._folder,function(s){s?e():i._wrapped.isReadOnly()?e(d.ENOENT(i._folder)):i._wrapped.mkdir(i._folder,511,e)})},t.prototype.getName=function(){return this._wrapped.getName()},t.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},t.prototype.supportsProps=function(){return this._wrapped.supportsProps()},t.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},t.prototype.supportsLinks=function(){return!1},t})(dt);On.Name="FolderAdapter",On.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}};function ir(r,t){if(t!==null&&typeof t=="object"){var n=t,e=n.path;e&&(e="/"+_.relative(r,e),n.message=n.message.replace(n.path,e),n.path=e)}return t}function ao(r,t){return typeof t=="function"?function(n){arguments.length>0&&(arguments[0]=ir(r,n)),t.apply(null,arguments)}:t}function vi(r,t,n){return r.slice(r.length-4)!=="Sync"?function(){return arguments.length>0&&(arguments[0]=_.join(this._folder,arguments[0]),n&&(arguments[1]=_.join(this._folder,arguments[1])),arguments[arguments.length-1]=ao(this._folder,arguments[arguments.length-1])),this._wrapped[r].apply(this._wrapped,arguments)}:function(){try{return t&&(arguments[0]=_.join(this._folder,arguments[0])),n&&(arguments[1]=_.join(this._folder,arguments[1])),this._wrapped[r].apply(this._wrapped,arguments)}catch(e){throw ir(this._folder,e)}}}["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(r){On.prototype[r]=vi(r,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(r){On.prototype[r]=vi(r,!0,!0)});var Pn;typeof window<"u"?Pn=window:typeof self<"u"?Pn=self:Pn=Q;var ve=Pn;function fn(r){return r.isDirectory}var or=ve.webkitRequestFileSystem||ve.requestFileSystem||null;function Fr(r,t,n,e){if(typeof navigator.webkitPersistentStorage<"u")switch(r){case ve.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(t,n,e);break;case ve.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(t,n,e);break;default:e(new TypeError("Invalid storage type: "+r));break}else ve.webkitStorageInfo.requestQuota(r,t,n,e)}function so(r){return Array.prototype.slice.call(r||[],0)}function nn(r,t,n){switch(r.name){case"PathExistsError":return d.EEXIST(t);case"QuotaExceededError":return d.FileError(p.ENOSPC,t);case"NotFoundError":return d.ENOENT(t);case"SecurityError":return d.FileError(p.EACCES,t);case"InvalidModificationError":return d.FileError(p.EPERM,t);case"TypeMismatchError":return d.FileError(n?p.ENOTDIR:p.EISDIR,t);default:return d.FileError(p.EINVAL,t)}}var co=(function(r){function t(n,e,i,s,u,l){r.call(this,n,i,s,u,l),this._entry=e}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var i=this;if(!this.isDirty())return e();this._entry.createWriter(function(s){var u=i.getBuffer(),l=new Blob([pt(u)]),m=l.size;s.onwriteend=function(E){s.onwriteend=null,s.onerror=null,s.truncate(m),i.resetDirty(),e()},s.onerror=function(E){e(nn(E,i.getPath(),!1))},s.write(l)})},t.prototype.close=function(e){this.sync(e)},t})(xe),ar=(function(r){function t(n,e,i){n===void 0&&(n=5),e===void 0&&(e=ve.PERSISTENT),i===void 0&&(i=!0),r.call(this),this.size=1024*1024*n,this.type=e,zt(i,t.Name,{size:n,type:e})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){var s=new t(e.size,e.type,!1);s.allocate(function(u){return u?i(u):i(null,s)},!1)},t.isAvailable=function(){return!!or},t.prototype.getName=function(){return t.Name},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!1},t.prototype.allocate=function(e,i){var s=this;e===void 0&&(e=function(){}),i===void 0&&(i=!0),i&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var u=function(m){s.fs=m,e()},l=function(m){e(nn(m,"/",!0))};this.type===ve.PERSISTENT?Fr(this.type,this.size,function(m){or(s.type,m,u,l)},l):or(this.type,this.size,u,l)},t.prototype.empty=function(e){this._readdir("/",function(i,s){if(i)console.error("Failed to empty FS"),e(i);else{var u=function(m){i?(console.error("Failed to empty FS"),e(i)):e()},l=function(m,E){var z=function(){E()},Z=function(at){E(nn(at,m.fullPath,!m.isDirectory))};fn(m)?m.removeRecursively(z,Z):m.remove(z,Z)};Rr(s,l,u)}})},t.prototype.rename=function(e,i,s){var u=this,l=2,m=0,E=this.fs.root,z=e,Z=function(mt){--l<=0&&s(nn(mt,z,!1))},at=function(mt){if(++m===2)return s(new d(p.EINVAL,"Something was identified as both a file and a directory. This should never happen."));if(e===i)return s();z=_.dirname(i),E.getDirectory(z,{},function(wt){z=_.basename(i),mt.moveTo(wt,z,function(Lt){s()},function(Lt){mt.isDirectory?(z=i,u.unlink(i,function(Bt){Bt?Z(Lt):u.rename(e,i,s)})):Z(Lt)})},Z)};E.getFile(e,{},at,Z),E.getDirectory(e,{},at,Z)},t.prototype.stat=function(e,i,s){var u=this,l={create:!1},m=function(at){var mt=function(wt){var Lt=new G(q.FILE,wt.size);s(null,Lt)};at.file(mt,z)},E=function(at){var mt=4096,wt=new G(q.DIRECTORY,mt);s(null,wt)},z=function(at){s(nn(at,e,!1))},Z=function(){u.fs.root.getDirectory(e,l,E,z)};this.fs.root.getFile(e,l,m,Z)},t.prototype.open=function(e,i,s,u){var l=this,m=function(E){E.name==="InvalidModificationError"&&i.isExclusive()?u(d.EEXIST(e)):u(nn(E,e,!1))};this.fs.root.getFile(e,{create:i.pathNotExistsAction()===P.CREATE_FILE,exclusive:i.isExclusive()},function(E){E.file(function(z){var Z=new FileReader;Z.onloadend=function(at){var mt=l._makeFile(e,E,i,z,Z.result);u(null,mt)},Z.onerror=function(at){m(Z.error)},Z.readAsArrayBuffer(z)},m)},m)},t.prototype.unlink=function(e,i){this._remove(e,i,!0)},t.prototype.rmdir=function(e,i){var s=this;this.readdir(e,function(u,l){u?i(u):l.length>0?i(d.ENOTEMPTY(e)):s._remove(e,i,!1)})},t.prototype.mkdir=function(e,i,s){var u={create:!0,exclusive:!0},l=function(E){s()},m=function(E){s(nn(E,e,!0))};this.fs.root.getDirectory(e,u,l,m)},t.prototype.readdir=function(e,i){this._readdir(e,function(s,u){if(u){for(var l=[],m=0,E=u;m<E.length;m+=1){var z=E[m];l.push(z.name)}i(null,l)}else return i(s)})},t.prototype._makeFile=function(e,i,s,u,l){l===void 0&&(l=new ArrayBuffer(0));var m=new G(q.FILE,u.size),E=Ht(l);return new co(this,i,e,s,m,E)},t.prototype._readdir=function(e,i){var s=function(u){i(nn(u,e,!0))};this.fs.root.getDirectory(e,{create:!1},function(u){var l=u.createReader(),m=[],E=function(){l.readEntries((function(z){z.length?(m=m.concat(so(z)),E()):i(null,m)}),s)};E()},s)},t.prototype._remove=function(e,i,s){var u=function(E){var z=function(){i()},Z=function(at){i(nn(at,e,!s))};E.remove(z,Z)},l=function(E){i(nn(E,e,!s))},m={create:!1};s?this.fs.root.getFile(e,m,u,l):this.fs.root.getDirectory(e,m,u,l)},t})(dt);ar.Name="HTML5FS",ar.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var Xe=function(t,n,e,i,s,u){this.id=t,this.size=n,this.mode=e,this.atime=i,this.mtime=s,this.ctime=u};Xe.fromBuffer=function(t){if(t===void 0)throw new Error("NO");return new Xe(t.toString("ascii",30),t.readUInt32LE(0),t.readUInt16LE(4),t.readDoubleLE(6),t.readDoubleLE(14),t.readDoubleLE(22))},Xe.prototype.toStats=function(){return new G((this.mode&61440)===q.DIRECTORY?q.DIRECTORY:q.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},Xe.prototype.getSize=function(){return 30+this.id.length},Xe.prototype.toBuffer=function(t){return t===void 0&&(t=C.alloc(this.getSize())),t.writeUInt32LE(this.size,0),t.writeUInt16LE(this.mode,4),t.writeDoubleLE(this.atime,6),t.writeDoubleLE(this.mtime,14),t.writeDoubleLE(this.ctime,22),t.write(this.id,30,this.id.length,"ascii"),t},Xe.prototype.update=function(t){var n=!1;this.size!==t.size&&(this.size=t.size,n=!0),this.mode!==t.mode&&(this.mode=t.mode,n=!0);var e=t.atime.getTime();this.atime!==e&&(this.atime=e,n=!0);var i=t.mtime.getTime();this.mtime!==i&&(this.mtime=i,n=!0);var s=t.ctime.getTime();return this.ctime!==s&&(this.ctime=s,n=!0),n},Xe.prototype.isFile=function(){return(this.mode&61440)===q.FILE},Xe.prototype.isDirectory=function(){return(this.mode&61440)===q.DIRECTORY};var ln="/",Dr=null;function gi(){return Dr||(Dr=C.from("{}"))}function sr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var t=Math.random()*16|0,n=r==="x"?t:t&3|8;return n.toString(16)})}function qe(r,t){return r?(t(r),!1):!0}function a(r,t,n){return r?(t.abort(function(){n(r)}),!1):!0}var o=function(t){this.store=t,this.originalData={},this.modifiedKeys=[]};o.prototype.get=function(t){var n=this.store.get(t);return this.stashOldValue(t,n),n},o.prototype.put=function(t,n,e){return this.markModified(t),this.store.put(t,n,e)},o.prototype.del=function(t){this.markModified(t),this.store.del(t)},o.prototype.commit=function(){},o.prototype.abort=function(){for(var t=this,n=0,e=t.modifiedKeys;n<e.length;n+=1){var i=e[n],s=t.originalData[i];s?t.store.put(i,s,!0):t.store.del(i)}},o.prototype.stashOldValue=function(t,n){this.originalData.hasOwnProperty(t)||(this.originalData[t]=n)},o.prototype.markModified=function(t){this.modifiedKeys.indexOf(t)===-1&&(this.modifiedKeys.push(t),this.originalData.hasOwnProperty(t)||(this.originalData[t]=this.store.get(t)))};var c=(function(r){function t(n,e,i,s,u){r.call(this,n,e,i,s,u)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},t.prototype.closeSync=function(){this.syncSync()},t})(xe),f=(function(r){function t(n){r.call(this),this.store=n.store,this.makeRootDirectory()}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.isAvailable=function(){return!0},t.prototype.getName=function(){return this.store.name()},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},t.prototype.renameSync=function(e,i){var s=this.store.beginTransaction("readwrite"),u=_.dirname(e),l=_.basename(e),m=_.dirname(i),E=_.basename(i),z=this.findINode(s,u),Z=this.getDirListing(s,u,z);if(!Z[l])throw d.ENOENT(e);var at=Z[l];if(delete Z[l],(m+"/").indexOf(e+"/")===0)throw new d(p.EBUSY,u);var mt,wt;if(m===u?(mt=z,wt=Z):(mt=this.findINode(s,m),wt=this.getDirListing(s,m,mt)),wt[E]){var Lt=this.getINode(s,i,wt[E]);if(Lt.isFile())try{s.del(Lt.id),s.del(wt[E])}catch(Bt){throw s.abort(),Bt}else throw d.EPERM(i)}wt[E]=at;try{s.put(z.id,C.from(JSON.stringify(Z)),!0),s.put(mt.id,C.from(JSON.stringify(wt)),!0)}catch(Bt){throw s.abort(),Bt}s.commit()},t.prototype.statSync=function(e,i){return this.findINode(this.store.beginTransaction("readonly"),e).toStats()},t.prototype.createFileSync=function(e,i,s){var u=this.store.beginTransaction("readwrite"),l=ae(),m=this.commitNewFile(u,e,q.FILE,s,l);return new c(this,e,i,m.toStats(),l)},t.prototype.openFileSync=function(e,i){var s=this.store.beginTransaction("readonly"),u=this.findINode(s,e),l=s.get(u.id);if(l===void 0)throw d.ENOENT(e);return new c(this,e,i,u.toStats(),l)},t.prototype.unlinkSync=function(e){this.removeEntry(e,!1)},t.prototype.rmdirSync=function(e){if(this.readdirSync(e).length>0)throw d.ENOTEMPTY(e);this.removeEntry(e,!0)},t.prototype.mkdirSync=function(e,i){var s=this.store.beginTransaction("readwrite"),u=C.from("{}");this.commitNewFile(s,e,q.DIRECTORY,i,u)},t.prototype.readdirSync=function(e){var i=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(i,e,this.findINode(i,e)))},t.prototype._syncSync=function(e,i,s){var u=this.store.beginTransaction("readwrite"),l=this._findINode(u,_.dirname(e),_.basename(e)),m=this.getINode(u,e,l),E=m.update(s);try{u.put(m.id,i,!0),E&&u.put(l,m.toBuffer(),!0)}catch(z){throw u.abort(),z}u.commit()},t.prototype.makeRootDirectory=function(){var e=this.store.beginTransaction("readwrite");if(e.get(ln)===void 0){var i=new Date().getTime(),s=new Xe(sr(),4096,511|q.DIRECTORY,i,i,i);e.put(s.id,gi(),!1),e.put(ln,s.toBuffer(),!1),e.commit()}},t.prototype._findINode=function(e,i,s){var u=this,l=function(m){var E=u.getDirListing(e,i,m);if(E[s])return E[s];throw d.ENOENT(_.resolve(i,s))};return i==="/"?s===""?ln:l(this.getINode(e,i,ln)):l(this.getINode(e,i+_.sep+s,this._findINode(e,_.dirname(i),_.basename(i))))},t.prototype.findINode=function(e,i){return this.getINode(e,i,this._findINode(e,_.dirname(i),_.basename(i)))},t.prototype.getINode=function(e,i,s){var u=e.get(s);if(u===void 0)throw d.ENOENT(i);return Xe.fromBuffer(u)},t.prototype.getDirListing=function(e,i,s){if(!s.isDirectory())throw d.ENOTDIR(i);var u=e.get(s.id);if(u===void 0)throw d.ENOENT(i);return JSON.parse(u.toString())},t.prototype.addNewNode=function(e,i){for(var s=0,u;s<5;)try{return u=sr(),e.put(u,i,!1),u}catch{}throw new d(p.EIO,"Unable to commit data to key-value store.")},t.prototype.commitNewFile=function(e,i,s,u,l){var m=_.dirname(i),E=_.basename(i),z=this.findINode(e,m),Z=this.getDirListing(e,m,z),at=new Date().getTime();if(i==="/"||Z[E])throw d.EEXIST(i);var mt;try{var wt=this.addNewNode(e,l);mt=new Xe(wt,l.length,u|s,at,at,at);var Lt=this.addNewNode(e,mt.toBuffer());Z[E]=Lt,e.put(z.id,C.from(JSON.stringify(Z)),!0)}catch(Bt){throw e.abort(),Bt}return e.commit(),mt},t.prototype.removeEntry=function(e,i){var s=this.store.beginTransaction("readwrite"),u=_.dirname(e),l=this.findINode(s,u),m=this.getDirListing(s,u,l),E=_.basename(e);if(!m[E])throw d.ENOENT(e);var z=m[E];delete m[E];var Z=this.getINode(s,e,z);if(!i&&Z.isDirectory())throw d.EISDIR(e);if(i&&!Z.isDirectory())throw d.ENOTDIR(e);try{s.del(Z.id),s.del(z),s.put(l.id,C.from(JSON.stringify(m)),!0)}catch(at){throw s.abort(),at}s.commit()},t})(ge),h=(function(r){function t(n,e,i,s,u){r.call(this,n,e,i,s,u)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var i=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(s){s||i.resetDirty(),e(s)}):e()},t.prototype.close=function(e){this.sync(e)},t})(xe),g=(function(r){function t(){r.apply(this,arguments)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.isAvailable=function(){return!0},t.prototype.init=function(e,i){this.store=e,this.makeRootDirectory(i)},t.prototype.getName=function(){return this.store.name()},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!1},t.prototype.empty=function(e){var i=this;this.store.clear(function(s){qe(s,e)&&i.makeRootDirectory(e)})},t.prototype.rename=function(e,i,s){var u=this,l=this.store.beginTransaction("readwrite"),m=_.dirname(e),E=_.basename(e),z=_.dirname(i),Z=_.basename(i),at={},mt={},wt=!1;if((z+"/").indexOf(e+"/")===0)return s(new d(p.EBUSY,m));var Lt=function(){if(!(wt||!mt.hasOwnProperty(m)||!mt.hasOwnProperty(z))){var $t=mt[m],Ie=at[m],Be=mt[z],dn=at[z];if(!$t[E])s(d.ENOENT(e));else{var yn=$t[E];delete $t[E];var lr=function(){Be[Z]=yn,l.put(Ie.id,C.from(JSON.stringify($t)),!0,function(bn){a(bn,l,s)&&(m===z?l.commit(s):l.put(dn.id,C.from(JSON.stringify(Be)),!0,function(In){a(In,l,s)&&l.commit(s)}))})};Be[Z]?u.getINode(l,i,Be[Z],function(bn,In){a(bn,l,s)&&(In.isFile()?l.del(In.id,function(fa){a(fa,l,s)&&l.del(Be[Z],function(hs){a(hs,l,s)&&lr()})}):l.abort(function(fa){s(d.EPERM(i))}))}):lr()}}},Bt=function($t){u.findINodeAndDirListing(l,$t,function(Ie,Be,dn){Ie?wt||(wt=!0,l.abort(function(){s(Ie)})):(at[$t]=Be,mt[$t]=dn,Lt())})};Bt(m),m!==z&&Bt(z)},t.prototype.stat=function(e,i,s){var u=this.store.beginTransaction("readonly");this.findINode(u,e,function(l,m){qe(l,s)&&s(null,m.toStats())})},t.prototype.createFile=function(e,i,s,u){var l=this,m=this.store.beginTransaction("readwrite"),E=ae();this.commitNewFile(m,e,q.FILE,s,E,function(z,Z){qe(z,u)&&u(null,new h(l,e,i,Z.toStats(),E))})},t.prototype.openFile=function(e,i,s){var u=this,l=this.store.beginTransaction("readonly");this.findINode(l,e,function(m,E){qe(m,s)&&l.get(E.id,function(z,Z){qe(z,s)&&(Z===void 0?s(d.ENOENT(e)):s(null,new h(u,e,i,E.toStats(),Z)))})})},t.prototype.unlink=function(e,i){this.removeEntry(e,!1,i)},t.prototype.rmdir=function(e,i){var s=this;this.readdir(e,function(u,l){u?i(u):l.length>0?i(d.ENOTEMPTY(e)):s.removeEntry(e,!0,i)})},t.prototype.mkdir=function(e,i,s){var u=this.store.beginTransaction("readwrite"),l=C.from("{}");this.commitNewFile(u,e,q.DIRECTORY,i,l,s)},t.prototype.readdir=function(e,i){var s=this,u=this.store.beginTransaction("readonly");this.findINode(u,e,function(l,m){qe(l,i)&&s.getDirListing(u,e,m,function(E,z){qe(E,i)&&i(null,Object.keys(z))})})},t.prototype._sync=function(e,i,s,u){var l=this,m=this.store.beginTransaction("readwrite");this._findINode(m,_.dirname(e),_.basename(e),function(E,z){a(E,m,u)&&l.getINode(m,e,z,function(Z,at){if(a(Z,m,u)){var mt=at.update(s);m.put(at.id,i,!0,function(wt){a(wt,m,u)&&(mt?m.put(z,at.toBuffer(),!0,function(Lt){a(Lt,m,u)&&m.commit(u)}):m.commit(u))})}})})},t.prototype.makeRootDirectory=function(e){var i=this.store.beginTransaction("readwrite");i.get(ln,function(s,u){if(s||u===void 0){var l=new Date().getTime(),m=new Xe(sr(),4096,511|q.DIRECTORY,l,l,l);i.put(m.id,gi(),!1,function(E){a(E,i,e)&&i.put(ln,m.toBuffer(),!1,function(z){z?i.abort(function(){e(z)}):i.commit(e)})})}else i.commit(e)})},t.prototype._findINode=function(e,i,s,u){var l=this,m=function(E,z,Z){E?u(E):Z[s]?u(null,Z[s]):u(d.ENOENT(_.resolve(i,s)))};i==="/"?s===""?u(null,ln):this.getINode(e,i,ln,function(E,z){qe(E,u)&&l.getDirListing(e,i,z,function(Z,at){m(Z,z,at)})}):this.findINodeAndDirListing(e,i,m)},t.prototype.findINode=function(e,i,s){var u=this;this._findINode(e,_.dirname(i),_.basename(i),function(l,m){qe(l,s)&&u.getINode(e,i,m,s)})},t.prototype.getINode=function(e,i,s,u){e.get(s,function(l,m){qe(l,u)&&(m===void 0?u(d.ENOENT(i)):u(null,Xe.fromBuffer(m)))})},t.prototype.getDirListing=function(e,i,s,u){s.isDirectory()?e.get(s.id,function(l,m){if(qe(l,u))try{u(null,JSON.parse(m.toString()))}catch{u(d.ENOENT(i))}}):u(d.ENOTDIR(i))},t.prototype.findINodeAndDirListing=function(e,i,s){var u=this;this.findINode(e,i,function(l,m){qe(l,s)&&u.getDirListing(e,i,m,function(E,z){qe(E,s)&&s(null,m,z)})})},t.prototype.addNewNode=function(e,i,s){var u=0,l,m=function(){++u===5?s(new d(p.EIO,"Unable to commit data to key-value store.")):(l=sr(),e.put(l,i,!1,function(E,z){E||!z?m():s(null,l)}))};m()},t.prototype.commitNewFile=function(e,i,s,u,l,m){var E=this,z=_.dirname(i),Z=_.basename(i),at=new Date().getTime();if(i==="/")return m(d.EEXIST(i));this.findINodeAndDirListing(e,z,function(mt,wt,Lt){a(mt,e,m)&&(Lt[Z]?e.abort(function(){m(d.EEXIST(i))}):E.addNewNode(e,l,function(Bt,$t){if(a(Bt,e,m)){var Ie=new Xe($t,l.length,u|s,at,at,at);E.addNewNode(e,Ie.toBuffer(),function(Be,dn){a(Be,e,m)&&(Lt[Z]=dn,e.put(wt.id,C.from(JSON.stringify(Lt)),!0,function(yn){a(yn,e,m)&&e.commit(function(lr){a(lr,e,m)&&m(null,Ie)})}))})}}))})},t.prototype.removeEntry=function(e,i,s){var u=this,l=this.store.beginTransaction("readwrite"),m=_.dirname(e),E=_.basename(e);this.findINodeAndDirListing(l,m,function(z,Z,at){if(a(z,l,s))if(!at[E])l.abort(function(){s(d.ENOENT(e))});else{var mt=at[E];delete at[E],u.getINode(l,e,mt,function(wt,Lt){a(wt,l,s)&&(!i&&Lt.isDirectory()?l.abort(function(){s(d.EISDIR(e))}):i&&!Lt.isDirectory()?l.abort(function(){s(d.ENOTDIR(e))}):l.del(Lt.id,function(Bt){a(Bt,l,s)&&l.del(mt,function($t){a($t,l,s)&&l.put(Z.id,C.from(JSON.stringify(at)),!0,function(Ie){a(Ie,l,s)&&l.commit(s)})})}))})}})},t})(dt),w=function(){this.store={}};w.prototype.name=function(){return S.Name},w.prototype.clear=function(){this.store={}},w.prototype.beginTransaction=function(t){return new o(this)},w.prototype.get=function(t){return this.store[t]},w.prototype.put=function(t,n,e){return!e&&this.store.hasOwnProperty(t)?!1:(this.store[t]=n,!0)},w.prototype.del=function(t){delete this.store[t]};var S=(function(r){function t(){r.call(this,{store:new w})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){i(null,new t)},t})(f);S.Name="InMemory",S.Options={};var O=ve.indexedDB||ve.mozIndexedDB||ve.webkitIndexedDB||ve.msIndexedDB;function M(r,t){switch(t===void 0&&(t=r.toString()),r.name){case"NotFoundError":return new d(p.ENOENT,t);case"QuotaExceededError":return new d(p.ENOSPC,t);default:return new d(p.EIO,t)}}function F(r,t,n){return t===void 0&&(t=p.EIO),n===void 0&&(n=null),function(e){e.preventDefault(),r(new d(t,n!==null?n:void 0))}}var Y=function(t,n){this.tx=t,this.store=n};Y.prototype.get=function(t,n){try{var e=this.store.get(t);e.onerror=F(n),e.onsuccess=function(i){var s=i.target.result;s===void 0?n(null,s):n(null,Ht(s))}}catch(i){n(M(i))}};var rt=(function(r){function t(n,e){r.call(this,n,e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.put=function(e,i,s,u){try{var l=pt(i),m;s?m=this.store.put(l,e):m=this.store.add(l,e),m.onerror=F(u),m.onsuccess=function(E){u(null,!0)}}catch(E){u(M(E))}},t.prototype.del=function(e,i){try{var s=this.store.delete(e);s.onerror=F(i),s.onsuccess=function(u){i()}}catch(u){i(M(u))}},t.prototype.commit=function(e){setTimeout(e,0)},t.prototype.abort=function(e){var i=null;try{this.tx.abort()}catch(s){i=M(s)}finally{e(i)}},t})(Y),ht=function(t,n){var e=this;n===void 0&&(n="browserfs"),this.storeName=n;var i=O.open(this.storeName,1);i.onupgradeneeded=function(s){var u=s.target.result;u.objectStoreNames.contains(e.storeName)&&u.deleteObjectStore(e.storeName),u.createObjectStore(e.storeName)},i.onsuccess=function(s){e.db=s.target.result,t(null,e)},i.onerror=F(t,p.EACCES)};ht.prototype.name=function(){return ft.Name+" - "+this.storeName},ht.prototype.clear=function(t){try{var n=this.db.transaction(this.storeName,"readwrite"),e=n.objectStore(this.storeName),i=e.clear();i.onsuccess=function(s){setTimeout(t,0)},i.onerror=F(t)}catch(s){t(M(s))}},ht.prototype.beginTransaction=function(t){t===void 0&&(t="readonly");var n=this.db.transaction(this.storeName,t),e=n.objectStore(this.storeName);if(t==="readwrite")return new rt(n,e);if(t==="readonly")return new Y(n,e);throw new d(p.EINVAL,"Invalid transaction type.")};var ft=(function(r){function t(n,e,i){var s=this;i===void 0&&(i=!0),r.call(this),this.store=new ht(function(u){u?n(u):s.init(s.store,function(l){n(l,s)})},e),zt(i,t.Name,{storeName:e})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){new t(i,e.storeName,!1)},t.isAvailable=function(){try{return typeof O<"u"&&O.open("__browserfs_test__")!==null}catch{return!1}},t})(g);ft.Name="IndexedDB",ft.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var yt=!1,xt;try{ve.localStorage.setItem("__test__","\uD800"),yt=ve.localStorage.getItem("__test__")==="\uD800"}catch{yt=!1}xt=yt?"binary_string":"binary_string_ie",C.isEncoding(xt)||(xt="base64");var St=function(){};St.prototype.name=function(){return Dt.Name},St.prototype.clear=function(){ve.localStorage.clear()},St.prototype.beginTransaction=function(t){return new o(this)},St.prototype.get=function(t){try{var n=ve.localStorage.getItem(t);if(n!==null)return C.from(n,xt)}catch{}},St.prototype.put=function(t,n,e){try{return!e&&ve.localStorage.getItem(t)!==null?!1:(ve.localStorage.setItem(t,n.toString(xt)),!0)}catch{throw new d(p.ENOSPC,"LocalStorage is full.")}},St.prototype.del=function(t){try{ve.localStorage.removeItem(t)}catch(n){throw new d(p.EIO,"Unable to delete key "+t+": "+n)}};var Dt=(function(r){function t(){r.call(this,{store:new St})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){i(null,new t)},t.isAvailable=function(){return typeof ve.localStorage<"u"},t})(f);Dt.Name="LocalStorage",Dt.Options={};var Xt=(function(r){function t(){r.call(this),this.mountList=[],this.mntMap={},this.rootFs=new S}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){var s=new t;Object.keys(e).forEach(function(u){s.mount(u,e[u])}),i(null,s)},t.isAvailable=function(){return!0},t.prototype.mount=function(e,i){if(e[0]!=="/"&&(e="/"+e),e=_.resolve(e),this.mntMap[e])throw new d(p.EINVAL,"Mount point "+e+" is already taken.");J(e,511,this.rootFs),this.mntMap[e]=i,this.mountList.push(e),this.mountList=this.mountList.sort(function(s,u){return u.length-s.length})},t.prototype.umount=function(e){var i=this;if(e[0]!=="/"&&(e="/"+e),e=_.resolve(e),!this.mntMap[e])throw new d(p.EINVAL,"Mount point "+e+" is already unmounted.");for(delete this.mntMap[e],this.mountList.splice(this.mountList.indexOf(e),1);e!=="/"&&i.rootFs.readdirSync(e).length===0;)i.rootFs.rmdirSync(e),e=_.dirname(e)},t.prototype._getFs=function(e){for(var i=this,s=this.mountList,u=s.length,l=0;l<u;l++){var m=s[l];if(m.length<=e.length&&e.indexOf(m)===0)return e=e.substr(m.length>1?m.length:0),e===""&&(e="/"),{fs:i.mntMap[m],path:e}}return{fs:this.rootFs,path:e}},t.prototype.getName=function(){return t.Name},t.prototype.diskSpace=function(e,i){i(0,0)},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.standardizeError=function(e,i,s){var u=e.message.indexOf(i);return u!==-1&&(e.message=e.message.substr(0,u)+s+e.message.substr(u+i.length),e.path=s),e},t.prototype.rename=function(e,i,s){var u=this,l=this._getFs(e),m=this._getFs(i);return l.fs===m.fs?l.fs.rename(l.path,m.path,function(E){E&&u.standardizeError(u.standardizeError(E,l.path,e),m.path,i),s(E)}):bt.readFile(e,function(E,z){if(E)return s(E);bt.writeFile(i,z,function(Z){if(Z)return s(Z);bt.unlink(e,s)})})},t.prototype.renameSync=function(e,i){var s=this._getFs(e),u=this._getFs(i);if(s.fs===u.fs)try{return s.fs.renameSync(s.path,u.path)}catch(m){throw this.standardizeError(this.standardizeError(m,s.path,e),u.path,i),m}var l=bt.readFileSync(e);return bt.writeFileSync(i,l),bt.unlinkSync(e)},t.prototype.readdirSync=function(e){var i=this._getFs(e),s=null;if(i.fs!==this.rootFs)try{s=this.rootFs.readdirSync(e)}catch{}try{var u=i.fs.readdirSync(i.path);return s===null?u:u.concat(s.filter(function(l){return u.indexOf(l)===-1}))}catch(l){if(s===null)throw this.standardizeError(l,i.path,e);return s}},t.prototype.readdir=function(e,i){var s=this,u=this._getFs(e);u.fs.readdir(u.path,function(l,m){if(u.fs!==s.rootFs)try{var E=s.rootFs.readdirSync(e);m?m=m.concat(E.filter(function(z){return m.indexOf(z)===-1})):m=E}catch{if(l)return i(s.standardizeError(l,u.path,e))}else if(l)return i(s.standardizeError(l,u.path,e));i(null,m)})},t.prototype.rmdirSync=function(e){var i=this._getFs(e);if(this._containsMountPt(e))throw d.ENOTEMPTY(e);try{i.fs.rmdirSync(i.path)}catch(s){throw this.standardizeError(s,i.path,e)}},t.prototype.rmdir=function(e,i){var s=this,u=this._getFs(e);this._containsMountPt(e)?i(d.ENOTEMPTY(e)):u.fs.rmdir(u.path,function(l){i(l?s.standardizeError(l,u.path,e):null)})},t.prototype._containsMountPt=function(e){for(var i=this.mountList,s=i.length,u=0;u<s;u++){var l=i[u];if(l.length>=e.length&&l.slice(0,e.length)===e)return!0}return!1},t})(dt);Xt.Name="MountableFileSystem",Xt.Options={};function ee(r,t,n){return t?function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var s=e[0],u=this._getFs(s);e[0]=u.path;try{return u.fs[r].apply(u.fs,e)}catch(l){throw this.standardizeError(l,u.path,s),l}}:function(){for(var e=this,i=[],s=arguments.length;s--;)i[s]=arguments[s];var u=i[0],l=this._getFs(u);if(i[0]=l.path,typeof i[i.length-1]=="function"){var m=i[i.length-1];i[i.length-1]=function(){for(var E=[],z=arguments.length;z--;)E[z]=arguments[z];E.length>0&&E[0]instanceof d&&e.standardizeError(E[0],l.path,u),m.apply(null,E)}}return l.fs[r].apply(l.fs,i)}}for(var Ut=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],Gt=0;Gt<Ut.length;Gt++)for(var je=Ut[Gt],le=0,Ye=je;le<Ye.length;le+=1){var Ze=Ye[le];Xt.prototype[Ze]=ee(Ze,!1),Xt.prototype[Ze+"Sync"]=ee(Ze+"Sync",!0)}var Ge;if(typeof setImmediate<"u")Ge=setImmediate;else{var Ue=ve,rn=[],Oo="zero-timeout-message",Ba=function(){if(typeof Ue.importScripts<"u"||!Ue.postMessage)return!1;var r=!0,t=Ue.onmessage;return Ue.onmessage=function(){r=!1},Ue.postMessage("","*"),Ue.onmessage=t,r};if(Ba()){Ge=function(r){rn.push(r),Ue.postMessage(Oo,"*")};var ko=function(r){if(r.source===self&&r.data===Oo&&(r.stopPropagation?r.stopPropagation():r.cancelBubble=!0,rn.length>0)){var t=rn.shift();return t()}};Ue.addEventListener?Ue.addEventListener("message",ko,!0):Ue.attachEvent("onmessage",ko)}else if(Ue.MessageChannel){var Ro=new Ue.MessageChannel;Ro.port1.onmessage=function(r){if(rn.length>0)return rn.shift()()},Ge=function(r){rn.push(r),Ro.port2.postMessage("")}}else Ge=function(r){return setTimeout(r,0)}}var uo=Ge,Nr=function(){this._locked=!1,this._waiters=[]};Nr.prototype.lock=function(t){if(this._locked){this._waiters.push(t);return}this._locked=!0,t()},Nr.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var t=this._waiters.shift();if(t){uo(t);return}this._locked=!1},Nr.prototype.tryLock=function(){return this._locked?!1:(this._locked=!0,!0)},Nr.prototype.isLocked=function(){return this._locked};var Zt=function(t){this._fs=t,this._mu=new Nr};Zt.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},Zt.prototype.getFSUnlocked=function(){return this._fs},Zt.prototype.initialize=function(t){this._fs.initialize(t)},Zt.prototype.diskSpace=function(t,n){this._fs.diskSpace(t,n)},Zt.prototype.isReadOnly=function(){return this._fs.isReadOnly()},Zt.prototype.supportsLinks=function(){return this._fs.supportsLinks()},Zt.prototype.supportsProps=function(){return this._fs.supportsProps()},Zt.prototype.supportsSynch=function(){return this._fs.supportsSynch()},Zt.prototype.rename=function(t,n,e){var i=this;this._mu.lock(function(){i._fs.rename(t,n,function(s){i._mu.unlock(),e(s)})})},Zt.prototype.renameSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(t,n)},Zt.prototype.stat=function(t,n,e){var i=this;this._mu.lock(function(){i._fs.stat(t,n,function(s,u){i._mu.unlock(),e(s,u)})})},Zt.prototype.statSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(t,n)},Zt.prototype.open=function(t,n,e,i){var s=this;this._mu.lock(function(){s._fs.open(t,n,e,function(u,l){s._mu.unlock(),i(u,l)})})},Zt.prototype.openSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(t,n,e)},Zt.prototype.unlink=function(t,n){var e=this;this._mu.lock(function(){e._fs.unlink(t,function(i){e._mu.unlock(),n(i)})})},Zt.prototype.unlinkSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(t)},Zt.prototype.rmdir=function(t,n){var e=this;this._mu.lock(function(){e._fs.rmdir(t,function(i){e._mu.unlock(),n(i)})})},Zt.prototype.rmdirSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(t)},Zt.prototype.mkdir=function(t,n,e){var i=this;this._mu.lock(function(){i._fs.mkdir(t,n,function(s){i._mu.unlock(),e(s)})})},Zt.prototype.mkdirSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(t,n)},Zt.prototype.readdir=function(t,n){var e=this;this._mu.lock(function(){e._fs.readdir(t,function(i,s){e._mu.unlock(),n(i,s)})})},Zt.prototype.readdirSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(t)},Zt.prototype.exists=function(t,n){var e=this;this._mu.lock(function(){e._fs.exists(t,function(i){e._mu.unlock(),n(i)})})},Zt.prototype.existsSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(t)},Zt.prototype.realpath=function(t,n,e){var i=this;this._mu.lock(function(){i._fs.realpath(t,n,function(s,u){i._mu.unlock(),e(s,u)})})},Zt.prototype.realpathSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(t,n)},Zt.prototype.truncate=function(t,n,e){var i=this;this._mu.lock(function(){i._fs.truncate(t,n,function(s){i._mu.unlock(),e(s)})})},Zt.prototype.truncateSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(t,n)},Zt.prototype.readFile=function(t,n,e,i){var s=this;this._mu.lock(function(){s._fs.readFile(t,n,e,function(u,l){s._mu.unlock(),i(u,l)})})},Zt.prototype.readFileSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(t,n,e)},Zt.prototype.writeFile=function(t,n,e,i,s,u){var l=this;this._mu.lock(function(){l._fs.writeFile(t,n,e,i,s,function(m){l._mu.unlock(),u(m)})})},Zt.prototype.writeFileSync=function(t,n,e,i,s){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(t,n,e,i,s)},Zt.prototype.appendFile=function(t,n,e,i,s,u){var l=this;this._mu.lock(function(){l._fs.appendFile(t,n,e,i,s,function(m){l._mu.unlock(),u(m)})})},Zt.prototype.appendFileSync=function(t,n,e,i,s){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(t,n,e,i,s)},Zt.prototype.chmod=function(t,n,e,i){var s=this;this._mu.lock(function(){s._fs.chmod(t,n,e,function(u){s._mu.unlock(),i(u)})})},Zt.prototype.chmodSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(t,n,e)},Zt.prototype.chown=function(t,n,e,i,s){var u=this;this._mu.lock(function(){u._fs.chown(t,n,e,i,function(l){u._mu.unlock(),s(l)})})},Zt.prototype.chownSync=function(t,n,e,i){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(t,n,e,i)},Zt.prototype.utimes=function(t,n,e,i){var s=this;this._mu.lock(function(){s._fs.utimes(t,n,e,function(u){s._mu.unlock(),i(u)})})},Zt.prototype.utimesSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(t,n,e)},Zt.prototype.link=function(t,n,e){var i=this;this._mu.lock(function(){i._fs.link(t,n,function(s){i._mu.unlock(),e(s)})})},Zt.prototype.linkSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(t,n)},Zt.prototype.symlink=function(t,n,e,i){var s=this;this._mu.lock(function(){s._fs.symlink(t,n,e,function(u){s._mu.unlock(),i(u)})})},Zt.prototype.symlinkSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(t,n,e)},Zt.prototype.readlink=function(t,n){var e=this;this._mu.lock(function(){e._fs.readlink(t,function(i,s){e._mu.unlock(),n(i,s)})})},Zt.prototype.readlinkSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(t)};var Sn="/.deletedFiles.log";function Fo(r){return 146|r}function $e(r){return B.getFileFlag(r)}var Do=(function(r){function t(n,e,i,s,u){r.call(this,n,e,i,s,u)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var i=this;if(!this.isDirty()){e(null);return}this._fs._syncAsync(this,function(s){i.resetDirty(),e(s)})},t.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},t.prototype.close=function(e){this.sync(e)},t.prototype.closeSync=function(){this.syncSync()},t})(xe),No=(function(r){function t(n,e){if(r.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=n,this._readable=e,this._writable.isReadOnly())throw new d(p.EINVAL,"Writable file system must be writable.")}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.isAvailable=function(){return!0},t.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},t.prototype._syncAsync=function(e,i){var s=this;this.createParentDirectoriesAsync(e.getPath(),function(u){if(u)return i(u);s._writable.writeFile(e.getPath(),e.getBuffer(),null,$e("w"),e.getStats().mode,i)})},t.prototype._syncSync=function(e){this.createParentDirectories(e.getPath()),this._writable.writeFileSync(e.getPath(),e.getBuffer(),null,$e("w"),e.getStats().mode)},t.prototype.getName=function(){return Lr.Name},t.prototype.initialize=function(e){var i=this,s=this._initializeCallbacks,u=function(l){i._isInitialized=!l,i._initializeCallbacks=[],s.forEach((function(m){return m(l)}))};if(this._isInitialized)return e();s.push(e),s.length===1&&this._writable.readFile(Sn,"utf8",$e("r"),function(l,m){if(l){if(l.errno!==p.ENOENT)return u(l)}else i._deleteLog=m;i._reparseDeletionLog(),u()})},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},t.prototype.getDeletionLog=function(){return this._deleteLog},t.prototype.restoreDeletionLog=function(e){this._deleteLog=e,this._reparseDeletionLog(),this.updateLog("")},t.prototype.rename=function(e,i,s){var u=this;if(!(!this.checkInitAsync(s)||this.checkPathAsync(e,s)||this.checkPathAsync(i,s))){if(e===Sn||i===Sn)return s(d.EPERM("Cannot rename deletion log."));if(e===i)return s();this.stat(e,!1,function(l,m){return l?s(l):u.stat(i,!1,function(E,z){var Z=u;function at(wt){var Lt=wt.shift();if(!Lt)return s();var Bt=_.resolve(e,Lt),$t=_.resolve(i,Lt);Z.rename(Bt,$t,function(Ie){if(Ie)return s(Ie);at(wt)})}var mt=511;if(m.isDirectory()){if(E)return E.errno!==p.ENOENT?s(E):u._writable.exists(e,function(wt){if(wt)return u._writable.rename(e,i,s);u._writable.mkdir(i,mt,function(Lt){if(Lt)return s(Lt);u._readable.readdir(e,function(Bt,$t){if(Bt)return s();at($t)})})});if(mt=z.mode,!z.isDirectory())return s(d.ENOTDIR(i));u.readdir(i,function(wt,Lt){if(Lt&&Lt.length)return s(d.ENOTEMPTY(i));u._readable.readdir(e,function(Bt,$t){if(Bt)return s();at($t)})})}if(z&&z.isDirectory())return s(d.EISDIR(i));u.readFile(e,null,$e("r"),function(wt,Lt){return wt?s(wt):u.writeFile(i,Lt,null,$e("w"),m.mode,function(Bt){return Bt?s(Bt):u.unlink(e,s)})})})})}},t.prototype.renameSync=function(e,i){var s=this;if(this.checkInitialized(),this.checkPath(e),this.checkPath(i),e===Sn||i===Sn)throw d.EPERM("Cannot rename deletion log.");var u=this.statSync(e,!1);if(u.isDirectory()){if(e===i)return;var l=511;if(this.existsSync(i)){var m=this.statSync(i,!1);if(l=m.mode,m.isDirectory()){if(this.readdirSync(i).length>0)throw d.ENOTEMPTY(i)}else throw d.ENOTDIR(i)}this._writable.existsSync(e)?this._writable.renameSync(e,i):this._writable.existsSync(i)||this._writable.mkdirSync(i,l),this._readable.existsSync(e)&&this._readable.readdirSync(e).forEach(function(E){s.renameSync(_.resolve(e,E),_.resolve(i,E))})}else{if(this.existsSync(i)&&this.statSync(i,!1).isDirectory())throw d.EISDIR(i);this.writeFileSync(i,this.readFileSync(e,null,$e("r")),null,$e("w"),u.mode)}e!==i&&this.existsSync(e)&&this.unlinkSync(e)},t.prototype.stat=function(e,i,s){var u=this;this.checkInitAsync(s)&&this._writable.stat(e,i,function(l,m){l&&l.errno===p.ENOENT?(u._deletedFiles[e]&&s(d.ENOENT(e)),u._readable.stat(e,i,function(E,z){z&&(z=z.clone(),z.mode=Fo(z.mode)),s(E,z)})):s(l,m)})},t.prototype.statSync=function(e,i){this.checkInitialized();try{return this._writable.statSync(e,i)}catch{if(this._deletedFiles[e])throw d.ENOENT(e);var s=this._readable.statSync(e,i).clone();return s.mode=Fo(s.mode),s}},t.prototype.open=function(e,i,s,u){var l=this;!this.checkInitAsync(u)||this.checkPathAsync(e,u)||this.stat(e,!1,function(m,E){if(E)switch(i.pathExistsAction()){case P.TRUNCATE_FILE:return l.createParentDirectoriesAsync(e,function(z){if(z)return u(z);l._writable.open(e,i,s,u)});case P.NOP:return l._writable.exists(e,function(z){z?l._writable.open(e,i,s,u):(E=E.clone(),E.mode=s,l._readable.readFile(e,null,$e("r"),function(Z,at){if(Z)return u(Z);E.size===-1&&(E.size=at.length);var mt=new Do(l,e,i,E,at);u(null,mt)}))});default:return u(d.EEXIST(e))}else return i.pathNotExistsAction()===P.CREATE_FILE?l.createParentDirectoriesAsync(e,function(z){return z?u(z):l._writable.open(e,i,s,u)}):u(d.ENOENT(e))})},t.prototype.openSync=function(e,i,s){if(this.checkInitialized(),this.checkPath(e),e===Sn)throw d.EPERM("Cannot open deletion log.");if(this.existsSync(e))switch(i.pathExistsAction()){case P.TRUNCATE_FILE:return this.createParentDirectories(e),this._writable.openSync(e,i,s);case P.NOP:if(this._writable.existsSync(e))return this._writable.openSync(e,i,s);var u=this._readable.readFileSync(e,null,$e("r")),l=this._readable.statSync(e,!1).clone();return l.mode=s,new Do(this,e,i,l,u);default:throw d.EEXIST(e)}else{if(i.pathNotExistsAction()===P.CREATE_FILE)return this.createParentDirectories(e),this._writable.openSync(e,i,s);throw d.ENOENT(e)}},t.prototype.unlink=function(e,i){var s=this;!this.checkInitAsync(i)||this.checkPathAsync(e,i)||this.exists(e,function(u){if(!u)return i(d.ENOENT(e));s._writable.exists(e,function(l){if(l)return s._writable.unlink(e,function(m){if(m)return i(m);s.exists(e,function(E){E&&s.deletePath(e),i(null)})});s.deletePath(e),i(null)})})},t.prototype.unlinkSync=function(e){if(this.checkInitialized(),this.checkPath(e),this.existsSync(e))this._writable.existsSync(e)&&this._writable.unlinkSync(e),this.existsSync(e)&&this.deletePath(e);else throw d.ENOENT(e)},t.prototype.rmdir=function(e,i){var s=this;if(this.checkInitAsync(i)){var u=function(){s.readdir(e,function(l,m){if(l)return i(l);if(m.length)return i(d.ENOTEMPTY(e));s.deletePath(e),i(null)})};this.exists(e,function(l){if(!l)return i(d.ENOENT(e));s._writable.exists(e,function(m){m?s._writable.rmdir(e,function(E){if(E)return i(E);s._readable.exists(e,function(z){z?u():i()})}):u()})})}},t.prototype.rmdirSync=function(e){if(this.checkInitialized(),this.existsSync(e)){if(this._writable.existsSync(e)&&this._writable.rmdirSync(e),this.existsSync(e)){if(this.readdirSync(e).length>0)throw d.ENOTEMPTY(e);this.deletePath(e)}}else throw d.ENOENT(e)},t.prototype.mkdir=function(e,i,s){var u=this;this.checkInitAsync(s)&&this.exists(e,function(l){if(l)return s(d.EEXIST(e));u.createParentDirectoriesAsync(e,function(m){if(m)return s(m);u._writable.mkdir(e,i,s)})})},t.prototype.mkdirSync=function(e,i){if(this.checkInitialized(),this.existsSync(e))throw d.EEXIST(e);this.createParentDirectories(e),this._writable.mkdirSync(e,i)},t.prototype.readdir=function(e,i){var s=this;this.checkInitAsync(i)&&this.stat(e,!1,function(u,l){if(u)return i(u);if(!l.isDirectory())return i(d.ENOTDIR(e));s._writable.readdir(e,function(m,E){if(m&&m.code!=="ENOENT")return i(m);(m||!E)&&(E=[]),s._readable.readdir(e,function(z,Z){(z||!Z)&&(Z=[]);var at={},mt=E.concat(Z.filter(function(wt){return!s._deletedFiles[e+"/"+wt]})).filter(function(wt){var Lt=!at[wt];return at[wt]=!0,Lt});i(null,mt)})})})},t.prototype.readdirSync=function(e){var i=this;this.checkInitialized();var s=this.statSync(e,!1);if(!s.isDirectory())throw d.ENOTDIR(e);var u=[];try{u=u.concat(this._writable.readdirSync(e))}catch{}try{u=u.concat(this._readable.readdirSync(e).filter(function(m){return!i._deletedFiles[e+"/"+m]}))}catch{}var l={};return u.filter(function(m){var E=!l[m];return l[m]=!0,E})},t.prototype.exists=function(e,i){var s=this;this.checkInitialized(),this._writable.exists(e,function(u){if(u)return i(!0);s._readable.exists(e,function(l){i(l&&s._deletedFiles[e]!==!0)})})},t.prototype.existsSync=function(e){return this.checkInitialized(),this._writable.existsSync(e)||this._readable.existsSync(e)&&this._deletedFiles[e]!==!0},t.prototype.chmod=function(e,i,s,u){var l=this;this.checkInitAsync(u)&&this.operateOnWritableAsync(e,function(m){if(m)return u(m);l._writable.chmod(e,i,s,u)})},t.prototype.chmodSync=function(e,i,s){var u=this;this.checkInitialized(),this.operateOnWritable(e,function(){u._writable.chmodSync(e,i,s)})},t.prototype.chown=function(e,i,s,u,l){var m=this;this.checkInitAsync(l)&&this.operateOnWritableAsync(e,function(E){if(E)return l(E);m._writable.chown(e,i,s,u,l)})},t.prototype.chownSync=function(e,i,s,u){var l=this;this.checkInitialized(),this.operateOnWritable(e,function(){l._writable.chownSync(e,i,s,u)})},t.prototype.utimes=function(e,i,s,u){var l=this;this.checkInitAsync(u)&&this.operateOnWritableAsync(e,function(m){if(m)return u(m);l._writable.utimes(e,i,s,u)})},t.prototype.utimesSync=function(e,i,s){var u=this;this.checkInitialized(),this.operateOnWritable(e,function(){u._writable.utimesSync(e,i,s)})},t.prototype.deletePath=function(e){this._deletedFiles[e]=!0,this.updateLog("d"+e+`
`)},t.prototype.updateLog=function(e){var i=this;this._deleteLog+=e,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(Sn,this._deleteLog,"utf8",B.getFileFlag("w"),420,function(s){i._deleteLogUpdatePending=!1,s?i._deleteLogError=s:i._deleteLogUpdateNeeded&&(i._deleteLogUpdateNeeded=!1,i.updateLog(""))}))},t.prototype._reparseDeletionLog=function(){var e=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(i){e._deletedFiles[i.slice(1)]=i.slice(0,1)==="d"})},t.prototype.checkInitialized=function(){if(this._isInitialized){if(this._deleteLogError!==null){var e=this._deleteLogError;throw this._deleteLogError=null,e}}else throw new d(p.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")},t.prototype.checkInitAsync=function(e){if(this._isInitialized){if(this._deleteLogError!==null){var i=this._deleteLogError;return this._deleteLogError=null,e(i),!1}}else return e(new d(p.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;return!0},t.prototype.checkPath=function(e){if(e===Sn)throw d.EPERM(e)},t.prototype.checkPathAsync=function(e,i){return e===Sn?(i(d.EPERM(e)),!0):!1},t.prototype.createParentDirectoriesAsync=function(e,i){var s=_.dirname(e),u=[],l=this;this._writable.stat(s,!1,m);function m(z,Z){z?(u.push(s),s=_.dirname(s),l._writable.stat(s,!1,m)):E()}function E(){if(!u.length)return i();var z=u.pop();l._readable.stat(z,!1,function(Z,at){if(!at)return i();l._writable.mkdir(z,at.mode,function(mt){if(mt)return i(mt);E()})})}},t.prototype.createParentDirectories=function(e){for(var i=this,s=_.dirname(e),u=[];!this._writable.existsSync(s);)u.push(s),s=_.dirname(s);u=u.reverse(),u.forEach(function(l){i._writable.mkdirSync(l,i.statSync(l,!1).mode)})},t.prototype.operateOnWritable=function(e,i){if(this.existsSync(e))this._writable.existsSync(e)||this.copyToWritable(e),i();else throw d.ENOENT(e)},t.prototype.operateOnWritableAsync=function(e,i){var s=this;this.exists(e,function(u){if(!u)return i(d.ENOENT(e));s._writable.exists(e,function(l){if(l)i();else return s.copyToWritableAsync(e,i)})})},t.prototype.copyToWritable=function(e){var i=this.statSync(e,!1);i.isDirectory()?this._writable.mkdirSync(e,i.mode):this.writeFileSync(e,this._readable.readFileSync(e,null,$e("r")),null,$e("w"),this.statSync(e,!1).mode)},t.prototype.copyToWritableAsync=function(e,i){var s=this;this.stat(e,!1,function(u,l){if(u)return i(u);if(l.isDirectory())return s._writable.mkdir(e,l.mode,i);s._readable.readFile(e,null,$e("r"),function(m,E){if(m)return i(m);s.writeFile(e,E,null,$e("w"),l.mode,i)})})},t})(dt),Lr=(function(r){function t(n,e,i){i===void 0&&(i=!0),r.call(this,new No(n,e)),zt(i,t.Name,{readable:"readable file system",writable:"writable file system"})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){try{var s=new t(e.writable,e.readable,!1);s.initialize(function(u){i(u,s)},!1)}catch(u){i(u)}},t.isAvailable=function(){return No.isAvailable()},t.prototype.initialize=function(e,i){i===void 0&&(i=!0),i&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),r.prototype.initialize.call(this,e)},t.prototype.getOverlayedFileSystems=function(){return r.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},t.prototype.unwrap=function(){return r.prototype.getFSUnlocked.call(this)},t})(Zt);Lr.Name="OverlayFS",Lr.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}};var be;(function(r){r[r.CB=0]="CB",r[r.FD=1]="FD",r[r.API_ERROR=2]="API_ERROR",r[r.STATS=3]="STATS",r[r.PROBE=4]="PROBE",r[r.FILEFLAG=5]="FILEFLAG",r[r.BUFFER=6]="BUFFER",r[r.ERROR=7]="ERROR"})(be||(be={}));var fo=function(){this._callbacks={},this._nextId=0};fo.prototype.toRemoteArg=function(t){var n=this._nextId++;return this._callbacks[n]=t,{type:be.CB,id:n}},fo.prototype.toLocalArg=function(t){var n=this._callbacks[t];return delete this._callbacks[t],n};var mi=function(){this._fileDescriptors={},this._nextId=0};mi.prototype.toRemoteArg=function(t,n,e,i){var s=this._nextId++,u,l;this._fileDescriptors[s]=t,t.stat(function(m,E){m?i(m):(l=Mn(E.toBuffer()),e.isReadable()?t.read(C.alloc(E.size),0,E.size,0,function(z,Z,at){z?i(z):(u=Mn(at),i(null,{type:be.FD,id:s,data:u,stat:l,path:n,flag:e.getFlagString()}))}):i(null,{type:be.FD,id:s,data:new ArrayBuffer(0),stat:l,path:n,flag:e.getFlagString()}))})},mi.prototype.applyFdAPIRequest=function(t,n){var e=this,i=t.args[0];this._applyFdChanges(i,function(s,u){s?n(s):u[t.method](function(l){t.method==="close"&&delete e._fileDescriptors[i.id],n(l)})})},mi.prototype._applyFdChanges=function(t,n){var e=this._fileDescriptors[t.id],i=zn(t.data),s=G.fromBuffer(zn(t.stat)),u=B.getFileFlag(t.flag);u.isWriteable()?e.write(i,0,i.length,u.isAppendable()?e.getPos():0,function(l){function m(){e.stat(function(E,z){E?n(E):z.mode!==s.mode?e.chmod(s.mode,function(Z){n(Z,e)}):n(E,e)})}l?n(l):u.isAppendable()?m():e.truncate(i.length,function(){m()})}):n(null,e)};function wi(r){return{type:be.API_ERROR,errorData:Mn(r.writeToBuffer())}}function Lo(r){return d.fromBuffer(zn(r.errorData))}function Ao(r){return{type:be.ERROR,name:r.name,message:r.message,stack:r.stack}}function Co(r){var t=ve[r.name];typeof t!="function"&&(t=Error);var n=new t(r.message);return n.stack=r.stack,n}function Po(r){return{type:be.STATS,statsData:Mn(r.toBuffer())}}function Mo(r){return G.fromBuffer(zn(r.statsData))}function zo(r){return{type:be.FILEFLAG,flagStr:r.getFlagString()}}function jo(r){return B.getFileFlag(r.flagStr)}function Mn(r){return pt(r)}function zn(r){return Ht(r)}function Uo(r){return{type:be.BUFFER,data:Mn(r)}}function Bo(r){return zn(r.data)}function Wa(r){return r&&typeof r=="object"&&r.hasOwnProperty("browserfsMessage")&&r.browserfsMessage}function Ha(r){return r&&typeof r=="object"&&r.hasOwnProperty("browserfsMessage")&&r.browserfsMessage}var Wo=(function(r){function t(n,e,i,s,u,l){r.call(this,n,e,i,s,l),this._remoteFdId=u}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.getRemoteFdId=function(){return this._remoteFdId},t.prototype.toRemoteArg=function(){return{type:be.FD,id:this._remoteFdId,data:Mn(this.getBuffer()),stat:Mn(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},t.prototype.sync=function(e){this._syncClose("sync",e)},t.prototype.close=function(e){this._syncClose("close",e)},t.prototype._syncClose=function(e,i){var s=this;this.isDirty()?this._fs.syncClose(e,this,function(u){u||s.resetDirty(),i(u)}):i()},t})(xe),_i=(function(r){function t(n,e){var i=this;e===void 0&&(e=!0),r.call(this),this._callbackConverter=new fo,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=n,zt(e,t.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(s){var u=s.data;if(Ha(u)){var l,m=u.args,E=new Array(m.length);for(l=0;l<E.length;l++)E[l]=i._argRemote2Local(m[l]);i._callbackConverter.toLocalArg(u.cbId).apply(null,E)}})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){var s=new t(e.worker,!1);s.initialize(function(){i(null,s)})},t.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},t.attachRemoteListener=function(e){var i=new mi;function s(l,m,E){typeof l==="object"?l instanceof G?E(null,Po(l)):l instanceof d?E(null,wi(l)):l instanceof Mt?E(null,i.toRemoteArg(l,m[0],m[1],E)):l instanceof B?E(null,zo(l)):l instanceof C?E(null,Uo(l)):l instanceof Error?E(null,Ao(l)):E(null,l):E(null,l)}function u(l,m){if(!l)return l;switch(typeof l){case"object":if(typeof l.type=="number"){var E=l;switch(E.type){case be.CB:var z=l.id;return function(){var Z=arguments,at,mt=new Array(arguments.length),wt,Lt=arguments.length;function Bt($t){Lt>0&&(Lt=-1,wt={browserfsMessage:!0,cbId:z,args:[wi($t)]},e.postMessage(wt))}for(at=0;at<arguments.length;at++)(function($t,Ie){s(Ie,m,function(Be,dn){mt[$t]=dn,Be?Bt(Be):--Lt===0&&(wt={browserfsMessage:!0,cbId:z,args:mt},e.postMessage(wt))})})(at,Z[at]);arguments.length===0&&(wt={browserfsMessage:!0,cbId:z,args:mt},e.postMessage(wt))};case be.API_ERROR:return Lo(E);case be.STATS:return Mo(E);case be.FILEFLAG:return jo(E);case be.BUFFER:return Bo(E);case be.ERROR:return Co(E);default:return l}}else return l;default:return l}}e.addEventListener("message",function(l){var m=l.data;if(Wa(m)){var E=m.args,z=new Array(E.length);switch(m.method){case"close":case"sync":(function(){var mt=E[1];i.applyFdAPIRequest(m,function(wt){var Lt={browserfsMessage:!0,cbId:mt.id,args:wt?[wi(wt)]:[]};e.postMessage(Lt)})})();break;case"probe":(function(){var mt=bt.getRootFS(),wt=E[1],Lt={type:be.PROBE,isReadOnly:mt.isReadOnly(),supportsLinks:mt.supportsLinks(),supportsProps:mt.supportsProps()},Bt={browserfsMessage:!0,cbId:wt.id,args:[Lt]};e.postMessage(Bt)})();break;default:for(var Z=0;Z<E.length;Z++)z[Z]=u(E[Z],z);var at=bt.getRootFS();at[m.method].apply(at,z);break}}})},t.prototype.getName=function(){return t.Name},t.prototype.initialize=function(e){var i=this;if(this._isInitialized)e();else{var s={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(ae()),this._callbackConverter.toRemoteArg(function(u){i._isInitialized=!0,i._isReadOnly=u.isReadOnly,i._supportLinks=u.supportsLinks,i._supportProps=u.supportsProps,e()})]};this._worker.postMessage(s)}},t.prototype.isReadOnly=function(){return this._isReadOnly},t.prototype.supportsSynch=function(){return!1},t.prototype.supportsLinks=function(){return this._supportLinks},t.prototype.supportsProps=function(){return this._supportProps},t.prototype.rename=function(e,i,s){this._rpc("rename",arguments)},t.prototype.stat=function(e,i,s){this._rpc("stat",arguments)},t.prototype.open=function(e,i,s,u){this._rpc("open",arguments)},t.prototype.unlink=function(e,i){this._rpc("unlink",arguments)},t.prototype.rmdir=function(e,i){this._rpc("rmdir",arguments)},t.prototype.mkdir=function(e,i,s){this._rpc("mkdir",arguments)},t.prototype.readdir=function(e,i){this._rpc("readdir",arguments)},t.prototype.exists=function(e,i){this._rpc("exists",arguments)},t.prototype.realpath=function(e,i,s){this._rpc("realpath",arguments)},t.prototype.truncate=function(e,i,s){this._rpc("truncate",arguments)},t.prototype.readFile=function(e,i,s,u){this._rpc("readFile",arguments)},t.prototype.writeFile=function(e,i,s,u,l,m){this._rpc("writeFile",arguments)},t.prototype.appendFile=function(e,i,s,u,l,m){this._rpc("appendFile",arguments)},t.prototype.chmod=function(e,i,s,u){this._rpc("chmod",arguments)},t.prototype.chown=function(e,i,s,u,l){this._rpc("chown",arguments)},t.prototype.utimes=function(e,i,s,u){this._rpc("utimes",arguments)},t.prototype.link=function(e,i,s){this._rpc("link",arguments)},t.prototype.symlink=function(e,i,s,u){this._rpc("symlink",arguments)},t.prototype.readlink=function(e,i){this._rpc("readlink",arguments)},t.prototype.syncClose=function(e,i,s){this._worker.postMessage({browserfsMessage:!0,method:e,args:[i.toRemoteArg(),this._callbackConverter.toRemoteArg(s)]})},t.prototype._argRemote2Local=function(e){if(!e)return e;switch(typeof e){case"object":if(typeof e.type=="number"){var i=e;switch(i.type){case be.API_ERROR:return Lo(i);case be.FD:var s=i;return new Wo(this,s.path,B.getFileFlag(s.flag),G.fromBuffer(zn(s.stat)),s.id,zn(s.data));case be.STATS:return Mo(i);case be.FILEFLAG:return jo(i);case be.BUFFER:return Bo(i);case be.ERROR:return Co(i);default:return e}}else return e;default:return e}},t.prototype._rpc=function(e,i){for(var s=this,u=new Array(i.length),l=0;l<i.length;l++)u[l]=s._argLocal2Remote(i[l]);var m={browserfsMessage:!0,method:e,args:u};this._worker.postMessage(m)},t.prototype._argLocal2Remote=function(e){if(!e)return e;switch(typeof e){case"object":return e instanceof G?Po(e):e instanceof d?wi(e):e instanceof Wo?e.toRemoteArg():e instanceof B?zo(e):e instanceof C?Uo(e):e instanceof Error?Ao(e):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(e);default:return e}},t})(dt);_i.Name="WorkerFS",_i.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(r,t){r.postMessage?t():t(new d(p.EINVAL,"option must be a Web Worker instance."))}}};function Va(r,t,n){var e=new XMLHttpRequest;e.open("GET",r,!0);var i=!0;switch(t){case"buffer":e.responseType="arraybuffer";break;case"json":try{e.responseType="json",i=e.responseType==="json"}catch{i=!1}break;default:return n(new d(p.EINVAL,"Invalid download type: "+t))}e.onreadystatechange=function(s){if(e.readyState===4)if(e.status===200)switch(t){case"buffer":return n(null,e.response?C.from(e.response):ae());case"json":return i?n(null,e.response):n(null,JSON.parse(e.responseText))}else return n(new d(e.status,"XHR error."))},e.send()}function Xa(r,t){var n=new XMLHttpRequest;n.open("GET",r,!1);var e=null,i=null;if(n.overrideMimeType("text/plain; charset=x-user-defined"),n.onreadystatechange=function(s){if(n.readyState===4)if(n.status===200)switch(t){case"buffer":var u=n.responseText;e=C.alloc(u.length);for(var l=0;l<u.length;l++)e[l]=u.charCodeAt(l);return;case"json":e=JSON.parse(n.responseText);return}else{i=new d(n.status,"XHR error.");return}},n.send(),i)throw i;return e}function Ya(r,t){var n=new XMLHttpRequest;switch(n.open("GET",r,!1),t){case"buffer":n.responseType="arraybuffer";break;case"json":break;default:throw new d(p.EINVAL,"Invalid download type: "+t)}var e,i;if(n.onreadystatechange=function(s){if(n.readyState===4)if(n.status===200)switch(t){case"buffer":e=C.from(n.response);break;case"json":e=JSON.parse(n.response);break}else i=new d(n.status,"XHR error.")},n.send(),i)throw i;return e}function Ho(r,t,n){var e=new XMLHttpRequest;e.open("HEAD",t,r),e.onreadystatechange=function(i){if(e.readyState===4)if(e.status===200)try{return n(null,parseInt(e.getResponseHeader("Content-Length")||"-1",10))}catch{return n(new d(p.EIO,"XHR HEAD error: Could not read content-length."))}else return n(new d(e.status,"XHR HEAD error."))},e.send()}var Vo=Va,Za=Ct&&typeof Blob<"u"?Ya:Xa;function qa(r){var t=-1;return Ho(!1,r,function(n,e){if(n)throw n;t=e}),t}function Ga(r,t){Ho(!0,r,t)}var on=function(){this._index={},this.addPath("/",new Je)};on.fromListing=function(t){var n=new on,e=new Je;n._index["/"]=e;for(var i=[["",t,e]];i.length>0;){var s=void 0,u=i.pop(),l=u[0],m=u[1],E=u[2];for(var z in m)if(m.hasOwnProperty(z)){var Z=m[z],at=l+"/"+z;Z?(n._index[at]=s=new Je,i.push([at,Z,s])):s=new cr(new G(q.FILE,-1,365)),E&&(E._ls[z]=s)}}return n},on.prototype.fileIterator=function(t){var n=this;for(var e in n._index)if(n._index.hasOwnProperty(e))for(var i=n._index[e],s=i.getListing(),u=0,l=s;u<l.length;u+=1){var m=l[u],E=i.getItem(m);En(E)&&t(E.getData())}},on.prototype.addPath=function(t,n){if(!n)throw new Error("Inode must be specified");if(t[0]!=="/")throw new Error("Path must be absolute, got: "+t);if(this._index.hasOwnProperty(t))return this._index[t]===n;var e=this._split_path(t),i=e[0],s=e[1],u=this._index[i];return u===void 0&&t!=="/"&&(u=new Je,!this.addPath(i,u))||t!=="/"&&!u.addItem(s,n)?!1:(kn(n)&&(this._index[t]=n),!0)},on.prototype.addPathFast=function(t,n){var e=t.lastIndexOf("/"),i=e===0?"/":t.substring(0,e),s=t.substring(e+1),u=this._index[i];return u===void 0&&(u=new Je,this.addPathFast(i,u)),u.addItem(s,n)?(n.isDir()&&(this._index[t]=n),!0):!1},on.prototype.removePath=function(t){var n=this,e=this._split_path(t),i=e[0],s=e[1],u=this._index[i];if(u===void 0)return null;var l=u.remItem(s);if(l===null)return null;if(kn(l)){for(var m=l.getListing(),E=0,z=m;E<z.length;E+=1){var Z=z[E];n.removePath(t+"/"+Z)}t!=="/"&&delete this._index[t]}return l},on.prototype.ls=function(t){var n=this._index[t];return n===void 0?null:n.getListing()},on.prototype.getInode=function(t){var n=this._split_path(t),e=n[0],i=n[1],s=this._index[e];return s===void 0?null:e===t?s:s.getItem(i)},on.prototype._split_path=function(t){var n=_.dirname(t),e=t.substr(n.length+(n==="/"?0:1));return[n,e]};var cr=function(t){this.data=t};cr.prototype.isFile=function(){return!0},cr.prototype.isDir=function(){return!1},cr.prototype.getData=function(){return this.data},cr.prototype.setData=function(t){this.data=t};var Je=function(t){t===void 0&&(t=null),this.data=t,this._ls={}};Je.prototype.isFile=function(){return!1},Je.prototype.isDir=function(){return!0},Je.prototype.getData=function(){return this.data},Je.prototype.getStats=function(){return new G(q.DIRECTORY,4096,365)},Je.prototype.getListing=function(){return Object.keys(this._ls)},Je.prototype.getItem=function(t){var n=this._ls[t];return n||null},Je.prototype.addItem=function(t,n){return t in this._ls?!1:(this._ls[t]=n,!0)},Je.prototype.remItem=function(t){var n=this._ls[t];return n===void 0?null:(delete this._ls[t],n)};function En(r){return!!r&&r.isFile()}function kn(r){return!!r&&r.isDir()}function Ka(r,t,n){try{n(null,r.toString(t))}catch(e){n(e)}}var Si=(function(r){function t(n,e,i){e===void 0&&(e=""),i===void 0&&(i=!0),r.call(this),n||(n="index.json"),e.length>0&&e.charAt(e.length-1)!=="/"&&(e=e+"/"),this.prefixUrl=e;var s=null;if(typeof n=="string"){if(s=this._requestFileSync(n,"json"),!s)throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else s=n;zt(i,t.Name,{index:typeof n=="string"?n:"file index as an object",baseUrl:e}),this._index=on.fromListing(s)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){e.index===void 0&&(e.index="index.json"),typeof e.index=="string"?t.FromURL(e.index,i,e.baseUrl,!1):i(null,new t(e.index,e.baseUrl,!1))},t.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},t.FromURL=function(e,i,s,u){s===void 0&&(s=e.slice(0,e.lastIndexOf("/")+1)),u===void 0&&(u=!0),u&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+e+'", baseUrl: "'+s+`" }, cb)' instead.`),Vo(e,"json",function(l,m){l?i(l):i(null,new t(m,s,!1))})},t.prototype.empty=function(){this._index.fileIterator(function(e){e.fileData=null})},t.prototype.getName=function(){return t.Name},t.prototype.diskSpace=function(e,i){i(0,0)},t.prototype.isReadOnly=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.preloadFile=function(e,i){var s=this._index.getInode(e);if(En(s)){if(s===null)throw d.ENOENT(e);var u=s.getData();u.size=i.length,u.fileData=i}else throw d.EISDIR(e)},t.prototype.stat=function(e,i,s){var u=this._index.getInode(e);if(u===null)return s(d.ENOENT(e));var l;En(u)?(l=u.getData(),l.size<0?this._requestFileSizeAsync(e,function(m,E){if(m)return s(m);l.size=E,s(null,l.clone())}):s(null,l.clone())):kn(u)?(l=u.getStats(),s(null,l)):s(d.FileError(p.EINVAL,e))},t.prototype.statSync=function(e,i){var s=this._index.getInode(e);if(s===null)throw d.ENOENT(e);var u;if(En(s))u=s.getData(),u.size<0&&(u.size=this._requestFileSizeSync(e));else if(kn(s))u=s.getStats();else throw d.FileError(p.EINVAL,e);return u},t.prototype.open=function(e,i,s,u){if(i.isWriteable())return u(new d(p.EPERM,e));var l=this,m=this._index.getInode(e);if(m===null)return u(d.ENOENT(e));if(En(m)){var E=m.getData();switch(i.pathExistsAction()){case P.THROW_EXCEPTION:case P.TRUNCATE_FILE:return u(d.EEXIST(e));case P.NOP:if(E.fileData)return u(null,new Ne(l,e,i,E.clone(),E.fileData));this._requestFileAsync(e,"buffer",function(z,Z){return z?u(z):(E.size=Z.length,E.fileData=Z,u(null,new Ne(l,e,i,E.clone(),Z)))});break;default:return u(new d(p.EINVAL,"Invalid FileMode object."))}}else return u(d.EISDIR(e))},t.prototype.openSync=function(e,i,s){if(i.isWriteable())throw new d(p.EPERM,e);var u=this._index.getInode(e);if(u===null)throw d.ENOENT(e);if(En(u)){var l=u.getData();switch(i.pathExistsAction()){case P.THROW_EXCEPTION:case P.TRUNCATE_FILE:throw d.EEXIST(e);case P.NOP:if(l.fileData)return new Ne(this,e,i,l.clone(),l.fileData);var m=this._requestFileSync(e,"buffer");return l.size=m.length,l.fileData=m,new Ne(this,e,i,l.clone(),m);default:throw new d(p.EINVAL,"Invalid FileMode object.")}}else throw d.EISDIR(e)},t.prototype.readdir=function(e,i){try{i(null,this.readdirSync(e))}catch(s){i(s)}},t.prototype.readdirSync=function(e){var i=this._index.getInode(e);if(i===null)throw d.ENOENT(e);if(kn(i))return i.getListing();throw d.ENOTDIR(e)},t.prototype.readFile=function(e,i,s,u){var l=u;this.open(e,s,420,function(m,E){if(m)return u(m);u=function(at,mt){E.close(function(wt){return at||(at=wt),l(at,mt)})};var z=E,Z=z.getBuffer();i===null?u(m,te(Z)):Ka(Z,i,u)})},t.prototype.readFileSync=function(e,i,s){var u=this.openSync(e,s,420);try{var l=u,m=l.getBuffer();return i===null?te(m):m.toString(i)}finally{u.closeSync()}},t.prototype.getXhrPath=function(e){return e.charAt(0)==="/"&&(e=e.slice(1)),this.prefixUrl+e},t.prototype._requestFileAsync=function(e,i,s){Vo(this.getXhrPath(e),i,s)},t.prototype._requestFileSync=function(e,i){return Za(this.getXhrPath(e),i)},t.prototype._requestFileSizeAsync=function(e,i){Ga(this.getXhrPath(e),i)},t.prototype._requestFileSizeSync=function(e){return qa(this.getXhrPath(e))},t})(dt);Si.Name="XmlHttpRequest",Si.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var jn=function(){};jn.str2byte=function(t,n){for(var e=t.length>n.length?n.length:t.length,i=0;i<e;i++){var s=t.charCodeAt(i);if(s>127){var u=jn.extendedChars.indexOf(t.charAt(i));u>-1&&(s=u+128)}n[s]=i}return e},jn.byte2str=function(t){for(var n=new Array(t.length),e=0;e<t.length;e++){var i=t[e];i>127?n[e]=jn.extendedChars[i-128]:n[e]=String.fromCharCode(i)}return n.join("")},jn.byteLength=function(t){return t.length},jn.extendedChars=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","_","_","_","","","","","","","","","+","+","","","+","+","-","-","+","-","+","","","+","+","-","-","","-","+","","","","","","","i","","","","+","+","_","_","","","_","","","","","","","","","","","","","","","","","","","_","","","","","","","","","","","","_"," "];var Ja=N(31).inflateRaw,Xo={},Yo;(function(r){r[r.MSDOS=0]="MSDOS",r[r.AMIGA=1]="AMIGA",r[r.OPENVMS=2]="OPENVMS",r[r.UNIX=3]="UNIX",r[r.VM_CMS=4]="VM_CMS",r[r.ATARI_ST=5]="ATARI_ST",r[r.OS2_HPFS=6]="OS2_HPFS",r[r.MAC=7]="MAC",r[r.Z_SYSTEM=8]="Z_SYSTEM",r[r.CP_M=9]="CP_M",r[r.NTFS=10]="NTFS",r[r.MVS=11]="MVS",r[r.VSE=12]="VSE",r[r.ACORN_RISC=13]="ACORN_RISC",r[r.VFAT=14]="VFAT",r[r.ALT_MVS=15]="ALT_MVS",r[r.BEOS=16]="BEOS",r[r.TANDEM=17]="TANDEM",r[r.OS_400=18]="OS_400",r[r.OSX=19]="OSX"})(Yo||(Yo={}));var ur;(function(r){r[r.STORED=0]="STORED",r[r.SHRUNK=1]="SHRUNK",r[r.REDUCED_1=2]="REDUCED_1",r[r.REDUCED_2=3]="REDUCED_2",r[r.REDUCED_3=4]="REDUCED_3",r[r.REDUCED_4=5]="REDUCED_4",r[r.IMPLODE=6]="IMPLODE",r[r.DEFLATE=8]="DEFLATE",r[r.DEFLATE64=9]="DEFLATE64",r[r.TERSE_OLD=10]="TERSE_OLD",r[r.BZIP2=12]="BZIP2",r[r.LZMA=14]="LZMA",r[r.TERSE_NEW=18]="TERSE_NEW",r[r.LZ77=19]="LZ77",r[r.WAVPACK=97]="WAVPACK",r[r.PPMD=98]="PPMD"})(ur||(ur={}));function Zo(r,t){var n=t&31,e=(t>>5&15)-1,i=(t>>9)+1980,s=r&31,u=r>>5&63,l=r>>11;return new Date(i,e,n,l,u,s)}function Ei(r,t,n,e){return e===0?"":t?r.toString("utf8",n,n+e):jn.byte2str(r.slice(n,n+e))}var tn=function(t){if(this.data=t,t.readUInt32LE(0)!==67324752)throw new d(p.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};tn.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},tn.prototype.flags=function(){return this.data.readUInt16LE(6)},tn.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},tn.prototype.lastModFileTime=function(){return Zo(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},tn.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},tn.prototype.crc32=function(){return this.data.readUInt32LE(14)},tn.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},tn.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},tn.prototype.fileName=function(){return Ei(this.data,this.useUTF8(),30,this.fileNameLength())},tn.prototype.extraField=function(){var t=30+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},tn.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},tn.prototype.useUTF8=function(){return(this.flags()&2048)===2048};var Ar=function(t,n,e){this.header=t,this.record=n,this.data=e};Ar.prototype.decompress=function(){var t=this.header.compressionMethod(),n=Xo[t];if(n)return n(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var e=ur[t];throw e||(e="Unknown: "+t),new d(p.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+e)},Ar.prototype.getHeader=function(){return this.header},Ar.prototype.getRecord=function(){return this.record},Ar.prototype.getRawData=function(){return this.data};var se=function(t,n){if(this.zipData=t,this.data=n,this.data.readUInt32LE(0)!==33639248)throw new d(p.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};se.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},se.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},se.prototype.flag=function(){return this.data.readUInt16LE(8)},se.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},se.prototype.lastModFileTime=function(){return Zo(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},se.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},se.prototype.crc32=function(){return this.data.readUInt32LE(16)},se.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},se.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},se.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},se.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},se.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},se.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},se.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},se.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},se.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},se.prototype.produceFilename=function(){var t=Ei(this.data,this.useUTF8(),46,this.fileNameLength());return t.replace(/\\/g,"/")},se.prototype.fileName=function(){return this._filename},se.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},se.prototype.extraField=function(){var t=44+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},se.prototype.fileComment=function(){var t=46+this.fileNameLength()+this.extraFieldLength();return Ei(this.data,this.useUTF8(),t,this.fileCommentLength())},se.prototype.rawFileComment=function(){var t=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(t,t+this.fileCommentLength())},se.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},se.prototype.isDirectory=function(){var t=this.fileName();return!!(this.externalAttributes()&16)||t.charAt(t.length-1)==="/"},se.prototype.isFile=function(){return!this.isDirectory()},se.prototype.useUTF8=function(){return(this.flag()&2048)===2048},se.prototype.isEncrypted=function(){return(this.flag()&1)===1},se.prototype.getFileData=function(){var t=this.headerRelativeOffset(),n=new tn(this.zipData.slice(t));return new Ar(n,this,this.zipData.slice(t+n.totalSize()))},se.prototype.getData=function(){return this.getFileData().decompress()},se.prototype.getRawData=function(){return this.getFileData().getRawData()},se.prototype.getStats=function(){return new G(q.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var hn=function(t){if(this.data=t,this.data.readUInt32LE(0)!==101010256)throw new d(p.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};hn.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},hn.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},hn.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},hn.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},hn.prototype.cdSize=function(){return this.data.readUInt32LE(12)},hn.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},hn.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},hn.prototype.cdZipComment=function(){return Ei(this.data,!0,22,this.cdZipCommentLength())},hn.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var qo=function(t,n,e,i){this.index=t,this.directoryEntries=n,this.eocd=e,this.data=i},Un=(function(r){function t(n,e,i){e===void 0&&(e=""),i===void 0&&(i=!0),r.call(this),this.name=e,this._index=new on,this._directoryEntries=[],this._eocd=null,zt(i,t.Name,{zipData:"zip data as a Buffer",name:e}),n instanceof qo?(this._index=n.index,this._directoryEntries=n.directoryEntries,this._eocd=n.eocd,this.data=n.data):(this.data=n,this.populateIndex())}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){try{t.computeIndex(e.zipData,function(s){var u=new t(s,e.name,!1);i(null,u)},!1)}catch(s){i(s)}},t.isAvailable=function(){return!0},t.RegisterDecompressionMethod=function(e,i){Xo[e]=i},t.computeIndex=function(e,i,s){s===void 0&&(s=!0),s&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var u=new on,l=t.getEOCD(e);if(l.diskNumber()!==l.cdDiskNumber())throw new d(p.EINVAL,"ZipFS does not support spanned zip files.");var m=l.cdOffset();if(m===4294967295)throw new d(p.EINVAL,"ZipFS does not support Zip64.");var E=m+l.cdSize();t.computeIndexResponsive(e,u,m,E,i,[],l)},t.getEOCD=function(e){for(var i=22,s=Math.min(i+65535,e.length-1),u=i;u<s;u++)if(e.readUInt32LE(e.length-u)===101010256)return new hn(e.slice(e.length-u));throw new d(p.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},t.addToIndex=function(e,i){var s=e.fileName();if(s.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");s.charAt(s.length-1)==="/"&&(s=s.substr(0,s.length-1)),e.isDirectory()?i.addPathFast("/"+s,new Je(e)):i.addPathFast("/"+s,new cr(e))},t.computeIndexResponsive=function(e,i,s,u,l,m,E){if(s<u){for(var z=0;z++<200&&s<u;){var Z=new se(e,e.slice(s));t.addToIndex(Z,i),s+=Z.totalSize(),m.push(Z)}uo(function(){t.computeIndexResponsive(e,i,s,u,l,m,E)})}else l(new qo(i,m,E,e))},t.prototype.getName=function(){return t.Name+(this.name!==""?" "+this.name:"")},t.prototype.getCentralDirectoryEntry=function(e){var i=this._index.getInode(e);if(i===null)throw d.ENOENT(e);if(En(i))return i.getData();if(kn(i))return i.getData();throw d.EPERM("Invalid inode: "+i)},t.prototype.getCentralDirectoryEntryAt=function(e){var i=this._directoryEntries[e];if(!i)throw new RangeError("Invalid directory index: "+e+".");return i},t.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},t.prototype.getEndOfCentralDirectory=function(){return this._eocd},t.prototype.diskSpace=function(e,i){i(this.data.length,0)},t.prototype.isReadOnly=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.statSync=function(e,i){var s=this._index.getInode(e);if(s===null)throw d.ENOENT(e);var u;if(En(s))u=s.getData().getStats();else if(kn(s))u=s.getStats();else throw new d(p.EINVAL,"Invalid inode.");return u},t.prototype.openSync=function(e,i,s){if(i.isWriteable())throw new d(p.EPERM,e);var u=this._index.getInode(e);if(u)if(En(u)){var l=u.getData(),m=l.getStats();switch(i.pathExistsAction()){case P.THROW_EXCEPTION:case P.TRUNCATE_FILE:throw d.EEXIST(e);case P.NOP:return new Ne(this,e,i,m,l.getData());default:throw new d(p.EINVAL,"Invalid FileMode object.")}}else throw d.EISDIR(e);else throw d.ENOENT(e)},t.prototype.readdirSync=function(e){var i=this._index.getInode(e);if(i){if(kn(i))return i.getListing();throw d.ENOTDIR(e)}else throw d.ENOENT(e)},t.prototype.readFileSync=function(e,i,s){var u=this.openSync(e,s,420);try{var l=u,m=l.getBuffer();return i===null?te(m):m.toString(i)}finally{u.closeSync()}},t.prototype.populateIndex=function(){var e=this,i=this._eocd=t.getEOCD(this.data);if(i.diskNumber()!==i.cdDiskNumber())throw new d(p.EINVAL,"ZipFS does not support spanned zip files.");var s=i.cdOffset();if(s===4294967295)throw new d(p.EINVAL,"ZipFS does not support Zip64.");for(var u=s+i.cdSize();s<u;){var l=new se(e.data,e.data.slice(s));s+=l.totalSize(),t.addToIndex(l,e._index),e._directoryEntries.push(l)}},t})(ge);Un.Name="ZipFS",Un.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:x},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},Un.CompressionMethod=ur,Un.RegisterDecompressionMethod(ur.DEFLATE,function(r,t,n){return qt(Ja(r.slice(0,t),{chunkSize:n}))}),Un.RegisterDecompressionMethod(ur.STORED,function(r,t,n){return te(r,0,n)});var Qa="IEEE_P1282";function Qe(r,t,n){return r.toString("ascii",t,t+n).trim()}function lo(r,t,n){if(n===1)return String.fromCharCode(r[t]);for(var e=Math.floor(n/2),i=new Array(e),s=0;s<e;s++){var u=t+(s<<1);i[s]=String.fromCharCode(r[u+1]|r[u]<<8)}return i.join("")}function pn(r,t){var n=parseInt(Qe(r,t,4),10),e=parseInt(Qe(r,t+4,2),10),i=parseInt(Qe(r,t+6,2),10),s=parseInt(Qe(r,t+8,2),10),u=parseInt(Qe(r,t+10,2),10),l=parseInt(Qe(r,t+12,2),10),m=parseInt(Qe(r,t+14,2),10);return new Date(n,e,i,s,u,l,m*100)}function Bn(r,t){var n=r[t],e=r[t+1],i=r[t+2],s=r[t+3],u=r[t+4],l=r[t+5];return new Date(n,e-1,i,s,u,l)}function $a(r,t){var n=r.slice(t),e=new ke(n);switch(e.signatureWord()){case 17221:return new $o(n);case 20548:return new ns(n);case 21328:return new ta(n);case 21332:return new ea(n);case 17746:return new na(n);case 17747:return new rs(n);case 20568:return new ia(n);case 20558:return new is(n);case 21324:return new ho(n);case 20045:return new oa(n);case 17228:return new po(n);case 20556:return new os(n);case 21061:return new aa(n);case 21574:return new sa(n);case 21318:return new as(n);case 21074:return new ra(n);default:return e}}function Go(r,t,n,e){n=n-4;for(var i=new Array;t<n;){var s=$a(r,t),u=s.length();if(u===0)return i;if(t+=u,s instanceof ea)break;s instanceof $o?i=i.concat(s.getEntries(e)):i.push(s)}return i}var fr=function(t){this._data=t};fr.prototype.type=function(){return this._data[0]},fr.prototype.standardIdentifier=function(){return Qe(this._data,1,5)},fr.prototype.version=function(){return this._data[6]},fr.prototype.data=function(){return this._data.slice(7,2048)};var Ko=(function(r){function t(n){r.call(this,n),this._root=null}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.systemIdentifier=function(){return this._getString32(8)},t.prototype.volumeIdentifier=function(){return this._getString32(40)},t.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},t.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},t.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},t.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},t.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},t.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},t.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},t.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},t.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},t.prototype.rootDirectoryEntry=function(e){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(e)),this._root},t.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},t.prototype.publisherIdentifier=function(){return this._getString(318,128)},t.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},t.prototype.applicationIdentifier=function(){return this._getString(574,128)},t.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},t.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},t.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},t.prototype.volumeCreationDate=function(){return pn(this._data,813)},t.prototype.volumeModificationDate=function(){return pn(this._data,830)},t.prototype.volumeExpirationDate=function(){return pn(this._data,847)},t.prototype.volumeEffectiveDate=function(){return pn(this._data,864)},t.prototype.fileStructureVersion=function(){return this._data[881]},t.prototype.applicationUsed=function(){return this._data.slice(883,1395)},t.prototype.reserved=function(){return this._data.slice(1395,2048)},t.prototype._getString32=function(e){return this._getString(e,32)},t})(fr),ts=(function(r){function t(n){if(r.call(this,n),this.type()!==1)throw new d(p.EIO,"Invalid primary volume descriptor.")}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.name=function(){return"ISO9660"},t.prototype._constructRootDirectoryRecord=function(e){return new Jo(e,-1)},t.prototype._getString=function(e,i){return this._getString(e,i)},t})(Ko),es=(function(r){function t(n){if(r.call(this,n),this.type()!==2)throw new d(p.EIO,"Invalid supplementary volume descriptor.");var e=this.escapeSequence(),i=e[2];if(e[0]!==37||e[1]!==47||i!==64&&i!==67&&i!==69)throw new d(p.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+e.toString())}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.name=function(){return"Joliet"},t.prototype.escapeSequence=function(){return this._data.slice(88,120)},t.prototype._constructRootDirectoryRecord=function(e){return new Qo(e,-1)},t.prototype._getString=function(e,i){return lo(this._data,e,i)},t})(Ko),Se=function(t,n){this._suEntries=null,this._fileOrDir=null,this._data=t,this._rockRidgeOffset=n};Se.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},Se.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},Se.prototype.rootCheckForRockRidge=function(t){var n=this.getDirectory(t);this._rockRidgeOffset=n.getDotEntry(t)._getRockRidgeOffset(t),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},Se.prototype.length=function(){return this._data[0]},Se.prototype.extendedAttributeRecordLength=function(){return this._data[1]},Se.prototype.lba=function(){return this._data.readUInt32LE(2)*2048},Se.prototype.dataLength=function(){return this._data.readUInt32LE(10)},Se.prototype.recordingDate=function(){return Bn(this._data,18)},Se.prototype.fileFlags=function(){return this._data[25]},Se.prototype.fileUnitSize=function(){return this._data[26]},Se.prototype.interleaveGapSize=function(){return this._data[27]},Se.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},Se.prototype.identifier=function(){return this._getString(33,this._data[32])},Se.prototype.fileName=function(t){if(this.hasRockRidge()){var n=this._rockRidgeFilename(t);if(n!==null)return n}var e=this.identifier();if(this.isDirectory(t))return e;var i=e.indexOf(";");return i===-1?e:e[i-1]==="."?e.slice(0,i-1):e.slice(0,i)},Se.prototype.isDirectory=function(t){var n=!!(this.fileFlags()&2);return!n&&this.hasRockRidge()&&(n=this.getSUEntries(t).filter(function(e){return e instanceof po}).length>0),n},Se.prototype.isSymlink=function(t){return this.hasRockRidge()&&this.getSUEntries(t).filter(function(n){return n instanceof ho}).length>0},Se.prototype.getSymlinkPath=function(t){for(var n="",e=this.getSUEntries(t),i=this._getGetString(),s=0,u=e;s<u.length;s+=1){var l=u[s];if(l instanceof ho){for(var m=l.componentRecords(),E=0,z=m;E<z.length;E+=1){var Z=z[E],at=Z.flags();at&2?n+="./":at&4?n+="../":at&8?n+="/":(n+=Z.content(i),at&1||(n+="/"))}if(!l.continueFlag())break}}return n.length>1&&n[n.length-1]==="/"?n.slice(0,n.length-1):n},Se.prototype.getFile=function(t){if(this.isDirectory(t))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=t.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},Se.prototype.getDirectory=function(t){if(!this.isDirectory(t))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(t)),this._fileOrDir},Se.prototype.getSUEntries=function(t){return this._suEntries||this._constructSUEntries(t),this._suEntries},Se.prototype._rockRidgeFilename=function(t){var n=this.getSUEntries(t).filter(function(m){return m instanceof oa});if(n.length===0||n[0].flags()&6)return null;for(var e="",i=this._getGetString(),s=0,u=n;s<u.length;s+=1){var l=u[s];if(e+=l.name(i),!(l.flags()&1))break}return e},Se.prototype._constructSUEntries=function(t){var n=33+this._data[32];n%2===1&&n++,n+=this._rockRidgeOffset,this._suEntries=Go(this._data,n,this.length(),t)},Se.prototype._getRockRidgeOffset=function(t){this._rockRidgeOffset=0;var n=this.getSUEntries(t);if(n.length>0){var e=n[0];if(e instanceof ta&&e.checkBytesPass())for(var i=1;i<n.length;i++){var s=n[i];if(s instanceof ra||s instanceof na&&s.extensionIdentifier()===Qa)return e.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var Jo=(function(r){function t(n,e){r.call(this,n,e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype._getString=function(e,i){return Qe(this._data,e,i)},t.prototype._constructDirectory=function(e){return new ss(this,e)},t.prototype._getGetString=function(){return Qe},t})(Se),Qo=(function(r){function t(n,e){r.call(this,n,e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype._getString=function(e,i){return lo(this._data,e,i)},t.prototype._constructDirectory=function(e){return new cs(this,e)},t.prototype._getGetString=function(){return lo},t})(Se),ke=function(t){this._data=t};ke.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},ke.prototype.signatureWordString=function(){return Qe(this._data,0,2)},ke.prototype.length=function(){return this._data[2]},ke.prototype.suVersion=function(){return this._data[3]};var $o=(function(r){function t(n){r.call(this,n),this._entries=null}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},t.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},t.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},t.prototype.getEntries=function(e){if(!this._entries){var i=this.continuationLba()*2048+this.continuationLbaOffset();this._entries=Go(e,i,this.continuationLength(),e)}return this._entries},t})(ke),ns=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t})(ke),ta=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},t.prototype.bytesSkipped=function(){return this._data[6]},t})(ke),ea=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t})(ke),na=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.identifierLength=function(){return this._data[4]},t.prototype.descriptorLength=function(){return this._data[5]},t.prototype.sourceLength=function(){return this._data[6]},t.prototype.extensionVersion=function(){return this._data[7]},t.prototype.extensionIdentifier=function(){return Qe(this._data,8,this.identifierLength())},t.prototype.extensionDescriptor=function(){return Qe(this._data,8+this.identifierLength(),this.descriptorLength())},t.prototype.extensionSource=function(){return Qe(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},t})(ke),rs=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.extensionSequence=function(){return this._data[4]},t})(ke),ra=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t})(ke),ia=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.mode=function(){return this._data.readUInt32LE(4)},t.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},t.prototype.uid=function(){return this._data.readUInt32LE(20)},t.prototype.gid=function(){return this._data.readUInt32LE(28)},t.prototype.inode=function(){return this._data.readUInt32LE(36)},t})(ke),is=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},t.prototype.devTLow=function(){return this._data.readUInt32LE(12)},t})(ke),ho=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.flags=function(){return this._data[4]},t.prototype.continueFlag=function(){return this.flags()&1},t.prototype.componentRecords=function(){for(var e=this,i=new Array,s=5;s<this.length();){var u=new Cr(e._data.slice(s));i.push(u),s+=u.length()}return i},t})(ke),Cr=function(t){this._data=t};Cr.prototype.flags=function(){return this._data[0]},Cr.prototype.length=function(){return 2+this.componentLength()},Cr.prototype.componentLength=function(){return this._data[1]},Cr.prototype.content=function(t){return t(this._data,2,this.componentLength())};var oa=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.flags=function(){return this._data[4]},t.prototype.name=function(e){return e(this._data,5,this.length()-5)},t})(ke),po=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},t})(ke),os=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},t})(ke),aa=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t})(ke),sa=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.flags=function(){return this._data[4]},t.prototype.creation=function(){return this.flags()&1?this._longFormDates()?pn(this._data,5):Bn(this._data,5):null},t.prototype.modify=function(){if(this.flags()&2){var e=this.flags()&1?1:0;return this._longFormDates?pn(this._data,5+e*17):Bn(this._data,5+e*7)}else return null},t.prototype.access=function(){if(this.flags()&4){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,this._longFormDates?pn(this._data,5+e*17):Bn(this._data,5+e*7)}else return null},t.prototype.backup=function(){if(this.flags()&16){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,e+=this.flags()&4?1:0,this._longFormDates?pn(this._data,5+e*17):Bn(this._data,5+e*7)}else return null},t.prototype.expiration=function(){if(this.flags()&32){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,e+=this.flags()&4?1:0,e+=this.flags()&16?1:0,this._longFormDates?pn(this._data,5+e*17):Bn(this._data,5+e*7)}else return null},t.prototype.effective=function(){if(this.flags()&64){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,e+=this.flags()&4?1:0,e+=this.flags()&16?1:0,e+=this.flags()&32?1:0,this._longFormDates?pn(this._data,5+e*17):Bn(this._data,5+e*7)}else return null},t.prototype._longFormDates=function(){return!!this.flags()},t})(ke),as=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},t.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},t.prototype.tableDepth=function(){return this._data[20]},t})(ke),Pr=function(t,n){var e=this;this._fileList=[],this._fileMap={},this._record=t;var i=t.lba(),s=i+t.dataLength();if(!(t.fileFlags()&2)){var u=t.getSUEntries(n).filter(function(z){return z instanceof po})[0];i=u.childDirectoryLba()*2048,s=1/0}for(;i<s;){var l=n[i];if(l===0){i++;continue}var m=e._constructDirectoryRecord(n.slice(i)),E=m.fileName(n);E!=="\0"&&E!==""?(!m.hasRockRidge()||m.getSUEntries(n).filter(function(z){return z instanceof aa}).length===0)&&(e._fileMap[E]=m,e._fileList.push(E)):s===1/0&&(s=i+m.dataLength()),i+=m.length()}};Pr.prototype.getRecord=function(t){return this._fileMap[t]},Pr.prototype.getFileList=function(){return this._fileList},Pr.prototype.getDotEntry=function(t){return this._constructDirectoryRecord(t.slice(this._record.lba()))};var ss=(function(r){function t(n,e){r.call(this,n,e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype._constructDirectoryRecord=function(e){return new Jo(e,this._record.getRockRidgeOffset())},t})(Pr),cs=(function(r){function t(n,e){r.call(this,n,e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype._constructDirectoryRecord=function(e){return new Qo(e,this._record.getRockRidgeOffset())},t})(Pr),bi=(function(r){function t(n,e,i){var s=this;e===void 0&&(e=""),i===void 0&&(i=!0),r.call(this),this._data=n,zt(i,t.Name,{data:"ISO data as a Buffer",name:e});for(var u=!1,l=16*2048,m=new Array;!u;){var E=n.slice(l),z=new fr(E);switch(z.type()){case 1:m.push(new ts(E));break;case 2:m.push(new es(E));break;case 255:u=!0;break}l+=2048}if(m.length===0)throw new d(p.EIO,"Unable to find a suitable volume descriptor.");m.forEach(function(Z){(!s._pvd||s._pvd.type()!==2)&&(s._pvd=Z)}),this._root=this._pvd.rootDirectoryEntry(n),this._name=e}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){var s,u;try{s=new t(e.data,e.name,!1)}catch(l){l=l}finally{i(u,s)}},t.isAvailable=function(){return!0},t.prototype.getName=function(){var e="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(e+="-RockRidge"),e},t.prototype.diskSpace=function(e,i){i(this._data.length,0)},t.prototype.isReadOnly=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.statSync=function(e,i){var s=this._getDirectoryRecord(e);if(s===null)throw d.ENOENT(e);return this._getStats(e,s)},t.prototype.openSync=function(e,i,s){if(i.isWriteable())throw new d(p.EPERM,e);var u=this._getDirectoryRecord(e);if(u){if(u.isSymlink(this._data))return this.openSync(_.resolve(e,u.getSymlinkPath(this._data)),i,s);if(u.isDirectory(this._data))throw d.EISDIR(e);var l=u.getFile(this._data),m=this._getStats(e,u);switch(i.pathExistsAction()){case P.THROW_EXCEPTION:case P.TRUNCATE_FILE:throw d.EEXIST(e);case P.NOP:return new Ne(this,e,i,m,l);default:throw new d(p.EINVAL,"Invalid FileMode object.")}}else throw d.ENOENT(e)},t.prototype.readdirSync=function(e){var i=this._getDirectoryRecord(e);if(i){if(i.isDirectory(this._data))return i.getDirectory(this._data).getFileList().slice(0);throw d.ENOTDIR(e)}else throw d.ENOENT(e)},t.prototype.readFileSync=function(e,i,s){var u=this.openSync(e,s,420);try{var l=u,m=l.getBuffer();return i===null?te(m):m.toString(i)}finally{u.closeSync()}},t.prototype._getDirectoryRecord=function(e){var i=this;if(e==="/")return this._root;for(var s=e.split("/").slice(1),u=this._root,l=0,m=s;l<m.length;l+=1){var E=m[l];if(u.isDirectory(i._data)){if(u=u.getDirectory(i._data).getRecord(E),!u)return null}else return null}return u},t.prototype._getStats=function(e,i){if(i.isSymlink(this._data)){var s=_.resolve(e,i.getSymlinkPath(this._data)),u=this._getDirectoryRecord(s);return u?this._getStats(s,u):null}else{var l=i.dataLength(),m=365,E=i.recordingDate(),z=E,Z=E,at=E;if(i.hasRockRidge())for(var mt=i.getSUEntries(this._data),wt=0,Lt=mt;wt<Lt.length;wt+=1){var Bt=Lt[wt];if(Bt instanceof ia)m=Bt.mode();else if(Bt instanceof sa){var $t=Bt.flags();$t&4&&(z=Bt.access()),$t&2&&(Z=Bt.modify()),$t&1&&(at=Bt.creation())}}return m=m&365,new G(i.isDirectory(this._data)?q.DIRECTORY:q.FILE,l,m,z,Z,at)}},t})(ge);bi.Name="IsoFS",bi.Options={data:{type:"object",description:"The ISO file in a buffer",validator:x}},[k,rr,_n,On,ar,S,ft,bi,Dt,Xt,Lr,_i,Si,Un].forEach(function(r){var t=r.Create;r.Create=function(n,e){var i=typeof n=="function",s=i?n:e,u=i?{}:n;function l(m){m?s(m):t.call(r,u,s)}A(r,u,l)}});var Ii={AsyncMirror:k,Dropbox:rr,Emscripten:_n,FolderAdapter:On,HTML5FS:ar,InMemory:S,IndexedDB:ft,IsoFS:bi,LocalStorage:Dt,MountableFileSystem:Xt,OverlayFS:Lr,WorkerFS:_i,XmlHttpRequest:Si,ZipFS:Un};V.initializeTTYs&&V.initializeTTYs();function us(r){r.Buffer=C,r.process=V;var t=r.require?r.require:null;r.require=function(n){var e=ca(n);return e||t.apply(null,Array.prototype.slice.call(arguments,0))}}function fs(r,t){Ii[r]=t}function ca(r){switch(r){case"fs":return bt;case"path":return _;case"buffer":return R;case"process":return V;case"bfs_utils":return ut;default:return Ii[r]}}function ua(r){return bt.initialize(r)}function ls(r,t){yo(r,function(n,e){e?(ua(e),t()):t(n)})}function yo(r,t){var n=r.fs;if(!n)return t(new d(p.EPERM,'Missing "fs" property on configuration object.'));var e=r.options,i=0,s=!1;function u(){if(!s){s=!0;var E=Ii[n];E?E.Create(e,t):t(new d(p.EPERM,"File system "+n+" is not available in BrowserFS."))}}if(e!==null&&typeof e=="object"){var l=!1,m=Object.keys(e).filter(function(E){return E!=="fs"});m.forEach(function(E){var z=e[E];z!==null&&typeof z=="object"&&z.fs&&(i++,yo(z,function(Z,at){if(i--,Z){if(s)return;s=!0,t(Z)}else e[E]=at,i===0&&l&&u()}))}),l=!0}i===0&&u()}"ab".substr(-1)!=="b"&&(String.prototype.substr=(function(r){return function(t,n){return t<0&&(t=this.length+t),r.call(this,t,n)}})(String.prototype.substr)),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(r,t){r===void 0&&(r=0),t===void 0&&(t=this.length);var n=this;return r<0&&(r=this.length+r,r<0&&(r=0)),t<0&&(t=this.length+t,t<0&&(t=0)),t<r&&(t=r),new Uint8Array(n.buffer,n.byteOffset+r,t-r)})),j.install=us,j.registerFileSystem=fs,j.BFSRequire=ca,j.initialize=ua,j.configure=ls,j.getFileSystem=yo,j.EmscriptenFS=jt,j.FileSystem=Ii,j.Errors=H,j.setImmediate=uo}).call(j,N(1),(function(){return this})(),N(5)(W),N(6))},function(W,j,N){W.exports=N(2).Buffer},function(W,j,N){(function(p){var Q=N(3),L=N(4);j.Buffer=p,j.SlowBuffer=ot,j.INSPECT_MAX_BYTES=50;var V=2147483647;j.kMaxLength=V,p.TYPED_ARRAY_SUPPORT=R(),!p.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function R(){try{var k=new Uint8Array(1);return k.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},k.foo()===42}catch{return!1}}function _(k){if(k>V)throw new RangeError("Invalid typed array length");var y=new Uint8Array(k);return y.__proto__=p.prototype,y}function p(k,y,v){if(typeof k=="number"){if(typeof y=="string")throw new Error("If encoding is specified then the first argument must be a string");return P(k)}return T(k,y,v)}typeof Symbol<"u"&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),p.poolSize=8192;function T(k,y,v){if(typeof k=="number")throw new TypeError('"value" argument must not be a number');return xe(k)?G(k,y,v):typeof k=="string"?B(k,y):gt(k)}p.from=function(k,y,v){return T(k,y,v)},p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array;function d(k){if(typeof k!="number")throw new TypeError('"size" argument must be a number');if(k<0)throw new RangeError('"size" argument must not be negative')}function H(k,y,v){return d(k),k<=0?_(k):y!==void 0?typeof v=="string"?_(k).fill(y,v):_(k).fill(y):_(k)}p.alloc=function(k,y,v){return H(k,y,v)};function P(k){return d(k),_(k<0?0:tt(k)|0)}p.allocUnsafe=function(k){return P(k)},p.allocUnsafeSlow=function(k){return P(k)};function B(k,y){if((typeof y!="string"||y==="")&&(y="utf8"),!p.isEncoding(y))throw new TypeError('"encoding" must be a valid string encoding');var v=Yt(k,y)|0,D=_(v),K=D.write(k,y);return K!==v&&(D=D.slice(0,K)),D}function q(k){for(var y=k.length<0?0:tt(k.length)|0,v=_(y),D=0;D<y;D+=1)v[D]=k[D]&255;return v}function G(k,y,v){if(y<0||k.byteLength<y)throw new RangeError("'offset' is out of bounds");if(k.byteLength<y+(v||0))throw new RangeError("'length' is out of bounds");var D;return y===void 0&&v===void 0?D=new Uint8Array(k):v===void 0?D=new Uint8Array(k,y):D=new Uint8Array(k,y,v),D.__proto__=p.prototype,D}function gt(k){if(p.isBuffer(k)){var y=tt(k.length)|0,v=_(y);return v.length===0||k.copy(v,0,0,y),v}if(k){if(Ne(k)||"length"in k)return typeof k.length!="number"||We(k.length)?_(0):q(k);if(k.type==="Buffer"&&Array.isArray(k.data))return q(k.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function tt(k){if(k>=V)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+V.toString(16)+" bytes");return k|0}function ot(k){return+k!=k&&(k=0),p.alloc(+k)}p.isBuffer=function(y){return y!=null&&y._isBuffer===!0},p.compare=function(y,v){if(!p.isBuffer(y)||!p.isBuffer(v))throw new TypeError("Arguments must be Buffers");if(y===v)return 0;for(var D=y.length,K=v.length,it=0,lt=Math.min(D,K);it<lt;++it)if(y[it]!==v[it]){D=y[it],K=v[it];break}return D<K?-1:K<D?1:0},p.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(y,v){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return p.alloc(0);var D;if(v===void 0)for(v=0,D=0;D<y.length;++D)v+=y[D].length;var K=p.allocUnsafe(v),it=0;for(D=0;D<y.length;++D){var lt=y[D];if(!p.isBuffer(lt))throw new TypeError('"list" argument must be an Array of Buffers');lt.copy(K,it),it+=lt.length}return K};function Yt(k,y){if(p.isBuffer(k))return k.length;if(Ne(k)||xe(k))return k.byteLength;typeof k!="string"&&(k=""+k);var v=k.length;if(v===0)return 0;for(var D=!1;;)switch(y){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":case void 0:return Nt(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return ge(k).length;default:if(D)return Nt(k).length;y=(""+y).toLowerCase(),D=!0}}p.byteLength=Yt;function U(k,y,v){var D=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,y>>>=0,v<=y))return"";for(k||(k="utf8");;)switch(k){case"hex":return qt(this,y,v);case"utf8":case"utf-8":return _e(this,y,v);case"ascii":return pt(this,y,v);case"latin1":case"binary":return Rt(this,y,v);case"base64":return Ct(this,y,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Wt(this,y,v);default:if(D)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),D=!0}}p.prototype._isBuffer=!0;function Vt(k,y,v){var D=k[y];k[y]=k[v],k[v]=D}p.prototype.swap16=function(){var y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var v=0;v<y;v+=2)Vt(this,v,v+1);return this},p.prototype.swap32=function(){var y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var v=0;v<y;v+=4)Vt(this,v,v+3),Vt(this,v+1,v+2);return this},p.prototype.swap64=function(){var y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var v=0;v<y;v+=8)Vt(this,v,v+7),Vt(this,v+1,v+6),Vt(this,v+2,v+5),Vt(this,v+3,v+4);return this},p.prototype.toString=function(){var y=this.length;return y===0?"":arguments.length===0?_e(this,0,y):U.apply(this,arguments)},p.prototype.equals=function(y){if(!p.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:p.compare(this,y)===0},p.prototype.inspect=function(){var y="",v=j.INSPECT_MAX_BYTES;return this.length>0&&(y=this.toString("hex",0,v).match(/.{2}/g).join(" "),this.length>v&&(y+=" ... ")),"<Buffer "+y+">"},p.prototype.compare=function(y,v,D,K,it){if(!p.isBuffer(y))throw new TypeError("Argument must be a Buffer");if(v===void 0&&(v=0),D===void 0&&(D=y?y.length:0),K===void 0&&(K=0),it===void 0&&(it=this.length),v<0||D>y.length||K<0||it>this.length)throw new RangeError("out of range index");if(K>=it&&v>=D)return 0;if(K>=it)return-1;if(v>=D)return 1;if(v>>>=0,D>>>=0,K>>>=0,it>>>=0,this===y)return 0;for(var lt=it-K,Jt=D-v,ne=Math.min(lt,Jt),ce=this.slice(K,it),me=y.slice(v,D),re=0;re<ne;++re)if(ce[re]!==me[re]){lt=ce[re],Jt=me[re];break}return lt<Jt?-1:Jt<lt?1:0};function At(k,y,v,D,K){if(k.length===0)return-1;if(typeof v=="string"?(D=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,We(v)&&(v=K?0:k.length-1),v<0&&(v=k.length+v),v>=k.length){if(K)return-1;v=k.length-1}else if(v<0)if(K)v=0;else return-1;if(typeof y=="string"&&(y=p.from(y,D)),p.isBuffer(y))return y.length===0?-1:et(k,y,v,D,K);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?K?Uint8Array.prototype.indexOf.call(k,y,v):Uint8Array.prototype.lastIndexOf.call(k,y,v):et(k,[y],v,D,K);throw new TypeError("val must be string, number or Buffer")}function et(k,y,v,D,K){var it=1,lt=k.length,Jt=y.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(k.length<2||y.length<2)return-1;it=2,lt/=2,Jt/=2,v/=2}function ne(vn,en){return it===1?vn[en]:vn.readUInt16BE(en*it)}var ce;if(K){var me=-1;for(ce=v;ce<lt;ce++)if(ne(k,ce)===ne(y,me===-1?0:ce-me)){if(me===-1&&(me=ce),ce-me+1===Jt)return me*it}else me!==-1&&(ce-=ce-me),me=-1}else for(v+Jt>lt&&(v=lt-Jt),ce=v;ce>=0;ce--){for(var re=!0,Ke=0;Ke<Jt;Ke++)if(ne(k,ce+Ke)!==ne(y,Ke)){re=!1;break}if(re)return ce}return-1}p.prototype.includes=function(y,v,D){return this.indexOf(y,v,D)!==-1},p.prototype.indexOf=function(y,v,D){return At(this,y,v,D,!0)},p.prototype.lastIndexOf=function(y,v,D){return At(this,y,v,D,!1)};function vt(k,y,v,D){v=Number(v)||0;var K=k.length-v;D?(D=Number(D),D>K&&(D=K)):D=K;var it=y.length;if(it%2!==0)throw new TypeError("Invalid hex string");D>it/2&&(D=it/2);for(var lt=0;lt<D;++lt){var Jt=parseInt(y.substr(lt*2,2),16);if(We(Jt))return lt;k[v+lt]=Jt}return lt}function bt(k,y,v,D){return Mt(Nt(y,k.length-v),k,v,D)}function Qt(k,y,v,D){return Mt(jt(y),k,v,D)}function Ot(k,y,v,D){return Qt(k,y,v,D)}function Kt(k,y,v,D){return Mt(ge(y),k,v,D)}function zt(k,y,v,D){return Mt(dt(y,k.length-v),k,v,D)}p.prototype.write=function(y,v,D,K){if(v===void 0)K="utf8",D=this.length,v=0;else if(D===void 0&&typeof v=="string")K=v,D=this.length,v=0;else if(isFinite(v))v=v>>>0,isFinite(D)?(D=D>>>0,K===void 0&&(K="utf8")):(K=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var it=this.length-v;if((D===void 0||D>it)&&(D=it),y.length>0&&(D<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");K||(K="utf8");for(var lt=!1;;)switch(K){case"hex":return vt(this,y,v,D);case"utf8":case"utf-8":return bt(this,y,v,D);case"ascii":return Qt(this,y,v,D);case"latin1":case"binary":return Ot(this,y,v,D);case"base64":return Kt(this,y,v,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zt(this,y,v,D);default:if(lt)throw new TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase(),lt=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ct(k,y,v){return y===0&&v===k.length?Q.fromByteArray(k):Q.fromByteArray(k.slice(y,v))}function _e(k,y,v){v=Math.min(k.length,v);for(var D=[],K=y;K<v;){var it=k[K],lt=null,Jt=it>239?4:it>223?3:it>191?2:1;if(K+Jt<=v){var ne,ce,me,re;switch(Jt){case 1:it<128&&(lt=it);break;case 2:ne=k[K+1],(ne&192)===128&&(re=(it&31)<<6|ne&63,re>127&&(lt=re));break;case 3:ne=k[K+1],ce=k[K+2],(ne&192)===128&&(ce&192)===128&&(re=(it&15)<<12|(ne&63)<<6|ce&63,re>2047&&(re<55296||re>57343)&&(lt=re));break;case 4:ne=k[K+1],ce=k[K+2],me=k[K+3],(ne&192)===128&&(ce&192)===128&&(me&192)===128&&(re=(it&15)<<18|(ne&63)<<12|(ce&63)<<6|me&63,re>65535&&re<1114112&&(lt=re))}}lt===null?(lt=65533,Jt=1):lt>65535&&(lt-=65536,D.push(lt>>>10&1023|55296),lt=56320|lt&1023),D.push(lt),K+=Jt}return J(D)}var $=4096;function J(k){var y=k.length;if(y<=$)return String.fromCharCode.apply(String,k);for(var v="",D=0;D<y;)v+=String.fromCharCode.apply(String,k.slice(D,D+=$));return v}function pt(k,y,v){var D="";v=Math.min(k.length,v);for(var K=y;K<v;++K)D+=String.fromCharCode(k[K]&127);return D}function Rt(k,y,v){var D="";v=Math.min(k.length,v);for(var K=y;K<v;++K)D+=String.fromCharCode(k[K]);return D}function qt(k,y,v){var D=k.length;(!y||y<0)&&(y=0),(!v||v<0||v>D)&&(v=D);for(var K="",it=y;it<v;++it)K+=_t(k[it]);return K}function Wt(k,y,v){for(var D=k.slice(y,v),K="",it=0;it<D.length;it+=2)K+=String.fromCharCode(D[it]+D[it+1]*256);return K}p.prototype.slice=function(y,v){var D=this.length;y=~~y,v=v===void 0?D:~~v,y<0?(y+=D,y<0&&(y=0)):y>D&&(y=D),v<0?(v+=D,v<0&&(v=0)):v>D&&(v=D),v<y&&(v=y);var K=this.subarray(y,v);return K.__proto__=p.prototype,K};function Ht(k,y,v){if(k%1!==0||k<0)throw new RangeError("offset is not uint");if(k+y>v)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUIntLE=function(y,v,D){y=y>>>0,v=v>>>0,D||Ht(y,v,this.length);for(var K=this[y],it=1,lt=0;++lt<v&&(it*=256);)K+=this[y+lt]*it;return K},p.prototype.readUIntBE=function(y,v,D){y=y>>>0,v=v>>>0,D||Ht(y,v,this.length);for(var K=this[y+--v],it=1;v>0&&(it*=256);)K+=this[y+--v]*it;return K},p.prototype.readUInt8=function(y,v){return y=y>>>0,v||Ht(y,1,this.length),this[y]},p.prototype.readUInt16LE=function(y,v){return y=y>>>0,v||Ht(y,2,this.length),this[y]|this[y+1]<<8},p.prototype.readUInt16BE=function(y,v){return y=y>>>0,v||Ht(y,2,this.length),this[y]<<8|this[y+1]},p.prototype.readUInt32LE=function(y,v){return y=y>>>0,v||Ht(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},p.prototype.readUInt32BE=function(y,v){return y=y>>>0,v||Ht(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},p.prototype.readIntLE=function(y,v,D){y=y>>>0,v=v>>>0,D||Ht(y,v,this.length);for(var K=this[y],it=1,lt=0;++lt<v&&(it*=256);)K+=this[y+lt]*it;return it*=128,K>=it&&(K-=Math.pow(2,8*v)),K},p.prototype.readIntBE=function(y,v,D){y=y>>>0,v=v>>>0,D||Ht(y,v,this.length);for(var K=v,it=1,lt=this[y+--K];K>0&&(it*=256);)lt+=this[y+--K]*it;return it*=128,lt>=it&&(lt-=Math.pow(2,8*v)),lt},p.prototype.readInt8=function(y,v){return y=y>>>0,v||Ht(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},p.prototype.readInt16LE=function(y,v){y=y>>>0,v||Ht(y,2,this.length);var D=this[y]|this[y+1]<<8;return D&32768?D|4294901760:D},p.prototype.readInt16BE=function(y,v){y=y>>>0,v||Ht(y,2,this.length);var D=this[y+1]|this[y]<<8;return D&32768?D|4294901760:D},p.prototype.readInt32LE=function(y,v){return y=y>>>0,v||Ht(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},p.prototype.readInt32BE=function(y,v){return y=y>>>0,v||Ht(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},p.prototype.readFloatLE=function(y,v){return y=y>>>0,v||Ht(y,4,this.length),L.read(this,y,!0,23,4)},p.prototype.readFloatBE=function(y,v){return y=y>>>0,v||Ht(y,4,this.length),L.read(this,y,!1,23,4)},p.prototype.readDoubleLE=function(y,v){return y=y>>>0,v||Ht(y,8,this.length),L.read(this,y,!0,52,8)},p.prototype.readDoubleBE=function(y,v){return y=y>>>0,v||Ht(y,8,this.length),L.read(this,y,!1,52,8)};function te(k,y,v,D,K,it){if(!p.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>K||y<it)throw new RangeError('"value" argument is out of bounds');if(v+D>k.length)throw new RangeError("Index out of range")}p.prototype.writeUIntLE=function(y,v,D,K){if(y=+y,v=v>>>0,D=D>>>0,!K){var it=Math.pow(2,8*D)-1;te(this,y,v,D,it,0)}var lt=1,Jt=0;for(this[v]=y&255;++Jt<D&&(lt*=256);)this[v+Jt]=y/lt&255;return v+D},p.prototype.writeUIntBE=function(y,v,D,K){if(y=+y,v=v>>>0,D=D>>>0,!K){var it=Math.pow(2,8*D)-1;te(this,y,v,D,it,0)}var lt=D-1,Jt=1;for(this[v+lt]=y&255;--lt>=0&&(Jt*=256);)this[v+lt]=y/Jt&255;return v+D},p.prototype.writeUInt8=function(y,v,D){return y=+y,v=v>>>0,D||te(this,y,v,1,255,0),this[v]=y&255,v+1},p.prototype.writeUInt16LE=function(y,v,D){return y=+y,v=v>>>0,D||te(this,y,v,2,65535,0),this[v]=y&255,this[v+1]=y>>>8,v+2},p.prototype.writeUInt16BE=function(y,v,D){return y=+y,v=v>>>0,D||te(this,y,v,2,65535,0),this[v]=y>>>8,this[v+1]=y&255,v+2},p.prototype.writeUInt32LE=function(y,v,D){return y=+y,v=v>>>0,D||te(this,y,v,4,4294967295,0),this[v+3]=y>>>24,this[v+2]=y>>>16,this[v+1]=y>>>8,this[v]=y&255,v+4},p.prototype.writeUInt32BE=function(y,v,D){return y=+y,v=v>>>0,D||te(this,y,v,4,4294967295,0),this[v]=y>>>24,this[v+1]=y>>>16,this[v+2]=y>>>8,this[v+3]=y&255,v+4},p.prototype.writeIntLE=function(y,v,D,K){if(y=+y,v=v>>>0,!K){var it=Math.pow(2,8*D-1);te(this,y,v,D,it-1,-it)}var lt=0,Jt=1,ne=0;for(this[v]=y&255;++lt<D&&(Jt*=256);)y<0&&ne===0&&this[v+lt-1]!==0&&(ne=1),this[v+lt]=(y/Jt>>0)-ne&255;return v+D},p.prototype.writeIntBE=function(y,v,D,K){if(y=+y,v=v>>>0,!K){var it=Math.pow(2,8*D-1);te(this,y,v,D,it-1,-it)}var lt=D-1,Jt=1,ne=0;for(this[v+lt]=y&255;--lt>=0&&(Jt*=256);)y<0&&ne===0&&this[v+lt+1]!==0&&(ne=1),this[v+lt]=(y/Jt>>0)-ne&255;return v+D},p.prototype.writeInt8=function(y,v,D){return y=+y,v=v>>>0,D||te(this,y,v,1,127,-128),y<0&&(y=255+y+1),this[v]=y&255,v+1},p.prototype.writeInt16LE=function(y,v,D){return y=+y,v=v>>>0,D||te(this,y,v,2,32767,-32768),this[v]=y&255,this[v+1]=y>>>8,v+2},p.prototype.writeInt16BE=function(y,v,D){return y=+y,v=v>>>0,D||te(this,y,v,2,32767,-32768),this[v]=y>>>8,this[v+1]=y&255,v+2},p.prototype.writeInt32LE=function(y,v,D){return y=+y,v=v>>>0,D||te(this,y,v,4,2147483647,-2147483648),this[v]=y&255,this[v+1]=y>>>8,this[v+2]=y>>>16,this[v+3]=y>>>24,v+4},p.prototype.writeInt32BE=function(y,v,D){return y=+y,v=v>>>0,D||te(this,y,v,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[v]=y>>>24,this[v+1]=y>>>16,this[v+2]=y>>>8,this[v+3]=y&255,v+4};function he(k,y,v,D,K,it){if(v+D>k.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function ae(k,y,v,D,K){return y=+y,v=v>>>0,K||he(k,y,v,4),L.write(k,y,v,D,23,4),v+4}p.prototype.writeFloatLE=function(y,v,D){return ae(this,y,v,!0,D)},p.prototype.writeFloatBE=function(y,v,D){return ae(this,y,v,!1,D)};function x(k,y,v,D,K){return y=+y,v=v>>>0,K||he(k,y,v,8),L.write(k,y,v,D,52,8),v+8}p.prototype.writeDoubleLE=function(y,v,D){return x(this,y,v,!0,D)},p.prototype.writeDoubleBE=function(y,v,D){return x(this,y,v,!1,D)},p.prototype.copy=function(y,v,D,K){if(D||(D=0),!K&&K!==0&&(K=this.length),v>=y.length&&(v=y.length),v||(v=0),K>0&&K<D&&(K=D),K===D||y.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("sourceStart out of bounds");if(K<0)throw new RangeError("sourceEnd out of bounds");K>this.length&&(K=this.length),y.length-v<K-D&&(K=y.length-v+D);var it=K-D,lt;if(this===y&&D<v&&v<K)for(lt=it-1;lt>=0;--lt)y[lt+v]=this[lt+D];else if(it<1e3)for(lt=0;lt<it;++lt)y[lt+v]=this[lt+D];else Uint8Array.prototype.set.call(y,this.subarray(D,D+it),v);return it},p.prototype.fill=function(y,v,D,K){if(typeof y=="string"){if(typeof v=="string"?(K=v,v=0,D=this.length):typeof D=="string"&&(K=D,D=this.length),y.length===1){var it=y.charCodeAt(0);it<256&&(y=it)}if(K!==void 0&&typeof K!="string")throw new TypeError("encoding must be a string");if(typeof K=="string"&&!p.isEncoding(K))throw new TypeError("Unknown encoding: "+K)}else typeof y=="number"&&(y=y&255);if(v<0||this.length<v||this.length<D)throw new RangeError("Out of range index");if(D<=v)return this;v=v>>>0,D=D===void 0?this.length:D>>>0,y||(y=0);var lt;if(typeof y=="number")for(lt=v;lt<D;++lt)this[lt]=y;else{var Jt=p.isBuffer(y)?y:new p(y,K),ne=Jt.length;for(lt=0;lt<D-v;++lt)this[lt+v]=Jt[lt%ne]}return this};var A=/[^+/0-9A-Za-z-_]/g;function ut(k){if(k=k.trim().replace(A,""),k.length<2)return"";for(;k.length%4!==0;)k=k+"=";return k}function _t(k){return k<16?"0"+k.toString(16):k.toString(16)}function Nt(k,y){y=y||1/0;for(var v,D=k.length,K=null,it=[],lt=0;lt<D;++lt){if(v=k.charCodeAt(lt),v>55295&&v<57344){if(!K){if(v>56319){(y-=3)>-1&&it.push(239,191,189);continue}else if(lt+1===D){(y-=3)>-1&&it.push(239,191,189);continue}K=v;continue}if(v<56320){(y-=3)>-1&&it.push(239,191,189),K=v;continue}v=(K-55296<<10|v-56320)+65536}else K&&(y-=3)>-1&&it.push(239,191,189);if(K=null,v<128){if((y-=1)<0)break;it.push(v)}else if(v<2048){if((y-=2)<0)break;it.push(v>>6|192,v&63|128)}else if(v<65536){if((y-=3)<0)break;it.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((y-=4)<0)break;it.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return it}function jt(k){for(var y=[],v=0;v<k.length;++v)y.push(k.charCodeAt(v)&255);return y}function dt(k,y){for(var v,D,K,it=[],lt=0;lt<k.length&&!((y-=2)<0);++lt)v=k.charCodeAt(lt),D=v>>8,K=v%256,it.push(K),it.push(D);return it}function ge(k){return Q.toByteArray(ut(k))}function Mt(k,y,v,D){for(var K=0;K<D&&!(K+v>=y.length||K>=k.length);++K)y[K+v]=k[K];return K}function xe(k){return k instanceof ArrayBuffer||k!=null&&k.constructor!=null&&k.constructor.name==="ArrayBuffer"&&typeof k.byteLength=="number"}function Ne(k){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(k)}function We(k){return k!==k}}).call(j,N(1))},function(W,j){j.byteLength=p,j.toByteArray=T,j.fromByteArray=P;for(var N=[],C=[],Q=typeof Uint8Array<"u"?Uint8Array:Array,L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",V=0,R=L.length;V<R;++V)N[V]=L[V],C[L.charCodeAt(V)]=V;C[45]=62,C[95]=63;function _(B){var q=B.length;if(q%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return B[q-2]==="="?2:B[q-1]==="="?1:0}function p(B){return B.length*3/4-_(B)}function T(B){var q,G,gt,tt,ot,Yt,U=B.length;ot=_(B),Yt=new Q(U*3/4-ot),gt=ot>0?U-4:U;var Vt=0;for(q=0,G=0;q<gt;q+=4,G+=3)tt=C[B.charCodeAt(q)]<<18|C[B.charCodeAt(q+1)]<<12|C[B.charCodeAt(q+2)]<<6|C[B.charCodeAt(q+3)],Yt[Vt++]=tt>>16&255,Yt[Vt++]=tt>>8&255,Yt[Vt++]=tt&255;return ot===2?(tt=C[B.charCodeAt(q)]<<2|C[B.charCodeAt(q+1)]>>4,Yt[Vt++]=tt&255):ot===1&&(tt=C[B.charCodeAt(q)]<<10|C[B.charCodeAt(q+1)]<<4|C[B.charCodeAt(q+2)]>>2,Yt[Vt++]=tt>>8&255,Yt[Vt++]=tt&255),Yt}function d(B){return N[B>>18&63]+N[B>>12&63]+N[B>>6&63]+N[B&63]}function H(B,q,G){for(var gt,tt=[],ot=q;ot<G;ot+=3)gt=(B[ot]<<16)+(B[ot+1]<<8)+B[ot+2],tt.push(d(gt));return tt.join("")}function P(B){for(var q,G=B.length,gt=G%3,tt="",ot=[],Yt=16383,U=0,Vt=G-gt;U<Vt;U+=Yt)ot.push(H(B,U,U+Yt>Vt?Vt:U+Yt));return gt===1?(q=B[G-1],tt+=N[q>>2],tt+=N[q<<4&63],tt+="=="):gt===2&&(q=(B[G-2]<<8)+B[G-1],tt+=N[q>>10],tt+=N[q>>4&63],tt+=N[q<<2&63],tt+="="),ot.push(tt),ot.join("")}},function(W,j){j.read=function(N,C,Q,L,V){var R,_,p=V*8-L-1,T=(1<<p)-1,d=T>>1,H=-7,P=Q?V-1:0,B=Q?-1:1,q=N[C+P];for(P+=B,R=q&(1<<-H)-1,q>>=-H,H+=p;H>0;R=R*256+N[C+P],P+=B,H-=8);for(_=R&(1<<-H)-1,R>>=-H,H+=L;H>0;_=_*256+N[C+P],P+=B,H-=8);if(R===0)R=1-d;else{if(R===T)return _?NaN:(q?-1:1)*(1/0);_=_+Math.pow(2,L),R=R-d}return(q?-1:1)*_*Math.pow(2,R-L)},j.write=function(N,C,Q,L,V,R){var _,p,T,d=R*8-V-1,H=(1<<d)-1,P=H>>1,B=V===23?Math.pow(2,-24)-Math.pow(2,-77):0,q=L?0:R-1,G=L?1:-1,gt=C<0||C===0&&1/C<0?1:0;for(C=Math.abs(C),isNaN(C)||C===1/0?(p=isNaN(C)?1:0,_=H):(_=Math.floor(Math.log(C)/Math.LN2),C*(T=Math.pow(2,-_))<1&&(_--,T*=2),_+P>=1?C+=B/T:C+=B*Math.pow(2,1-P),C*T>=2&&(_++,T/=2),_+P>=H?(p=0,_=H):_+P>=1?(p=(C*T-1)*Math.pow(2,V),_=_+P):(p=C*Math.pow(2,P-1)*Math.pow(2,V),_=0));V>=8;N[Q+q]=p&255,q+=G,p/=256,V-=8);for(_=_<<V|p,d+=V;d>0;N[Q+q]=_&255,q+=G,_/=256,d-=8);N[Q+q-G]|=gt*128}},function(W,j){W.exports=function(N){return N.webpackPolyfill||(N.deprecate=function(){},N.paths=[],N.children=[],N.webpackPolyfill=1),N}},function(W,j,N){var C=N(7),Q=new C,L={};function V(_){L[_]||(typeof Q[_]=="function"?L[_]=function(){return Q[_].apply(Q,arguments)}:L[_]=Q[_])}for(var R in Q)V(R);L.initializeTTYs=function(){Q.stdin===null&&(Q.initializeTTYs(),L.stdin=Q.stdin,L.stdout=Q.stdout,L.stderr=Q.stderr)},Q.nextTick(function(){L.initializeTTYs()}),W.exports=L},function(W,j,N){(function(C){var Q=this&&this.__extends||function(T,d){for(var H in d)d.hasOwnProperty(H)&&(T[H]=d[H]);function P(){this.constructor=T}T.prototype=d===null?Object.create(d):(P.prototype=d.prototype,new P)},L=N(8),V=null,R=(function(){function T(d,H){this.fun=d,this.array=H}return T.prototype.run=function(){this.fun.apply(null,this.array)},T})(),_=(function(){function T(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return T.prototype.push=function(d){var H=this;this._queue.push(d)===1&&!this._draining&&setTimeout(function(){return H._drainQueue()},0)},T.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},T.prototype._drainQueue=function(){var d=this;if(!this._draining){var H=setTimeout(function(){return d._cleanUpNextTick()});this._draining=!0;for(var P=this._queue.length;P;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<P;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,P=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(H)}},T})(),p=(function(T){Q(d,T);function d(){T.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new _,this.execPath=C,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=Math.random()*1e3|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return d.prototype.chdir=function(H){V===null&&(V=N(9)),this._cwd=V.resolve(H)},d.prototype.cwd=function(){return this._cwd},d.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},d.prototype.nextTick=function(H){for(var P=[],B=1;B<arguments.length;B++)P[B-1]=arguments[B];this._queue.push(new R(H,P))},d.prototype.abort=function(){this.emit("abort")},d.prototype.exit=function(H){this.exitCode=H,this.emit("exit",[H])},d.prototype.getgid=function(){return this._gid},d.prototype.setgid=function(H){typeof H=="number"?this._gid=H:this._gid=1},d.prototype.getuid=function(){return this._uid},d.prototype.setuid=function(H){typeof H=="number"?this._uid=H:this._uid=1},d.prototype.kill=function(H,P){this.emit("kill",[H,P])},d.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},d.prototype.umask=function(H){H===void 0&&(H=this._mask);var P=this._mask;return this._mask=H,this.emit("umask",[H]),P},d.prototype.hrtime=function(){var H;typeof performance<"u"?H=performance.now():Date.now?H=Date.now():H=new Date().getTime();var P=H/1e3|0;return H-=P*1e3,H=H*1e6|0,[P,H]},d.prototype.initializeTTYs=function(){if(this.stdout===null){var H=N(10);this.stdout=new H,this.stderr=new H,this.stdin=new H}},d.prototype.disconnect=function(){},d})(L.EventEmitter);W.exports=p}).call(j,"/")},function(W,j){function N(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}W.exports=N,N.EventEmitter=N,N.prototype._events=void 0,N.prototype._maxListeners=void 0,N.defaultMaxListeners=10,N.prototype.setMaxListeners=function(R){if(!Q(R)||R<0||isNaN(R))throw TypeError("n must be a positive number");return this._maxListeners=R,this},N.prototype.emit=function(R){var _,p,T,d,H,P;if(this._events||(this._events={}),R==="error"&&(!this._events.error||L(this._events.error)&&!this._events.error.length)){if(_=arguments[1],_ instanceof Error)throw _;var B=new Error('Uncaught, unspecified "error" event. ('+_+")");throw B.context=_,B}if(p=this._events[R],V(p))return!1;if(C(p))switch(arguments.length){case 1:p.call(this);break;case 2:p.call(this,arguments[1]);break;case 3:p.call(this,arguments[1],arguments[2]);break;default:d=Array.prototype.slice.call(arguments,1),p.apply(this,d)}else if(L(p))for(d=Array.prototype.slice.call(arguments,1),P=p.slice(),T=P.length,H=0;H<T;H++)P[H].apply(this,d);return!0},N.prototype.addListener=function(R,_){var p;if(!C(_))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",R,C(_.listener)?_.listener:_),this._events[R]?L(this._events[R])?this._events[R].push(_):this._events[R]=[this._events[R],_]:this._events[R]=_,L(this._events[R])&&!this._events[R].warned&&(V(this._maxListeners)?p=N.defaultMaxListeners:p=this._maxListeners,p&&p>0&&this._events[R].length>p&&(this._events[R].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[R].length),typeof console.trace=="function"&&console.trace())),this},N.prototype.on=N.prototype.addListener,N.prototype.once=function(R,_){if(!C(_))throw TypeError("listener must be a function");var p=!1;function T(){this.removeListener(R,T),p||(p=!0,_.apply(this,arguments))}return T.listener=_,this.on(R,T),this},N.prototype.removeListener=function(R,_){var p,T,d,H;if(!C(_))throw TypeError("listener must be a function");if(!this._events||!this._events[R])return this;if(p=this._events[R],d=p.length,T=-1,p===_||C(p.listener)&&p.listener===_)delete this._events[R],this._events.removeListener&&this.emit("removeListener",R,_);else if(L(p)){for(H=d;H-- >0;)if(p[H]===_||p[H].listener&&p[H].listener===_){T=H;break}if(T<0)return this;p.length===1?(p.length=0,delete this._events[R]):p.splice(T,1),this._events.removeListener&&this.emit("removeListener",R,_)}return this},N.prototype.removeAllListeners=function(R){var _,p;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[R]&&delete this._events[R],this;if(arguments.length===0){for(_ in this._events)_!=="removeListener"&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events={},this}if(p=this._events[R],C(p))this.removeListener(R,p);else if(p)for(;p.length;)this.removeListener(R,p[p.length-1]);return delete this._events[R],this},N.prototype.listeners=function(R){var _;return!this._events||!this._events[R]?_=[]:C(this._events[R])?_=[this._events[R]]:_=this._events[R].slice(),_},N.prototype.listenerCount=function(R){if(this._events){var _=this._events[R];if(C(_))return 1;if(_)return _.length}return 0},N.listenerCount=function(R,_){return R.listenerCount(_)};function C(R){return typeof R=="function"}function Q(R){return typeof R=="number"}function L(R){return typeof R=="object"&&R!==null}function V(R){return R===void 0}},function(W,j,N){(function(C){var Q=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function L(R){var _=Q.exec(R);return _.shift(),_}var V=(function(){function R(){}return R.normalize=function(_){_===""&&(_=".");var p=_.charAt(0)===R.sep;_=R._removeDuplicateSeps(_);for(var T=_.split(R.sep),d=[],H=0;H<T.length;H++){var P=T[H];P!=="."&&(P===".."&&(p||!p&&d.length>0&&d[0]!=="..")?d.pop():d.push(P))}return!p&&d.length<2&&(d.length===1?d[0]===""&&d.unshift("."):d.push(".")),_=d.join(R.sep),p&&_.charAt(0)!==R.sep&&(_=R.sep+_),_},R.join=function(){for(var _=[],p=0;p<arguments.length;p++)_[p-0]=arguments[p];for(var T=[],d=0;d<_.length;d++){var H=_[d];if(typeof H!="string")throw new TypeError("Invalid argument type to path.join: "+typeof H);H!==""&&T.push(H)}return R.normalize(T.join(R.sep))},R.resolve=function(){for(var _=[],p=0;p<arguments.length;p++)_[p-0]=arguments[p];for(var T=[],d=0;d<_.length;d++){var H=_[d];if(typeof H!="string")throw new TypeError("Invalid argument type to path.join: "+typeof H);H!==""&&(H.charAt(0)===R.sep&&(T=[]),T.push(H))}var P=R.normalize(T.join(R.sep));if(P.length>1&&P.charAt(P.length-1)===R.sep)return P.substr(0,P.length-1);if(P.charAt(0)!==R.sep){P.charAt(0)==="."&&(P.length===1||P.charAt(1)===R.sep)&&(P=P.length===1?"":P.substr(2));var B=C.cwd();P!==""?P=this.normalize(B+(B!=="/"?R.sep:"")+P):P=B}return P},R.relative=function(_,p){var T;_=R.resolve(_),p=R.resolve(p);var d=_.split(R.sep),H=p.split(R.sep);H.shift(),d.shift();var P=0,B=[];for(T=0;T<d.length;T++){var q=d[T];if(q!==H[T]){P=d.length-T;break}}B=H.slice(T),d.length===1&&d[0]===""&&(P=0),P>d.length&&(P=d.length);var G="";for(T=0;T<P;T++)G+="../";return G+=B.join(R.sep),G.length>1&&G.charAt(G.length-1)===R.sep&&(G=G.substr(0,G.length-1)),G},R.dirname=function(_){_=R._removeDuplicateSeps(_);var p=_.charAt(0)===R.sep,T=_.split(R.sep);return T.pop()===""&&T.length>0&&T.pop(),T.length>1||T.length===1&&!p?T.join(R.sep):p?R.sep:"."},R.basename=function(_,p){if(p===void 0&&(p=""),_==="")return _;_=R.normalize(_);var T=_.split(R.sep),d=T[T.length-1];if(d===""&&T.length>1)return T[T.length-2];if(p.length>0){var H=d.substr(d.length-p.length);if(H===p)return d.substr(0,d.length-p.length)}return d},R.extname=function(_){_=R.normalize(_);var p=_.split(R.sep);if(_=p.pop(),_===""&&p.length>0&&(_=p.pop()),_==="..")return"";var T=_.lastIndexOf(".");return T===-1||T===0?"":_.substr(T)},R.isAbsolute=function(_){return _.length>0&&_.charAt(0)===R.sep},R._makeLong=function(_){return _},R.parse=function(_){var p=L(_);return{root:p[0],dir:p[0]+p[1].slice(0,-1),base:p[2],ext:p[3],name:p[2].slice(0,p[2].length-p[3].length)}},R.format=function(_){if(_===null||typeof _!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof _);var p=_.root||"";if(typeof p!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof _.root);var T=_.dir?_.dir+R.sep:"",d=_.base||"";return T+d},R._removeDuplicateSeps=function(_){return _=_.replace(this._replaceRegex,this.sep),_},R.sep="/",R._replaceRegex=new RegExp("//+","g"),R.delimiter=":",R.posix=R,R.win32=R,R})();W.exports=V}).call(j,N(6))},function(W,j,N){(function(C){var Q=this&&this.__extends||function(R,_){for(var p in _)_.hasOwnProperty(p)&&(R[p]=_[p]);function T(){this.constructor=R}R.prototype=_===null?Object.create(_):(T.prototype=_.prototype,new T)},L=N(11),V=(function(R){Q(_,R);function _(){R.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return _.prototype.setRawMode=function(p){this.isRaw!==p&&(this.isRaw=p,this.emit("modeChange"))},_.prototype.changeColumns=function(p){p!==this.columns&&(this.columns=p,this.emit("resize"))},_.prototype.changeRows=function(p){p!==this.rows&&(this.rows=p,this.emit("resize"))},_.isatty=function(p){return p&&p instanceof _},_.prototype._write=function(p,T,d){var H;try{var P;typeof p=="string"?P=new C(p,T):P=p,this._bufferedWrites.push(P),this._waitingForWrites&&this._read(1024)}catch(B){H=B}finally{d(H)}},_.prototype._read=function(p){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),!!this._waitingForWrites););},_})(L.Duplex);W.exports=V}).call(j,N(1))},function(W,j,N){W.exports=L;var C=N(8).EventEmitter,Q=N(12);Q(L,C),L.Readable=N(13),L.Writable=N(27),L.Duplex=N(28),L.Transform=N(29),L.PassThrough=N(30),L.Stream=L;function L(){C.call(this)}L.prototype.pipe=function(V,R){var _=this;function p(G){V.writable&&V.write(G)===!1&&_.pause&&_.pause()}_.on("data",p);function T(){_.readable&&_.resume&&_.resume()}V.on("drain",T),!V._isStdio&&(!R||R.end!==!1)&&(_.on("end",H),_.on("close",P));var d=!1;function H(){d||(d=!0,V.end())}function P(){d||(d=!0,typeof V.destroy=="function"&&V.destroy())}function B(G){if(q(),C.listenerCount(this,"error")===0)throw G}_.on("error",B),V.on("error",B);function q(){_.removeListener("data",p),V.removeListener("drain",T),_.removeListener("end",H),_.removeListener("close",P),_.removeListener("error",B),V.removeListener("error",B),_.removeListener("end",q),_.removeListener("close",q),V.removeListener("close",q)}return _.on("end",q),_.on("close",q),V.on("close",q),V.emit("pipe",_),V}},function(W,j){typeof Object.create=="function"?W.exports=function(C,Q){C.super_=Q,C.prototype=Object.create(Q.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}})}:W.exports=function(C,Q){C.super_=Q;var L=function(){};L.prototype=Q.prototype,C.prototype=new L,C.prototype.constructor=C}},function(W,j,N){(function(C){var Q=(function(){try{return N(11)}catch{}})();j=W.exports=N(14),j.Stream=Q||j,j.Readable=j,j.Writable=N(22),j.Duplex=N(21),j.Transform=N(25),j.PassThrough=N(26),!C.browser&&C.env.READABLE_STREAM==="disable"&&Q&&(W.exports=Q)}).call(j,N(6))},function(W,j,N){(function(C){W.exports=tt;var Q=N(15),L=N(16),V;tt.ReadableState=gt,N(8).EventEmitter;var R=function(x,A){return x.listeners(A).length},_;(function(){try{_=N(11)}catch{}finally{_||(_=N(8).EventEmitter)}})();var p=N(2).Buffer,T=N(17),d=N(18);d.inherits=N(12);var H=N(19),P=void 0;H&&H.debuglog?P=H.debuglog("stream"):P=function(){};var B=N(20),q;d.inherits(tt,_);function G(x,A,ut){if(typeof x.prependListener=="function")return x.prependListener(A,ut);!x._events||!x._events[A]?x.on(A,ut):L(x._events[A])?x._events[A].unshift(ut):x._events[A]=[ut,x._events[A]]}function gt(x,A){V=V||N(21),x=x||{},this.objectMode=!!x.objectMode,A instanceof V&&(this.objectMode=this.objectMode||!!x.readableObjectMode);var ut=x.highWaterMark,_t=this.objectMode?16:16*1024;this.highWaterMark=ut||ut===0?ut:_t,this.highWaterMark=~~this.highWaterMark,this.buffer=new B,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=x.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,x.encoding&&(q||(q=N(24).StringDecoder),this.decoder=new q(x.encoding),this.encoding=x.encoding)}function tt(x){if(V=V||N(21),!(this instanceof tt))return new tt(x);this._readableState=new gt(x,this),this.readable=!0,x&&typeof x.read=="function"&&(this._read=x.read),_.call(this)}tt.prototype.push=function(x,A){var ut=this._readableState;return!ut.objectMode&&typeof x=="string"&&(A=A||ut.defaultEncoding,A!==ut.encoding&&(x=T.from(x,A),A="")),ot(this,ut,x,A,!1)},tt.prototype.unshift=function(x){var A=this._readableState;return ot(this,A,x,"",!0)},tt.prototype.isPaused=function(){return this._readableState.flowing===!1};function ot(x,A,ut,_t,Nt){var jt=et(A,ut);if(jt)x.emit("error",jt);else if(ut===null)A.reading=!1,vt(x,A);else if(A.objectMode||ut&&ut.length>0)if(A.ended&&!Nt){var dt=new Error("stream.push() after EOF");x.emit("error",dt)}else if(A.endEmitted&&Nt){var ge=new Error("stream.unshift() after end event");x.emit("error",ge)}else{var Mt;A.decoder&&!Nt&&!_t&&(ut=A.decoder.write(ut),Mt=!A.objectMode&&ut.length===0),Nt||(A.reading=!1),Mt||(A.flowing&&A.length===0&&!A.sync?(x.emit("data",ut),x.read(0)):(A.length+=A.objectMode?1:ut.length,Nt?A.buffer.unshift(ut):A.buffer.push(ut),A.needReadable&&bt(x))),Ot(x,A)}else Nt||(A.reading=!1);return Yt(A)}function Yt(x){return!x.ended&&(x.needReadable||x.length<x.highWaterMark||x.length===0)}tt.prototype.setEncoding=function(x){return q||(q=N(24).StringDecoder),this._readableState.decoder=new q(x),this._readableState.encoding=x,this};var U=8388608;function Vt(x){return x>=U?x=U:(x--,x|=x>>>1,x|=x>>>2,x|=x>>>4,x|=x>>>8,x|=x>>>16,x++),x}function At(x,A){return x<=0||A.length===0&&A.ended?0:A.objectMode?1:x!==x?A.flowing&&A.length?A.buffer.head.data.length:A.length:(x>A.highWaterMark&&(A.highWaterMark=Vt(x)),x<=A.length?x:A.ended?A.length:(A.needReadable=!0,0))}tt.prototype.read=function(x){P("read",x),x=parseInt(x,10);var A=this._readableState,ut=x;if(x!==0&&(A.emittedReadable=!1),x===0&&A.needReadable&&(A.length>=A.highWaterMark||A.ended))return P("read: emitReadable",A.length,A.ended),A.length===0&&A.ended?Ht(this):bt(this),null;if(x=At(x,A),x===0&&A.ended)return A.length===0&&Ht(this),null;var _t=A.needReadable;P("need readable",_t),(A.length===0||A.length-x<A.highWaterMark)&&(_t=!0,P("length less than watermark",_t)),A.ended||A.reading?(_t=!1,P("reading or ended",_t)):_t&&(P("do read"),A.reading=!0,A.sync=!0,A.length===0&&(A.needReadable=!0),this._read(A.highWaterMark),A.sync=!1,A.reading||(x=At(ut,A)));var Nt;return x>0?Nt=pt(x,A):Nt=null,Nt===null?(A.needReadable=!0,x=0):A.length-=x,A.length===0&&(A.ended||(A.needReadable=!0),ut!==x&&A.ended&&Ht(this)),Nt!==null&&this.emit("data",Nt),Nt};function et(x,A){var ut=null;return!p.isBuffer(A)&&typeof A!="string"&&A!==null&&A!==void 0&&!x.objectMode&&(ut=new TypeError("Invalid non-string/buffer chunk")),ut}function vt(x,A){if(!A.ended){if(A.decoder){var ut=A.decoder.end();ut&&ut.length&&(A.buffer.push(ut),A.length+=A.objectMode?1:ut.length)}A.ended=!0,bt(x)}}function bt(x){var A=x._readableState;A.needReadable=!1,A.emittedReadable||(P("emitReadable",A.flowing),A.emittedReadable=!0,A.sync?Q(Qt,x):Qt(x))}function Qt(x){P("emit readable"),x.emit("readable"),J(x)}function Ot(x,A){A.readingMore||(A.readingMore=!0,Q(Kt,x,A))}function Kt(x,A){for(var ut=A.length;!A.reading&&!A.flowing&&!A.ended&&A.length<A.highWaterMark&&(P("maybeReadMore read 0"),x.read(0),ut!==A.length);)ut=A.length;A.readingMore=!1}tt.prototype._read=function(x){this.emit("error",new Error("_read() is not implemented"))},tt.prototype.pipe=function(x,A){var ut=this,_t=this._readableState;switch(_t.pipesCount){case 0:_t.pipes=x;break;case 1:_t.pipes=[_t.pipes,x];break;default:_t.pipes.push(x);break}_t.pipesCount+=1,P("pipe count=%d opts=%j",_t.pipesCount,A);var Nt=(!A||A.end!==!1)&&x!==C.stdout&&x!==C.stderr,jt=Nt?ge:Ne;_t.endEmitted?Q(jt):ut.once("end",jt),x.on("unpipe",dt);function dt(it){P("onunpipe"),it===ut&&Ne()}function ge(){P("onend"),x.end()}var Mt=zt(ut);x.on("drain",Mt);var xe=!1;function Ne(){P("cleanup"),x.removeListener("close",v),x.removeListener("finish",D),x.removeListener("drain",Mt),x.removeListener("error",y),x.removeListener("unpipe",dt),ut.removeListener("end",ge),ut.removeListener("end",Ne),ut.removeListener("data",k),xe=!0,_t.awaitDrain&&(!x._writableState||x._writableState.needDrain)&&Mt()}var We=!1;ut.on("data",k);function k(it){P("ondata"),We=!1;var lt=x.write(it);lt===!1&&!We&&((_t.pipesCount===1&&_t.pipes===x||_t.pipesCount>1&&ae(_t.pipes,x)!==-1)&&!xe&&(P("false write response, pause",ut._readableState.awaitDrain),ut._readableState.awaitDrain++,We=!0),ut.pause())}function y(it){P("onerror",it),K(),x.removeListener("error",y),R(x,"error")===0&&x.emit("error",it)}G(x,"error",y);function v(){x.removeListener("finish",D),K()}x.once("close",v);function D(){P("onfinish"),x.removeListener("close",v),K()}x.once("finish",D);function K(){P("unpipe"),ut.unpipe(x)}return x.emit("pipe",ut),_t.flowing||(P("pipe resume"),ut.resume()),x};function zt(x){return function(){var A=x._readableState;P("pipeOnDrain",A.awaitDrain),A.awaitDrain&&A.awaitDrain--,A.awaitDrain===0&&R(x,"data")&&(A.flowing=!0,J(x))}}tt.prototype.unpipe=function(x){var A=this._readableState;if(A.pipesCount===0)return this;if(A.pipesCount===1)return x&&x!==A.pipes?this:(x||(x=A.pipes),A.pipes=null,A.pipesCount=0,A.flowing=!1,x&&x.emit("unpipe",this),this);if(!x){var ut=A.pipes,_t=A.pipesCount;A.pipes=null,A.pipesCount=0,A.flowing=!1;for(var Nt=0;Nt<_t;Nt++)ut[Nt].emit("unpipe",this);return this}var jt=ae(A.pipes,x);return jt===-1?this:(A.pipes.splice(jt,1),A.pipesCount-=1,A.pipesCount===1&&(A.pipes=A.pipes[0]),x.emit("unpipe",this),this)},tt.prototype.on=function(x,A){var ut=_.prototype.on.call(this,x,A);if(x==="data")this._readableState.flowing!==!1&&this.resume();else if(x==="readable"){var _t=this._readableState;!_t.endEmitted&&!_t.readableListening&&(_t.readableListening=_t.needReadable=!0,_t.emittedReadable=!1,_t.reading?_t.length&&bt(this):Q(Ct,this))}return ut},tt.prototype.addListener=tt.prototype.on;function Ct(x){P("readable nexttick read 0"),x.read(0)}tt.prototype.resume=function(){var x=this._readableState;return x.flowing||(P("resume"),x.flowing=!0,_e(this,x)),this};function _e(x,A){A.resumeScheduled||(A.resumeScheduled=!0,Q($,x,A))}function $(x,A){A.reading||(P("resume read 0"),x.read(0)),A.resumeScheduled=!1,A.awaitDrain=0,x.emit("resume"),J(x),A.flowing&&!A.reading&&x.read(0)}tt.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function J(x){var A=x._readableState;for(P("flow",A.flowing);A.flowing&&x.read()!==null;);}tt.prototype.wrap=function(x){var A=this._readableState,ut=!1,_t=this;x.on("end",function(){if(P("wrapped end"),A.decoder&&!A.ended){var dt=A.decoder.end();dt&&dt.length&&_t.push(dt)}_t.push(null)}),x.on("data",function(dt){if(P("wrapped data"),A.decoder&&(dt=A.decoder.write(dt)),!(A.objectMode&&dt==null)&&!(!A.objectMode&&(!dt||!dt.length))){var ge=_t.push(dt);ge||(ut=!0,x.pause())}});for(var Nt in x)this[Nt]===void 0&&typeof x[Nt]=="function"&&(this[Nt]=(function(dt){return function(){return x[dt].apply(x,arguments)}})(Nt));var jt=["error","close","destroy","pause","resume"];return he(jt,function(dt){x.on(dt,_t.emit.bind(_t,dt))}),_t._read=function(dt){P("wrapped _read",dt),ut&&(ut=!1,x.resume())},_t},tt._fromList=pt;function pt(x,A){if(A.length===0)return null;var ut;return A.objectMode?ut=A.buffer.shift():!x||x>=A.length?(A.decoder?ut=A.buffer.join(""):A.buffer.length===1?ut=A.buffer.head.data:ut=A.buffer.concat(A.length),A.buffer.clear()):ut=Rt(x,A.buffer,A.decoder),ut}function Rt(x,A,ut){var _t;return x<A.head.data.length?(_t=A.head.data.slice(0,x),A.head.data=A.head.data.slice(x)):x===A.head.data.length?_t=A.shift():_t=ut?qt(x,A):Wt(x,A),_t}function qt(x,A){var ut=A.head,_t=1,Nt=ut.data;for(x-=Nt.length;ut=ut.next;){var jt=ut.data,dt=x>jt.length?jt.length:x;if(dt===jt.length?Nt+=jt:Nt+=jt.slice(0,x),x-=dt,x===0){dt===jt.length?(++_t,ut.next?A.head=ut.next:A.head=A.tail=null):(A.head=ut,ut.data=jt.slice(dt));break}++_t}return A.length-=_t,Nt}function Wt(x,A){var ut=T.allocUnsafe(x),_t=A.head,Nt=1;for(_t.data.copy(ut),x-=_t.data.length;_t=_t.next;){var jt=_t.data,dt=x>jt.length?jt.length:x;if(jt.copy(ut,ut.length-x,0,dt),x-=dt,x===0){dt===jt.length?(++Nt,_t.next?A.head=_t.next:A.head=A.tail=null):(A.head=_t,_t.data=jt.slice(dt));break}++Nt}return A.length-=Nt,ut}function Ht(x){var A=x._readableState;if(A.length>0)throw new Error('"endReadable()" called on non-empty stream');A.endEmitted||(A.ended=!0,Q(te,A,x))}function te(x,A){!x.endEmitted&&x.length===0&&(x.endEmitted=!0,A.readable=!1,A.emit("end"))}function he(x,A){for(var ut=0,_t=x.length;ut<_t;ut++)A(x[ut],ut)}function ae(x,A){for(var ut=0,_t=x.length;ut<_t;ut++)if(x[ut]===A)return ut;return-1}}).call(j,N(6))},function(W,j,N){(function(C){!C.version||C.version.indexOf("v0.")===0||C.version.indexOf("v1.")===0&&C.version.indexOf("v1.8.")!==0?W.exports=Q:W.exports=C.nextTick;function Q(L,V,R,_){if(typeof L!="function")throw new TypeError('"callback" argument must be a function');var p=arguments.length,T,d;switch(p){case 0:case 1:return C.nextTick(L);case 2:return C.nextTick(function(){L.call(null,V)});case 3:return C.nextTick(function(){L.call(null,V,R)});case 4:return C.nextTick(function(){L.call(null,V,R,_)});default:for(T=new Array(p-1),d=0;d<T.length;)T[d++]=arguments[d];return C.nextTick(function(){L.apply(null,T)})}}}).call(j,N(6))},function(W,j){var N={}.toString;W.exports=Array.isArray||function(C){return N.call(C)=="[object Array]"}},function(W,j,N){(function(C){var Q=N(2),L=Q.Buffer,V=Q.SlowBuffer,R=Q.kMaxLength||2147483647;j.alloc=function(p,T,d){if(typeof L.alloc=="function")return L.alloc(p,T,d);if(typeof d=="number")throw new TypeError("encoding must not be number");if(typeof p!="number")throw new TypeError("size must be a number");if(p>R)throw new RangeError("size is too large");var H=d,P=T;P===void 0&&(H=void 0,P=0);var B=new L(p);if(typeof P=="string")for(var q=new L(P,H),G=q.length,gt=-1;++gt<p;)B[gt]=q[gt%G];else B.fill(P);return B},j.allocUnsafe=function(p){if(typeof L.allocUnsafe=="function")return L.allocUnsafe(p);if(typeof p!="number")throw new TypeError("size must be a number");if(p>R)throw new RangeError("size is too large");return new L(p)},j.from=function(p,T,d){if(typeof L.from=="function"&&(!C.Uint8Array||Uint8Array.from!==L.from))return L.from(p,T,d);if(typeof p=="number")throw new TypeError('"value" argument must not be a number');if(typeof p=="string")return new L(p,T);if(typeof ArrayBuffer<"u"&&p instanceof ArrayBuffer){var H=T;if(arguments.length===1)return new L(p);typeof H>"u"&&(H=0);var P=d;if(typeof P>"u"&&(P=p.byteLength-H),H>=p.byteLength)throw new RangeError("'offset' is out of bounds");if(P>p.byteLength-H)throw new RangeError("'length' is out of bounds");return new L(p.slice(H,H+P))}if(L.isBuffer(p)){var B=new L(p.length);return p.copy(B,0,0,p.length),B}if(p){if(Array.isArray(p)||typeof ArrayBuffer<"u"&&p.buffer instanceof ArrayBuffer||"length"in p)return new L(p);if(p.type==="Buffer"&&Array.isArray(p.data))return new L(p.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},j.allocUnsafeSlow=function(p){if(typeof L.allocUnsafeSlow=="function")return L.allocUnsafeSlow(p);if(typeof p!="number")throw new TypeError("size must be a number");if(p>=R)throw new RangeError("size is too large");return new V(p)}}).call(j,(function(){return this})())},function(W,j,N){(function(C){function Q(ot){return Array.isArray?Array.isArray(ot):tt(ot)==="[object Array]"}j.isArray=Q;function L(ot){return typeof ot=="boolean"}j.isBoolean=L;function V(ot){return ot===null}j.isNull=V;function R(ot){return ot==null}j.isNullOrUndefined=R;function _(ot){return typeof ot=="number"}j.isNumber=_;function p(ot){return typeof ot=="string"}j.isString=p;function T(ot){return typeof ot=="symbol"}j.isSymbol=T;function d(ot){return ot===void 0}j.isUndefined=d;function H(ot){return tt(ot)==="[object RegExp]"}j.isRegExp=H;function P(ot){return typeof ot=="object"&&ot!==null}j.isObject=P;function B(ot){return tt(ot)==="[object Date]"}j.isDate=B;function q(ot){return tt(ot)==="[object Error]"||ot instanceof Error}j.isError=q;function G(ot){return typeof ot=="function"}j.isFunction=G;function gt(ot){return ot===null||typeof ot=="boolean"||typeof ot=="number"||typeof ot=="string"||typeof ot=="symbol"||typeof ot>"u"}j.isPrimitive=gt,j.isBuffer=C.isBuffer;function tt(ot){return Object.prototype.toString.call(ot)}}).call(j,N(1))},function(W,j){},function(W,j,N){N(2).Buffer;var C=N(17);W.exports=Q;function Q(){this.head=null,this.tail=null,this.length=0}Q.prototype.push=function(L){var V={data:L,next:null};this.length>0?this.tail.next=V:this.head=V,this.tail=V,++this.length},Q.prototype.unshift=function(L){var V={data:L,next:this.head};this.length===0&&(this.tail=V),this.head=V,++this.length},Q.prototype.shift=function(){if(this.length!==0){var L=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,L}},Q.prototype.clear=function(){this.head=this.tail=null,this.length=0},Q.prototype.join=function(L){if(this.length===0)return"";for(var V=this.head,R=""+V.data;V=V.next;)R+=L+V.data;return R},Q.prototype.concat=function(L){if(this.length===0)return C.alloc(0);if(this.length===1)return this.head.data;for(var V=C.allocUnsafe(L>>>0),R=this.head,_=0;R;)R.data.copy(V,_),_+=R.data.length,R=R.next;return V}},function(W,j,N){var C=Object.keys||function(B){var q=[];for(var G in B)q.push(G);return q};W.exports=d;var Q=N(15),L=N(18);L.inherits=N(12);var V=N(14),R=N(22);L.inherits(d,V);for(var _=C(R.prototype),p=0;p<_.length;p++){var T=_[p];d.prototype[T]||(d.prototype[T]=R.prototype[T])}function d(B){if(!(this instanceof d))return new d(B);V.call(this,B),R.call(this,B),B&&B.readable===!1&&(this.readable=!1),B&&B.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,B&&B.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",H)}function H(){this.allowHalfOpen||this._writableState.ended||Q(P,this)}function P(B){B.end()}},function(W,j,N){(function(C){W.exports=G;var Q=N(15),L=!C.browser&&["v0.10","v0.9."].indexOf(C.version.slice(0,5))>-1?setImmediate:Q,V;G.WritableState=B;var R=N(18);R.inherits=N(12);var _={deprecate:N(23)},p;(function(){try{p=N(11)}catch{}finally{p||(p=N(8).EventEmitter)}})();var T=N(2).Buffer,d=N(17);R.inherits(G,p);function H(){}function P($,J,pt){this.chunk=$,this.encoding=J,this.callback=pt,this.next=null}function B($,J){V=V||N(21),$=$||{},this.objectMode=!!$.objectMode,J instanceof V&&(this.objectMode=this.objectMode||!!$.writableObjectMode);var pt=$.highWaterMark,Rt=this.objectMode?16:16*1024;this.highWaterMark=pt||pt===0?pt:Rt,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var qt=$.decodeStrings===!1;this.decodeStrings=!qt,this.defaultEncoding=$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Wt){et(J,Wt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new _e(this)}B.prototype.getBuffer=function(){for(var J=this.bufferedRequest,pt=[];J;)pt.push(J),J=J.next;return pt},(function(){try{Object.defineProperty(B.prototype,"buffer",{get:_.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}})();var q;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(q=Function.prototype[Symbol.hasInstance],Object.defineProperty(G,Symbol.hasInstance,{value:function($){return q.call(this,$)?!0:$&&$._writableState instanceof B}})):q=function($){return $ instanceof this};function G($){if(V=V||N(21),!q.call(G,this)&&!(this instanceof V))return new G($);this._writableState=new B($,this),this.writable=!0,$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev)),p.call(this)}G.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function gt($,J){var pt=new Error("write after end");$.emit("error",pt),Q(J,pt)}function tt($,J,pt,Rt){var qt=!0,Wt=!1;return pt===null?Wt=new TypeError("May not write null values to stream"):typeof pt!="string"&&pt!==void 0&&!J.objectMode&&(Wt=new TypeError("Invalid non-string/buffer chunk")),Wt&&($.emit("error",Wt),Q(Rt,Wt),qt=!1),qt}G.prototype.write=function($,J,pt){var Rt=this._writableState,qt=!1,Wt=T.isBuffer($);return typeof J=="function"&&(pt=J,J=null),Wt?J="buffer":J||(J=Rt.defaultEncoding),typeof pt!="function"&&(pt=H),Rt.ended?gt(this,pt):(Wt||tt(this,Rt,$,pt))&&(Rt.pendingcb++,qt=Yt(this,Rt,Wt,$,J,pt)),qt},G.prototype.cork=function(){var $=this._writableState;$.corked++},G.prototype.uncork=function(){var $=this._writableState;$.corked&&($.corked--,!$.writing&&!$.corked&&!$.finished&&!$.bufferProcessing&&$.bufferedRequest&&Qt(this,$))},G.prototype.setDefaultEncoding=function(J){if(typeof J=="string"&&(J=J.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((J+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+J);return this._writableState.defaultEncoding=J,this};function ot($,J,pt){return!$.objectMode&&$.decodeStrings!==!1&&typeof J=="string"&&(J=d.from(J,pt)),J}function Yt($,J,pt,Rt,qt,Wt){pt||(Rt=ot(J,Rt,qt),T.isBuffer(Rt)&&(qt="buffer"));var Ht=J.objectMode?1:Rt.length;J.length+=Ht;var te=J.length<J.highWaterMark;if(te||(J.needDrain=!0),J.writing||J.corked){var he=J.lastBufferedRequest;J.lastBufferedRequest=new P(Rt,qt,Wt),he?he.next=J.lastBufferedRequest:J.bufferedRequest=J.lastBufferedRequest,J.bufferedRequestCount+=1}else U($,J,!1,Ht,Rt,qt,Wt);return te}function U($,J,pt,Rt,qt,Wt,Ht){J.writelen=Rt,J.writecb=Ht,J.writing=!0,J.sync=!0,pt?$._writev(qt,J.onwrite):$._write(qt,Wt,J.onwrite),J.sync=!1}function Vt($,J,pt,Rt,qt){--J.pendingcb,pt?Q(qt,Rt):qt(Rt),$._writableState.errorEmitted=!0,$.emit("error",Rt)}function At($){$.writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0}function et($,J){var pt=$._writableState,Rt=pt.sync,qt=pt.writecb;if(At(pt),J)Vt($,pt,Rt,J,qt);else{var Wt=Ot(pt);!Wt&&!pt.corked&&!pt.bufferProcessing&&pt.bufferedRequest&&Qt($,pt),Rt?L(vt,$,pt,Wt,qt):vt($,pt,Wt,qt)}}function vt($,J,pt,Rt){pt||bt($,J),J.pendingcb--,Rt(),zt($,J)}function bt($,J){J.length===0&&J.needDrain&&(J.needDrain=!1,$.emit("drain"))}function Qt($,J){J.bufferProcessing=!0;var pt=J.bufferedRequest;if($._writev&&pt&&pt.next){var Rt=J.bufferedRequestCount,qt=new Array(Rt),Wt=J.corkedRequestsFree;Wt.entry=pt;for(var Ht=0;pt;)qt[Ht]=pt,pt=pt.next,Ht+=1;U($,J,!0,J.length,qt,"",Wt.finish),J.pendingcb++,J.lastBufferedRequest=null,Wt.next?(J.corkedRequestsFree=Wt.next,Wt.next=null):J.corkedRequestsFree=new _e(J)}else{for(;pt;){var te=pt.chunk,he=pt.encoding,ae=pt.callback,x=J.objectMode?1:te.length;if(U($,J,!1,x,te,he,ae),pt=pt.next,J.writing)break}pt===null&&(J.lastBufferedRequest=null)}J.bufferedRequestCount=0,J.bufferedRequest=pt,J.bufferProcessing=!1}G.prototype._write=function($,J,pt){pt(new Error("_write() is not implemented"))},G.prototype._writev=null,G.prototype.end=function($,J,pt){var Rt=this._writableState;typeof $=="function"?(pt=$,$=null,J=null):typeof J=="function"&&(pt=J,J=null),$!=null&&this.write($,J),Rt.corked&&(Rt.corked=1,this.uncork()),!Rt.ending&&!Rt.finished&&Ct(this,Rt,pt)};function Ot($){return $.ending&&$.length===0&&$.bufferedRequest===null&&!$.finished&&!$.writing}function Kt($,J){J.prefinished||(J.prefinished=!0,$.emit("prefinish"))}function zt($,J){var pt=Ot(J);return pt&&(J.pendingcb===0?(Kt($,J),J.finished=!0,$.emit("finish")):Kt($,J)),pt}function Ct($,J,pt){J.ending=!0,zt($,J),pt&&(J.finished?Q(pt):$.once("finish",pt)),J.ended=!0,$.writable=!1}function _e($){var J=this;this.next=null,this.entry=null,this.finish=function(pt){var Rt=J.entry;for(J.entry=null;Rt;){var qt=Rt.callback;$.pendingcb--,qt(pt),Rt=Rt.next}$.corkedRequestsFree?$.corkedRequestsFree.next=J:$.corkedRequestsFree=J}}}).call(j,N(6))},function(W,j){(function(N){W.exports=C;function C(L,V){if(Q("noDeprecation"))return L;var R=!1;function _(){if(!R){if(Q("throwDeprecation"))throw new Error(V);Q("traceDeprecation")?console.trace(V):console.warn(V),R=!0}return L.apply(this,arguments)}return _}function Q(L){try{if(!N.localStorage)return!1}catch{return!1}var V=N.localStorage[L];return V==null?!1:String(V).toLowerCase()==="true"}}).call(j,(function(){return this})())},function(W,j,N){var C=N(2).Buffer,Q=C.isEncoding||function(T){switch(T&&T.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function L(T){if(T&&!Q(T))throw new Error("Unknown encoding: "+T)}var V=j.StringDecoder=function(T){switch(this.encoding=(T||"utf8").toLowerCase().replace(/[-_]/,""),L(T),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=_;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=p;break;default:this.write=R;return}this.charBuffer=new C(6),this.charReceived=0,this.charLength=0};V.prototype.write=function(T){for(var d="";this.charLength;){var H=T.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:T.length;if(T.copy(this.charBuffer,this.charReceived,0,H),this.charReceived+=H,this.charReceived<this.charLength)return"";T=T.slice(H,T.length),d=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var B=d.charCodeAt(d.length-1);if(B>=55296&&B<=56319){this.charLength+=this.surrogateSize,d="";continue}if(this.charReceived=this.charLength=0,T.length===0)return d;break}this.detectIncompleteChar(T);var P=T.length;this.charLength&&(T.copy(this.charBuffer,0,T.length-this.charReceived,P),P-=this.charReceived),d+=T.toString(this.encoding,0,P);var P=d.length-1,B=d.charCodeAt(P);if(B>=55296&&B<=56319){var q=this.surrogateSize;return this.charLength+=q,this.charReceived+=q,this.charBuffer.copy(this.charBuffer,q,0,q),T.copy(this.charBuffer,0,0,q),d.substring(0,P)}return d},V.prototype.detectIncompleteChar=function(T){for(var d=T.length>=3?3:T.length;d>0;d--){var H=T[T.length-d];if(d==1&&H>>5==6){this.charLength=2;break}if(d<=2&&H>>4==14){this.charLength=3;break}if(d<=3&&H>>3==30){this.charLength=4;break}}this.charReceived=d},V.prototype.end=function(T){var d="";if(T&&T.length&&(d=this.write(T)),this.charReceived){var H=this.charReceived,P=this.charBuffer,B=this.encoding;d+=P.slice(0,H).toString(B)}return d};function R(T){return T.toString(this.encoding)}function _(T){this.charReceived=T.length%2,this.charLength=this.charReceived?2:0}function p(T){this.charReceived=T.length%3,this.charLength=this.charReceived?3:0}},function(W,j,N){W.exports=R;var C=N(21),Q=N(18);Q.inherits=N(12),Q.inherits(R,C);function L(p){this.afterTransform=function(T,d){return V(p,T,d)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function V(p,T,d){var H=p._transformState;H.transforming=!1;var P=H.writecb;if(!P)return p.emit("error",new Error("no writecb in Transform class"));H.writechunk=null,H.writecb=null,d!=null&&p.push(d),P(T);var B=p._readableState;B.reading=!1,(B.needReadable||B.length<B.highWaterMark)&&p._read(B.highWaterMark)}function R(p){if(!(this instanceof R))return new R(p);C.call(this,p),this._transformState=new L(this);var T=this;this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(d,H){_(T,d,H)}):_(T)})}R.prototype.push=function(p,T){return this._transformState.needTransform=!1,C.prototype.push.call(this,p,T)},R.prototype._transform=function(p,T,d){throw new Error("_transform() is not implemented")},R.prototype._write=function(p,T,d){var H=this._transformState;if(H.writecb=d,H.writechunk=p,H.writeencoding=T,!H.transforming){var P=this._readableState;(H.needTransform||P.needReadable||P.length<P.highWaterMark)&&this._read(P.highWaterMark)}},R.prototype._read=function(p){var T=this._transformState;T.writechunk!==null&&T.writecb&&!T.transforming?(T.transforming=!0,this._transform(T.writechunk,T.writeencoding,T.afterTransform)):T.needTransform=!0};function _(p,T,d){if(T)return p.emit("error",T);d!=null&&p.push(d);var H=p._writableState,P=p._transformState;if(H.length)throw new Error("Calling transform done when ws.length != 0");if(P.transforming)throw new Error("Calling transform done when still transforming");return p.push(null)}},function(W,j,N){W.exports=L;var C=N(25),Q=N(18);Q.inherits=N(12),Q.inherits(L,C);function L(V){if(!(this instanceof L))return new L(V);C.call(this,V)}L.prototype._transform=function(V,R,_){_(null,V)}},function(W,j,N){W.exports=N(22)},function(W,j,N){W.exports=N(21)},function(W,j,N){W.exports=N(25)},function(W,j,N){W.exports=N(26)},function(W,j,N){var C=N(32),Q=N(33),L=N(38),V=N(39),R=N(40),_=N(41),p=N(42),T=Object.prototype.toString;function d(B){if(!(this instanceof d))return new d(B);this.options=Q.assign({chunkSize:16384,windowBits:0,to:""},B||{});var q=this.options;q.raw&&q.windowBits>=0&&q.windowBits<16&&(q.windowBits=-q.windowBits,q.windowBits===0&&(q.windowBits=-15)),q.windowBits>=0&&q.windowBits<16&&!(B&&B.windowBits)&&(q.windowBits+=32),q.windowBits>15&&q.windowBits<48&&(q.windowBits&15)===0&&(q.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var G=C.inflateInit2(this.strm,q.windowBits);if(G!==V.Z_OK)throw new Error(R[G]);this.header=new p,C.inflateGetHeader(this.strm,this.header)}d.prototype.push=function(B,q){var G=this.strm,gt=this.options.chunkSize,tt=this.options.dictionary,ot,Yt,U,Vt,At,et,vt=!1;if(this.ended)return!1;Yt=q===~~q?q:q===!0?V.Z_FINISH:V.Z_NO_FLUSH,typeof B=="string"?G.input=L.binstring2buf(B):T.call(B)==="[object ArrayBuffer]"?G.input=new Uint8Array(B):G.input=B,G.next_in=0,G.avail_in=G.input.length;do{if(G.avail_out===0&&(G.output=new Q.Buf8(gt),G.next_out=0,G.avail_out=gt),ot=C.inflate(G,V.Z_NO_FLUSH),ot===V.Z_NEED_DICT&&tt&&(typeof tt=="string"?et=L.string2buf(tt):T.call(tt)==="[object ArrayBuffer]"?et=new Uint8Array(tt):et=tt,ot=C.inflateSetDictionary(this.strm,et)),ot===V.Z_BUF_ERROR&&vt===!0&&(ot=V.Z_OK,vt=!1),ot!==V.Z_STREAM_END&&ot!==V.Z_OK)return this.onEnd(ot),this.ended=!0,!1;G.next_out&&(G.avail_out===0||ot===V.Z_STREAM_END||G.avail_in===0&&(Yt===V.Z_FINISH||Yt===V.Z_SYNC_FLUSH))&&(this.options.to==="string"?(U=L.utf8border(G.output,G.next_out),Vt=G.next_out-U,At=L.buf2string(G.output,U),G.next_out=Vt,G.avail_out=gt-Vt,Vt&&Q.arraySet(G.output,G.output,U,Vt,0),this.onData(At)):this.onData(Q.shrinkBuf(G.output,G.next_out))),G.avail_in===0&&G.avail_out===0&&(vt=!0)}while((G.avail_in>0||G.avail_out===0)&&ot!==V.Z_STREAM_END);return ot===V.Z_STREAM_END&&(Yt=V.Z_FINISH),Yt===V.Z_FINISH?(ot=C.inflateEnd(this.strm),this.onEnd(ot),this.ended=!0,ot===V.Z_OK):(Yt===V.Z_SYNC_FLUSH&&(this.onEnd(V.Z_OK),G.avail_out=0),!0)},d.prototype.onData=function(B){this.chunks.push(B)},d.prototype.onEnd=function(B){B===V.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Q.flattenChunks(this.chunks)),this.chunks=[],this.err=B,this.msg=this.strm.msg};function H(B,q){var G=new d(q);if(G.push(B,!0),G.err)throw G.msg||R[G.err];return G.result}function P(B,q){return q=q||{},q.raw=!0,H(B,q)}j.Inflate=d,j.inflate=H,j.inflateRaw=P,j.ungzip=H},function(W,j,N){var C=N(33),Q=N(34),L=N(35),V=N(36),R=N(37),_=0,p=1,T=2,d=4,H=5,P=6,B=0,q=1,G=2,gt=-2,tt=-3,ot=-4,Yt=-5,U=8,Vt=1,At=2,et=3,vt=4,bt=5,Qt=6,Ot=7,Kt=8,zt=9,Ct=10,_e=11,$=12,J=13,pt=14,Rt=15,qt=16,Wt=17,Ht=18,te=19,he=20,ae=21,x=22,A=23,ut=24,_t=25,Nt=26,jt=27,dt=28,ge=29,Mt=30,xe=31,Ne=32,We=852,k=592,y=15,v=y;function D(nt){return(nt>>>24&255)+(nt>>>8&65280)+((nt&65280)<<8)+((nt&255)<<24)}function K(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new C.Buf16(320),this.work=new C.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function it(nt){var It;return!nt||!nt.state?gt:(It=nt.state,nt.total_in=nt.total_out=It.total=0,nt.msg="",It.wrap&&(nt.adler=It.wrap&1),It.mode=Vt,It.last=0,It.havedict=0,It.dmax=32768,It.head=null,It.hold=0,It.bits=0,It.lencode=It.lendyn=new C.Buf32(We),It.distcode=It.distdyn=new C.Buf32(k),It.sane=1,It.back=-1,B)}function lt(nt){var It;return!nt||!nt.state?gt:(It=nt.state,It.wsize=0,It.whave=0,It.wnext=0,it(nt))}function Jt(nt,It){var b,kt;return!nt||!nt.state||(kt=nt.state,It<0?(b=0,It=-It):(b=(It>>4)+1,It<48&&(It&=15)),It&&(It<8||It>15))?gt:(kt.window!==null&&kt.wbits!==It&&(kt.window=null),kt.wrap=b,kt.wbits=It,lt(nt))}function ne(nt,It){var b,kt;return nt?(kt=new K,nt.state=kt,kt.window=null,b=Jt(nt,It),b!==B&&(nt.state=null),b):gt}function ce(nt){return ne(nt,v)}var me=!0,re,Ke;function vn(nt){if(me){var It;for(re=new C.Buf32(512),Ke=new C.Buf32(32),It=0;It<144;)nt.lens[It++]=8;for(;It<256;)nt.lens[It++]=9;for(;It<280;)nt.lens[It++]=7;for(;It<288;)nt.lens[It++]=8;for(R(p,nt.lens,0,288,re,0,nt.work,{bits:9}),It=0;It<32;)nt.lens[It++]=5;R(T,nt.lens,0,32,Ke,0,nt.work,{bits:5}),me=!1}nt.lencode=re,nt.lenbits=9,nt.distcode=Ke,nt.distbits=5}function en(nt,It,b,kt){var ue,Et=nt.state;return Et.window===null&&(Et.wsize=1<<Et.wbits,Et.wnext=0,Et.whave=0,Et.window=new C.Buf8(Et.wsize)),kt>=Et.wsize?(C.arraySet(Et.window,It,b-Et.wsize,Et.wsize,0),Et.wnext=0,Et.whave=Et.wsize):(ue=Et.wsize-Et.wnext,ue>kt&&(ue=kt),C.arraySet(Et.window,It,b-kt,ue,Et.wnext),kt-=ue,kt?(C.arraySet(Et.window,It,b-kt,kt,0),Et.wnext=kt,Et.whave=Et.wsize):(Et.wnext+=ue,Et.wnext===Et.wsize&&(Et.wnext=0),Et.whave<Et.wsize&&(Et.whave+=ue))),0}function an(nt,It){var b,kt,ue,Et,Le,Tt,Te,ct,st,xn,fe,Ft,Ae,Ce,oe=0,ie,Re,De,pe,Pt,sn,we,He,Oe=new C.Buf8(4),Pe,Ve,qn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!nt||!nt.state||!nt.output||!nt.input&&nt.avail_in!==0)return gt;b=nt.state,b.mode===$&&(b.mode=J),Le=nt.next_out,ue=nt.output,Te=nt.avail_out,Et=nt.next_in,kt=nt.input,Tt=nt.avail_in,ct=b.hold,st=b.bits,xn=Tt,fe=Te,He=B;t:for(;;)switch(b.mode){case Vt:if(b.wrap===0){b.mode=J;break}for(;st<16;){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}if(b.wrap&2&&ct===35615){b.check=0,Oe[0]=ct&255,Oe[1]=ct>>>8&255,b.check=L(b.check,Oe,2,0),ct=0,st=0,b.mode=At;break}if(b.flags=0,b.head&&(b.head.done=!1),!(b.wrap&1)||(((ct&255)<<8)+(ct>>8))%31){nt.msg="incorrect header check",b.mode=Mt;break}if((ct&15)!==U){nt.msg="unknown compression method",b.mode=Mt;break}if(ct>>>=4,st-=4,we=(ct&15)+8,b.wbits===0)b.wbits=we;else if(we>b.wbits){nt.msg="invalid window size",b.mode=Mt;break}b.dmax=1<<we,nt.adler=b.check=1,b.mode=ct&512?Ct:$,ct=0,st=0;break;case At:for(;st<16;){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}if(b.flags=ct,(b.flags&255)!==U){nt.msg="unknown compression method",b.mode=Mt;break}if(b.flags&57344){nt.msg="unknown header flags set",b.mode=Mt;break}b.head&&(b.head.text=ct>>8&1),b.flags&512&&(Oe[0]=ct&255,Oe[1]=ct>>>8&255,b.check=L(b.check,Oe,2,0)),ct=0,st=0,b.mode=et;case et:for(;st<32;){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}b.head&&(b.head.time=ct),b.flags&512&&(Oe[0]=ct&255,Oe[1]=ct>>>8&255,Oe[2]=ct>>>16&255,Oe[3]=ct>>>24&255,b.check=L(b.check,Oe,4,0)),ct=0,st=0,b.mode=vt;case vt:for(;st<16;){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}b.head&&(b.head.xflags=ct&255,b.head.os=ct>>8),b.flags&512&&(Oe[0]=ct&255,Oe[1]=ct>>>8&255,b.check=L(b.check,Oe,2,0)),ct=0,st=0,b.mode=bt;case bt:if(b.flags&1024){for(;st<16;){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}b.length=ct,b.head&&(b.head.extra_len=ct),b.flags&512&&(Oe[0]=ct&255,Oe[1]=ct>>>8&255,b.check=L(b.check,Oe,2,0)),ct=0,st=0}else b.head&&(b.head.extra=null);b.mode=Qt;case Qt:if(b.flags&1024&&(Ft=b.length,Ft>Tt&&(Ft=Tt),Ft&&(b.head&&(we=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),C.arraySet(b.head.extra,kt,Et,Ft,we)),b.flags&512&&(b.check=L(b.check,kt,Ft,Et)),Tt-=Ft,Et+=Ft,b.length-=Ft),b.length))break t;b.length=0,b.mode=Ot;case Ot:if(b.flags&2048){if(Tt===0)break t;Ft=0;do we=kt[Et+Ft++],b.head&&we&&b.length<65536&&(b.head.name+=String.fromCharCode(we));while(we&&Ft<Tt);if(b.flags&512&&(b.check=L(b.check,kt,Ft,Et)),Tt-=Ft,Et+=Ft,we)break t}else b.head&&(b.head.name=null);b.length=0,b.mode=Kt;case Kt:if(b.flags&4096){if(Tt===0)break t;Ft=0;do we=kt[Et+Ft++],b.head&&we&&b.length<65536&&(b.head.comment+=String.fromCharCode(we));while(we&&Ft<Tt);if(b.flags&512&&(b.check=L(b.check,kt,Ft,Et)),Tt-=Ft,Et+=Ft,we)break t}else b.head&&(b.head.comment=null);b.mode=zt;case zt:if(b.flags&512){for(;st<16;){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}if(ct!==(b.check&65535)){nt.msg="header crc mismatch",b.mode=Mt;break}ct=0,st=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),nt.adler=b.check=0,b.mode=$;break;case Ct:for(;st<32;){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}nt.adler=b.check=D(ct),ct=0,st=0,b.mode=_e;case _e:if(b.havedict===0)return nt.next_out=Le,nt.avail_out=Te,nt.next_in=Et,nt.avail_in=Tt,b.hold=ct,b.bits=st,G;nt.adler=b.check=1,b.mode=$;case $:if(It===H||It===P)break t;case J:if(b.last){ct>>>=st&7,st-=st&7,b.mode=jt;break}for(;st<3;){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}switch(b.last=ct&1,ct>>>=1,st-=1,ct&3){case 0:b.mode=pt;break;case 1:if(vn(b),b.mode=he,It===P){ct>>>=2,st-=2;break t}break;case 2:b.mode=Wt;break;case 3:nt.msg="invalid block type",b.mode=Mt}ct>>>=2,st-=2;break;case pt:for(ct>>>=st&7,st-=st&7;st<32;){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}if((ct&65535)!==(ct>>>16^65535)){nt.msg="invalid stored block lengths",b.mode=Mt;break}if(b.length=ct&65535,ct=0,st=0,b.mode=Rt,It===P)break t;case Rt:b.mode=qt;case qt:if(Ft=b.length,Ft){if(Ft>Tt&&(Ft=Tt),Ft>Te&&(Ft=Te),Ft===0)break t;C.arraySet(ue,kt,Et,Ft,Le),Tt-=Ft,Et+=Ft,Te-=Ft,Le+=Ft,b.length-=Ft;break}b.mode=$;break;case Wt:for(;st<14;){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}if(b.nlen=(ct&31)+257,ct>>>=5,st-=5,b.ndist=(ct&31)+1,ct>>>=5,st-=5,b.ncode=(ct&15)+4,ct>>>=4,st-=4,b.nlen>286||b.ndist>30){nt.msg="too many length or distance symbols",b.mode=Mt;break}b.have=0,b.mode=Ht;case Ht:for(;b.have<b.ncode;){for(;st<3;){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}b.lens[qn[b.have++]]=ct&7,ct>>>=3,st-=3}for(;b.have<19;)b.lens[qn[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,Pe={bits:b.lenbits},He=R(_,b.lens,0,19,b.lencode,0,b.work,Pe),b.lenbits=Pe.bits,He){nt.msg="invalid code lengths set",b.mode=Mt;break}b.have=0,b.mode=te;case te:for(;b.have<b.nlen+b.ndist;){for(;oe=b.lencode[ct&(1<<b.lenbits)-1],ie=oe>>>24,Re=oe>>>16&255,De=oe&65535,!(ie<=st);){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}if(De<16)ct>>>=ie,st-=ie,b.lens[b.have++]=De;else{if(De===16){for(Ve=ie+2;st<Ve;){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}if(ct>>>=ie,st-=ie,b.have===0){nt.msg="invalid bit length repeat",b.mode=Mt;break}we=b.lens[b.have-1],Ft=3+(ct&3),ct>>>=2,st-=2}else if(De===17){for(Ve=ie+3;st<Ve;){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}ct>>>=ie,st-=ie,we=0,Ft=3+(ct&7),ct>>>=3,st-=3}else{for(Ve=ie+7;st<Ve;){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}ct>>>=ie,st-=ie,we=0,Ft=11+(ct&127),ct>>>=7,st-=7}if(b.have+Ft>b.nlen+b.ndist){nt.msg="invalid bit length repeat",b.mode=Mt;break}for(;Ft--;)b.lens[b.have++]=we}}if(b.mode===Mt)break;if(b.lens[256]===0){nt.msg="invalid code -- missing end-of-block",b.mode=Mt;break}if(b.lenbits=9,Pe={bits:b.lenbits},He=R(p,b.lens,0,b.nlen,b.lencode,0,b.work,Pe),b.lenbits=Pe.bits,He){nt.msg="invalid literal/lengths set",b.mode=Mt;break}if(b.distbits=6,b.distcode=b.distdyn,Pe={bits:b.distbits},He=R(T,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,Pe),b.distbits=Pe.bits,He){nt.msg="invalid distances set",b.mode=Mt;break}if(b.mode=he,It===P)break t;case he:b.mode=ae;case ae:if(Tt>=6&&Te>=258){nt.next_out=Le,nt.avail_out=Te,nt.next_in=Et,nt.avail_in=Tt,b.hold=ct,b.bits=st,V(nt,fe),Le=nt.next_out,ue=nt.output,Te=nt.avail_out,Et=nt.next_in,kt=nt.input,Tt=nt.avail_in,ct=b.hold,st=b.bits,b.mode===$&&(b.back=-1);break}for(b.back=0;oe=b.lencode[ct&(1<<b.lenbits)-1],ie=oe>>>24,Re=oe>>>16&255,De=oe&65535,!(ie<=st);){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}if(Re&&(Re&240)===0){for(pe=ie,Pt=Re,sn=De;oe=b.lencode[sn+((ct&(1<<pe+Pt)-1)>>pe)],ie=oe>>>24,Re=oe>>>16&255,De=oe&65535,!(pe+ie<=st);){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}ct>>>=pe,st-=pe,b.back+=pe}if(ct>>>=ie,st-=ie,b.back+=ie,b.length=De,Re===0){b.mode=Nt;break}if(Re&32){b.back=-1,b.mode=$;break}if(Re&64){nt.msg="invalid literal/length code",b.mode=Mt;break}b.extra=Re&15,b.mode=x;case x:if(b.extra){for(Ve=b.extra;st<Ve;){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}b.length+=ct&(1<<b.extra)-1,ct>>>=b.extra,st-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=A;case A:for(;oe=b.distcode[ct&(1<<b.distbits)-1],ie=oe>>>24,Re=oe>>>16&255,De=oe&65535,!(ie<=st);){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}if((Re&240)===0){for(pe=ie,Pt=Re,sn=De;oe=b.distcode[sn+((ct&(1<<pe+Pt)-1)>>pe)],ie=oe>>>24,Re=oe>>>16&255,De=oe&65535,!(pe+ie<=st);){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}ct>>>=pe,st-=pe,b.back+=pe}if(ct>>>=ie,st-=ie,b.back+=ie,Re&64){nt.msg="invalid distance code",b.mode=Mt;break}b.offset=De,b.extra=Re&15,b.mode=ut;case ut:if(b.extra){for(Ve=b.extra;st<Ve;){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}b.offset+=ct&(1<<b.extra)-1,ct>>>=b.extra,st-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){nt.msg="invalid distance too far back",b.mode=Mt;break}b.mode=_t;case _t:if(Te===0)break t;if(Ft=fe-Te,b.offset>Ft){if(Ft=b.offset-Ft,Ft>b.whave&&b.sane){nt.msg="invalid distance too far back",b.mode=Mt;break}Ft>b.wnext?(Ft-=b.wnext,Ae=b.wsize-Ft):Ae=b.wnext-Ft,Ft>b.length&&(Ft=b.length),Ce=b.window}else Ce=ue,Ae=Le-b.offset,Ft=b.length;Ft>Te&&(Ft=Te),Te-=Ft,b.length-=Ft;do ue[Le++]=Ce[Ae++];while(--Ft);b.length===0&&(b.mode=ae);break;case Nt:if(Te===0)break t;ue[Le++]=b.length,Te--,b.mode=ae;break;case jt:if(b.wrap){for(;st<32;){if(Tt===0)break t;Tt--,ct|=kt[Et++]<<st,st+=8}if(fe-=Te,nt.total_out+=fe,b.total+=fe,fe&&(nt.adler=b.check=b.flags?L(b.check,ue,fe,Le-fe):Q(b.check,ue,fe,Le-fe)),fe=Te,(b.flags?ct:D(ct))!==b.check){nt.msg="incorrect data check",b.mode=Mt;break}ct=0,st=0}b.mode=dt;case dt:if(b.wrap&&b.flags){for(;st<32;){if(Tt===0)break t;Tt--,ct+=kt[Et++]<<st,st+=8}if(ct!==(b.total&4294967295)){nt.msg="incorrect length check",b.mode=Mt;break}ct=0,st=0}b.mode=ge;case ge:He=q;break t;case Mt:He=tt;break t;case xe:return ot;case Ne:default:return gt}return nt.next_out=Le,nt.avail_out=Te,nt.next_in=Et,nt.avail_in=Tt,b.hold=ct,b.bits=st,(b.wsize||fe!==nt.avail_out&&b.mode<Mt&&(b.mode<jt||It!==d))&&en(nt,nt.output,nt.next_out,fe-nt.avail_out),xn-=nt.avail_in,fe-=nt.avail_out,nt.total_in+=xn,nt.total_out+=fe,b.total+=fe,b.wrap&&fe&&(nt.adler=b.check=b.flags?L(b.check,ue,fe,nt.next_out-fe):Q(b.check,ue,fe,nt.next_out-fe)),nt.data_type=b.bits+(b.last?64:0)+(b.mode===$?128:0)+(b.mode===he||b.mode===Rt?256:0),(xn===0&&fe===0||It===d)&&He===B&&(He=Yt),He}function Zn(nt){if(!nt||!nt.state)return gt;var It=nt.state;return It.window&&(It.window=null),nt.state=null,B}function gn(nt,It){var b;return!nt||!nt.state||(b=nt.state,(b.wrap&2)===0)?gt:(b.head=It,It.done=!1,B)}function mn(nt,It){var b=It.length,kt,ue,Et;return!nt||!nt.state||(kt=nt.state,kt.wrap!==0&&kt.mode!==_e)?gt:kt.mode===_e&&(ue=1,ue=Q(ue,It,b,0),ue!==kt.check)?tt:(Et=en(nt,It,b,b),Et?(kt.mode=xe,ot):(kt.havedict=1,B))}j.inflateReset=lt,j.inflateReset2=Jt,j.inflateResetKeep=it,j.inflateInit=ce,j.inflateInit2=ne,j.inflate=an,j.inflateEnd=Zn,j.inflateGetHeader=gn,j.inflateSetDictionary=mn,j.inflateInfo="pako inflate (from Nodeca project)"},function(W,j){var N=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";j.assign=function(L){for(var V=Array.prototype.slice.call(arguments,1);V.length;){var R=V.shift();if(R){if(typeof R!="object")throw new TypeError(R+"must be non-object");for(var _ in R)R.hasOwnProperty(_)&&(L[_]=R[_])}}return L},j.shrinkBuf=function(L,V){return L.length===V?L:L.subarray?L.subarray(0,V):(L.length=V,L)};var C={arraySet:function(L,V,R,_,p){if(V.subarray&&L.subarray){L.set(V.subarray(R,R+_),p);return}for(var T=0;T<_;T++)L[p+T]=V[R+T]},flattenChunks:function(L){var V,R,_,p,T,d;for(_=0,V=0,R=L.length;V<R;V++)_+=L[V].length;for(d=new Uint8Array(_),p=0,V=0,R=L.length;V<R;V++)T=L[V],d.set(T,p),p+=T.length;return d}},Q={arraySet:function(L,V,R,_,p){for(var T=0;T<_;T++)L[p+T]=V[R+T]},flattenChunks:function(L){return[].concat.apply([],L)}};j.setTyped=function(L){L?(j.Buf8=Uint8Array,j.Buf16=Uint16Array,j.Buf32=Int32Array,j.assign(j,C)):(j.Buf8=Array,j.Buf16=Array,j.Buf32=Array,j.assign(j,Q))},j.setTyped(N)},function(W,j){function N(C,Q,L,V){for(var R=C&65535|0,_=C>>>16&65535|0,p=0;L!==0;){p=L>2e3?2e3:L,L-=p;do R=R+Q[V++]|0,_=_+R|0;while(--p);R%=65521,_%=65521}return R|_<<16|0}W.exports=N},function(W,j){function N(){for(var L,V=[],R=0;R<256;R++){L=R;for(var _=0;_<8;_++)L=L&1?3988292384^L>>>1:L>>>1;V[R]=L}return V}var C=N();function Q(L,V,R,_){var p=C,T=_+R;L^=-1;for(var d=_;d<T;d++)L=L>>>8^p[(L^V[d])&255];return L^-1}W.exports=Q},function(W,j){var N=30,C=12;W.exports=function(L,V){var R,_,p,T,d,H,P,B,q,G,gt,tt,ot,Yt,U,Vt,At,et,vt,bt,Qt,Ot,Kt,zt,Ct;R=L.state,_=L.next_in,zt=L.input,p=_+(L.avail_in-5),T=L.next_out,Ct=L.output,d=T-(V-L.avail_out),H=T+(L.avail_out-257),P=R.dmax,B=R.wsize,q=R.whave,G=R.wnext,gt=R.window,tt=R.hold,ot=R.bits,Yt=R.lencode,U=R.distcode,Vt=(1<<R.lenbits)-1,At=(1<<R.distbits)-1;t:do{ot<15&&(tt+=zt[_++]<<ot,ot+=8,tt+=zt[_++]<<ot,ot+=8),et=Yt[tt&Vt];e:for(;;){if(vt=et>>>24,tt>>>=vt,ot-=vt,vt=et>>>16&255,vt===0)Ct[T++]=et&65535;else if(vt&16){bt=et&65535,vt&=15,vt&&(ot<vt&&(tt+=zt[_++]<<ot,ot+=8),bt+=tt&(1<<vt)-1,tt>>>=vt,ot-=vt),ot<15&&(tt+=zt[_++]<<ot,ot+=8,tt+=zt[_++]<<ot,ot+=8),et=U[tt&At];n:for(;;){if(vt=et>>>24,tt>>>=vt,ot-=vt,vt=et>>>16&255,vt&16){if(Qt=et&65535,vt&=15,ot<vt&&(tt+=zt[_++]<<ot,ot+=8,ot<vt&&(tt+=zt[_++]<<ot,ot+=8)),Qt+=tt&(1<<vt)-1,Qt>P){L.msg="invalid distance too far back",R.mode=N;break t}if(tt>>>=vt,ot-=vt,vt=T-d,Qt>vt){if(vt=Qt-vt,vt>q&&R.sane){L.msg="invalid distance too far back",R.mode=N;break t}if(Ot=0,Kt=gt,G===0){if(Ot+=B-vt,vt<bt){bt-=vt;do Ct[T++]=gt[Ot++];while(--vt);Ot=T-Qt,Kt=Ct}}else if(G<vt){if(Ot+=B+G-vt,vt-=G,vt<bt){bt-=vt;do Ct[T++]=gt[Ot++];while(--vt);if(Ot=0,G<bt){vt=G,bt-=vt;do Ct[T++]=gt[Ot++];while(--vt);Ot=T-Qt,Kt=Ct}}}else if(Ot+=G-vt,vt<bt){bt-=vt;do Ct[T++]=gt[Ot++];while(--vt);Ot=T-Qt,Kt=Ct}for(;bt>2;)Ct[T++]=Kt[Ot++],Ct[T++]=Kt[Ot++],Ct[T++]=Kt[Ot++],bt-=3;bt&&(Ct[T++]=Kt[Ot++],bt>1&&(Ct[T++]=Kt[Ot++]))}else{Ot=T-Qt;do Ct[T++]=Ct[Ot++],Ct[T++]=Ct[Ot++],Ct[T++]=Ct[Ot++],bt-=3;while(bt>2);bt&&(Ct[T++]=Ct[Ot++],bt>1&&(Ct[T++]=Ct[Ot++]))}}else if((vt&64)===0){et=U[(et&65535)+(tt&(1<<vt)-1)];continue n}else{L.msg="invalid distance code",R.mode=N;break t}break}}else if((vt&64)===0){et=Yt[(et&65535)+(tt&(1<<vt)-1)];continue e}else if(vt&32){R.mode=C;break t}else{L.msg="invalid literal/length code",R.mode=N;break t}break}}while(_<p&&T<H);bt=ot>>3,_-=bt,ot-=bt<<3,tt&=(1<<ot)-1,L.next_in=_,L.next_out=T,L.avail_in=_<p?5+(p-_):5-(_-p),L.avail_out=T<H?257+(H-T):257-(T-H),R.hold=tt,R.bits=ot}},function(W,j,N){var C=N(33),Q=15,L=852,V=592,R=0,_=1,p=2,T=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],H=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];W.exports=function(q,G,gt,tt,ot,Yt,U,Vt){var At=Vt.bits,et=0,vt=0,bt=0,Qt=0,Ot=0,Kt=0,zt=0,Ct=0,_e=0,$=0,J,pt,Rt,qt,Wt,Ht=null,te=0,he,ae=new C.Buf16(Q+1),x=new C.Buf16(Q+1),A=null,ut=0,_t,Nt,jt;for(et=0;et<=Q;et++)ae[et]=0;for(vt=0;vt<tt;vt++)ae[G[gt+vt]]++;for(Ot=At,Qt=Q;Qt>=1&&ae[Qt]===0;Qt--);if(Ot>Qt&&(Ot=Qt),Qt===0)return ot[Yt++]=1<<24|64<<16|0,ot[Yt++]=1<<24|64<<16|0,Vt.bits=1,0;for(bt=1;bt<Qt&&ae[bt]===0;bt++);for(Ot<bt&&(Ot=bt),Ct=1,et=1;et<=Q;et++)if(Ct<<=1,Ct-=ae[et],Ct<0)return-1;if(Ct>0&&(q===R||Qt!==1))return-1;for(x[1]=0,et=1;et<Q;et++)x[et+1]=x[et]+ae[et];for(vt=0;vt<tt;vt++)G[gt+vt]!==0&&(U[x[G[gt+vt]]++]=vt);if(q===R?(Ht=A=U,he=19):q===_?(Ht=T,te-=257,A=d,ut-=257,he=256):(Ht=H,A=P,he=-1),$=0,vt=0,et=bt,Wt=Yt,Kt=Ot,zt=0,Rt=-1,_e=1<<Ot,qt=_e-1,q===_&&_e>L||q===p&&_e>V)return 1;for(;;){_t=et-zt,U[vt]<he?(Nt=0,jt=U[vt]):U[vt]>he?(Nt=A[ut+U[vt]],jt=Ht[te+U[vt]]):(Nt=96,jt=0),J=1<<et-zt,pt=1<<Kt,bt=pt;do pt-=J,ot[Wt+($>>zt)+pt]=_t<<24|Nt<<16|jt|0;while(pt!==0);for(J=1<<et-1;$&J;)J>>=1;if(J!==0?($&=J-1,$+=J):$=0,vt++,--ae[et]===0){if(et===Qt)break;et=G[gt+U[vt]]}if(et>Ot&&($&qt)!==Rt){for(zt===0&&(zt=Ot),Wt+=bt,Kt=et-zt,Ct=1<<Kt;Kt+zt<Qt&&(Ct-=ae[Kt+zt],!(Ct<=0));)Kt++,Ct<<=1;if(_e+=1<<Kt,q===_&&_e>L||q===p&&_e>V)return 1;Rt=$&qt,ot[Rt]=Ot<<24|Kt<<16|Wt-Yt|0}}return $!==0&&(ot[Wt+$]=et-zt<<24|64<<16|0),Vt.bits=Ot,0}},function(W,j,N){var C=N(33),Q=!0,L=!0;try{String.fromCharCode.apply(null,[0])}catch{Q=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{L=!1}for(var V=new C.Buf8(256),R=0;R<256;R++)V[R]=R>=252?6:R>=248?5:R>=240?4:R>=224?3:R>=192?2:1;V[254]=V[254]=1,j.string2buf=function(p){var T,d,H,P,B,q=p.length,G=0;for(P=0;P<q;P++)d=p.charCodeAt(P),(d&64512)===55296&&P+1<q&&(H=p.charCodeAt(P+1),(H&64512)===56320&&(d=65536+(d-55296<<10)+(H-56320),P++)),G+=d<128?1:d<2048?2:d<65536?3:4;for(T=new C.Buf8(G),B=0,P=0;B<G;P++)d=p.charCodeAt(P),(d&64512)===55296&&P+1<q&&(H=p.charCodeAt(P+1),(H&64512)===56320&&(d=65536+(d-55296<<10)+(H-56320),P++)),d<128?T[B++]=d:d<2048?(T[B++]=192|d>>>6,T[B++]=128|d&63):d<65536?(T[B++]=224|d>>>12,T[B++]=128|d>>>6&63,T[B++]=128|d&63):(T[B++]=240|d>>>18,T[B++]=128|d>>>12&63,T[B++]=128|d>>>6&63,T[B++]=128|d&63);return T};function _(p,T){if(T<65537&&(p.subarray&&L||!p.subarray&&Q))return String.fromCharCode.apply(null,C.shrinkBuf(p,T));for(var d="",H=0;H<T;H++)d+=String.fromCharCode(p[H]);return d}j.buf2binstring=function(p){return _(p,p.length)},j.binstring2buf=function(p){for(var T=new C.Buf8(p.length),d=0,H=T.length;d<H;d++)T[d]=p.charCodeAt(d);return T},j.buf2string=function(p,T){var d,H,P,B,q=T||p.length,G=new Array(q*2);for(H=0,d=0;d<q;){if(P=p[d++],P<128){G[H++]=P;continue}if(B=V[P],B>4){G[H++]=65533,d+=B-1;continue}for(P&=B===2?31:B===3?15:7;B>1&&d<q;)P=P<<6|p[d++]&63,B--;if(B>1){G[H++]=65533;continue}P<65536?G[H++]=P:(P-=65536,G[H++]=55296|P>>10&1023,G[H++]=56320|P&1023)}return _(G,H)},j.utf8border=function(p,T){var d;for(T=T||p.length,T>p.length&&(T=p.length),d=T-1;d>=0&&(p[d]&192)===128;)d--;return d<0||d===0?T:d+V[p[d]]>T?d:T}},function(W,j){W.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(W,j){W.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(W,j){function N(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}W.exports=N},function(W,j){function N(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}W.exports=N}])})})(xi)),xi.exports}var ys=ds();const Qu=Ra(ys);var zr={exports:{}},vs=zr.exports,ha;function gs(){return ha||(ha=1,(function(I,X){(function(W,j){I.exports=j()})(vs,(function(){function W(a,o){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);o&&(f=f.filter((function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable}))),c.push.apply(c,f)}return c}function j(a){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{};o%2?W(Object(c),!0).forEach((function(f){V(a,f,c[f])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):W(Object(c)).forEach((function(f){Object.defineProperty(a,f,Object.getOwnPropertyDescriptor(c,f))}))}return a}function N(a){return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},N(a)}function C(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}function Q(a,o){for(var c=0;c<o.length;c++){var f=o[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,P(f.key),f)}}function L(a,o,c){return o&&Q(a.prototype,o),Object.defineProperty(a,"prototype",{writable:!1}),a}function V(a,o,c){return(o=P(o))in a?Object.defineProperty(a,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[o]=c,a}function R(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),o&&p(a,o)}function _(a){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},_(a)}function p(a,o){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,f){return c.__proto__=f,c},p(a,o)}function T(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function d(a){var o=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var c,f=_(a);if(o){var h=_(this).constructor;c=Reflect.construct(f,arguments,h)}else c=f.apply(this,arguments);return(function(g,w){if(w&&(typeof w=="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(g)})(this,c)}}function H(){return H=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,o,c){var f=(function(g,w){for(;!Object.prototype.hasOwnProperty.call(g,w)&&(g=_(g))!==null;);return g})(a,o);if(f){var h=Object.getOwnPropertyDescriptor(f,o);return h.get?h.get.call(arguments.length<3?a:c):h.value}},H.apply(this,arguments)}function P(a){var o=(function(c,f){if(typeof c!="object"||c===null)return c;var h=c[Symbol.toPrimitive];if(h!==void 0){var g=h.call(c,f);if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)})(a,"string");return typeof o=="symbol"?o:o+""}var B=function(a){return!(!a||!a.Window)&&a instanceof a.Window},q=void 0,G=void 0;function gt(a){q=a;var o=a.document.createTextNode("");o.ownerDocument!==a.document&&typeof a.wrap=="function"&&a.wrap(o)===o&&(a=a.wrap(a)),G=a}function tt(a){return B(a)?a:(a.ownerDocument||a).defaultView||G.window}typeof window<"u"&&window&&gt(window);var ot=function(a){return!!a&&N(a)==="object"},Yt=function(a){return typeof a=="function"},U={window:function(a){return a===G||B(a)},docFrag:function(a){return ot(a)&&a.nodeType===11},object:ot,func:Yt,number:function(a){return typeof a=="number"},bool:function(a){return typeof a=="boolean"},string:function(a){return typeof a=="string"},element:function(a){if(!a||N(a)!=="object")return!1;var o=tt(a)||G;return/object|function/.test(typeof Element>"u"?"undefined":N(Element))?a instanceof Element||a instanceof o.Element:a.nodeType===1&&typeof a.nodeName=="string"},plainObject:function(a){return ot(a)&&!!a.constructor&&/function Object\b/.test(a.constructor.toString())},array:function(a){return ot(a)&&a.length!==void 0&&Yt(a.splice)}};function Vt(a){var o=a.interaction;if(o.prepared.name==="drag"){var c=o.prepared.axis;c==="x"?(o.coords.cur.page.y=o.coords.start.page.y,o.coords.cur.client.y=o.coords.start.client.y,o.coords.velocity.client.y=0,o.coords.velocity.page.y=0):c==="y"&&(o.coords.cur.page.x=o.coords.start.page.x,o.coords.cur.client.x=o.coords.start.client.x,o.coords.velocity.client.x=0,o.coords.velocity.page.x=0)}}function At(a){var o=a.iEvent,c=a.interaction;if(c.prepared.name==="drag"){var f=c.prepared.axis;if(f==="x"||f==="y"){var h=f==="x"?"y":"x";o.page[h]=c.coords.start.page[h],o.client[h]=c.coords.start.client[h],o.delta[h]=0}}}var et={id:"actions/drag",install:function(a){var o=a.actions,c=a.Interactable,f=a.defaults;c.prototype.draggable=et.draggable,o.map.drag=et,o.methodDict.drag="draggable",f.actions.drag=et.defaults},listeners:{"interactions:before-action-move":Vt,"interactions:action-resume":Vt,"interactions:action-move":At,"auto-start:check":function(a){var o=a.interaction,c=a.interactable,f=a.buttons,h=c.options.drag;if(h&&h.enabled&&(!o.pointerIsDown||!/mouse|pointer/.test(o.pointerType)||(f&c.options.drag.mouseButtons)!=0))return a.action={name:"drag",axis:h.lockAxis==="start"?h.startAxis:h.lockAxis},!1}},draggable:function(a){return U.object(a)?(this.options.drag.enabled=a.enabled!==!1,this.setPerAction("drag",a),this.setOnEvents("drag",a),/^(xy|x|y|start)$/.test(a.lockAxis)&&(this.options.drag.lockAxis=a.lockAxis),/^(xy|x|y)$/.test(a.startAxis)&&(this.options.drag.startAxis=a.startAxis),this):U.bool(a)?(this.options.drag.enabled=a,this):this.options.drag},beforeMove:Vt,move:At,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(a){return a.search("drag")===0}},vt=et,bt={init:function(a){var o=a;bt.document=o.document,bt.DocumentFragment=o.DocumentFragment||Qt,bt.SVGElement=o.SVGElement||Qt,bt.SVGSVGElement=o.SVGSVGElement||Qt,bt.SVGElementInstance=o.SVGElementInstance||Qt,bt.Element=o.Element||Qt,bt.HTMLElement=o.HTMLElement||bt.Element,bt.Event=o.Event,bt.Touch=o.Touch||Qt,bt.PointerEvent=o.PointerEvent||o.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function Qt(){}var Ot=bt,Kt={init:function(a){var o=Ot.Element,c=a.navigator||{};Kt.supportsTouch="ontouchstart"in a||U.func(a.DocumentTouch)&&Ot.document instanceof a.DocumentTouch,Kt.supportsPointerEvent=c.pointerEnabled!==!1&&!!Ot.PointerEvent,Kt.isIOS=/iP(hone|od|ad)/.test(c.platform),Kt.isIOS7=/iP(hone|od|ad)/.test(c.platform)&&/OS 7[^\d]/.test(c.appVersion),Kt.isIe9=/MSIE 9/.test(c.userAgent),Kt.isOperaMobile=c.appName==="Opera"&&Kt.supportsTouch&&/Presto/.test(c.userAgent),Kt.prefixedMatchesSelector="matches"in o.prototype?"matches":"webkitMatchesSelector"in o.prototype?"webkitMatchesSelector":"mozMatchesSelector"in o.prototype?"mozMatchesSelector":"oMatchesSelector"in o.prototype?"oMatchesSelector":"msMatchesSelector",Kt.pEventTypes=Kt.supportsPointerEvent?Ot.PointerEvent===a.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,Kt.wheelEvent=Ot.document&&"onmousewheel"in Ot.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},zt=Kt;function Ct(a,o){if(a.contains)return a.contains(o);for(;o;){if(o===a)return!0;o=o.parentNode}return!1}function _e(a,o){for(;U.element(a);){if(J(a,o))return a;a=$(a)}return null}function $(a){var o=a.parentNode;if(U.docFrag(o)){for(;(o=o.host)&&U.docFrag(o););return o}return o}function J(a,o){return G!==q&&(o=o.replace(/\/deep\//g," ")),a[zt.prefixedMatchesSelector](o)}var pt=function(a){return a.parentNode||a.host};function Rt(a,o){for(var c,f=[],h=a;(c=pt(h))&&h!==o&&c!==h.ownerDocument;)f.unshift(h),h=c;return f}function qt(a,o,c){for(;U.element(a);){if(J(a,o))return!0;if((a=$(a))===c)return J(a,o)}return!1}function Wt(a){return a.correspondingUseElement||a}function Ht(a){var o=a instanceof Ot.SVGElement?a.getBoundingClientRect():a.getClientRects()[0];return o&&{left:o.left,right:o.right,top:o.top,bottom:o.bottom,width:o.width||o.right-o.left,height:o.height||o.bottom-o.top}}function te(a){var o,c=Ht(a);if(!zt.isIOS7&&c){var f={x:(o=(o=tt(a))||G).scrollX||o.document.documentElement.scrollLeft,y:o.scrollY||o.document.documentElement.scrollTop};c.left+=f.x,c.right+=f.x,c.top+=f.y,c.bottom+=f.y}return c}function he(a){for(var o=[];a;)o.push(a),a=$(a);return o}function ae(a){return!!U.string(a)&&(Ot.document.querySelector(a),!0)}function x(a,o){for(var c in o)a[c]=o[c];return a}function A(a,o,c){return a==="parent"?$(c):a==="self"?o.getRect(c):_e(c,a)}function ut(a,o,c,f){var h=a;return U.string(h)?h=A(h,o,c):U.func(h)&&(h=h.apply(void 0,f)),U.element(h)&&(h=te(h)),h}function _t(a){return a&&{x:"x"in a?a.x:a.left,y:"y"in a?a.y:a.top}}function Nt(a){return!a||"x"in a&&"y"in a||((a=x({},a)).x=a.left||0,a.y=a.top||0,a.width=a.width||(a.right||0)-a.x,a.height=a.height||(a.bottom||0)-a.y),a}function jt(a,o,c){a.left&&(o.left+=c.x),a.right&&(o.right+=c.x),a.top&&(o.top+=c.y),a.bottom&&(o.bottom+=c.y),o.width=o.right-o.left,o.height=o.bottom-o.top}function dt(a,o,c){var f=c&&a.options[c];return _t(ut(f&&f.origin||a.options.origin,a,o,[a&&o]))||{x:0,y:0}}function ge(a,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(O){return!0},f=arguments.length>3?arguments[3]:void 0;if(f=f||{},U.string(a)&&a.search(" ")!==-1&&(a=Mt(a)),U.array(a))return a.forEach((function(O){return ge(O,o,c,f)})),f;if(U.object(a)&&(o=a,a=""),U.func(o)&&c(a))f[a]=f[a]||[],f[a].push(o);else if(U.array(o))for(var h=0,g=o;h<g.length;h++){var w=g[h];ge(a,w,c,f)}else if(U.object(o))for(var S in o)ge(Mt(S).map((function(O){return"".concat(a).concat(O)})),o[S],c,f);return f}function Mt(a){return a.trim().split(/ +/)}var xe=function(a,o){return Math.sqrt(a*a+o*o)},Ne=["webkit","moz"];function We(a,o){a.__set||(a.__set={});var c=function(h){if(Ne.some((function(g){return h.indexOf(g)===0})))return 1;typeof a[h]!="function"&&h!=="__set"&&Object.defineProperty(a,h,{get:function(){return h in a.__set?a.__set[h]:a.__set[h]=o[h]},set:function(g){a.__set[h]=g},configurable:!0})};for(var f in o)c(f);return a}function k(a,o){a.page=a.page||{},a.page.x=o.page.x,a.page.y=o.page.y,a.client=a.client||{},a.client.x=o.client.x,a.client.y=o.client.y,a.timeStamp=o.timeStamp}function y(a){a.page.x=0,a.page.y=0,a.client.x=0,a.client.y=0}function v(a){return a instanceof Ot.Event||a instanceof Ot.Touch}function D(a,o,c){return a=a||"page",(c=c||{}).x=o[a+"X"],c.y=o[a+"Y"],c}function K(a,o){return o=o||{x:0,y:0},zt.isOperaMobile&&v(a)?(D("screen",a,o),o.x+=window.scrollX,o.y+=window.scrollY):D("page",a,o),o}function it(a){return U.number(a.pointerId)?a.pointerId:a.identifier}function lt(a,o,c){var f=o.length>1?ne(o):o[0];K(f,a.page),(function(h,g){g=g||{},zt.isOperaMobile&&v(h)?D("screen",h,g):D("client",h,g)})(f,a.client),a.timeStamp=c}function Jt(a){var o=[];return U.array(a)?(o[0]=a[0],o[1]=a[1]):a.type==="touchend"?a.touches.length===1?(o[0]=a.touches[0],o[1]=a.changedTouches[0]):a.touches.length===0&&(o[0]=a.changedTouches[0],o[1]=a.changedTouches[1]):(o[0]=a.touches[0],o[1]=a.touches[1]),o}function ne(a){for(var o={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},c=0;c<a.length;c++){var f=a[c];for(var h in o)o[h]+=f[h]}for(var g in o)o[g]/=a.length;return o}function ce(a){if(!a.length)return null;var o=Jt(a),c=Math.min(o[0].pageX,o[1].pageX),f=Math.min(o[0].pageY,o[1].pageY),h=Math.max(o[0].pageX,o[1].pageX),g=Math.max(o[0].pageY,o[1].pageY);return{x:c,y:f,left:c,top:f,right:h,bottom:g,width:h-c,height:g-f}}function me(a,o){var c=o+"X",f=o+"Y",h=Jt(a),g=h[0][c]-h[1][c],w=h[0][f]-h[1][f];return xe(g,w)}function re(a,o){var c=o+"X",f=o+"Y",h=Jt(a),g=h[1][c]-h[0][c],w=h[1][f]-h[0][f];return 180*Math.atan2(w,g)/Math.PI}function Ke(a){return U.string(a.pointerType)?a.pointerType:U.number(a.pointerType)?[void 0,void 0,"touch","pen","mouse"][a.pointerType]:/touch/.test(a.type||"")||a instanceof Ot.Touch?"touch":"mouse"}function vn(a){var o=U.func(a.composedPath)?a.composedPath():a.path;return[Wt(o?o[0]:a.target),Wt(a.currentTarget)]}var en=(function(){function a(o){C(this,a),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=o}return L(a,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),a})();Object.defineProperty(en.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var an=function(a,o){for(var c=0;c<o.length;c++){var f=o[c];a.push(f)}return a},Zn=function(a){return an([],a)},gn=function(a,o){for(var c=0;c<a.length;c++)if(o(a[c],c,a))return c;return-1},mn=function(a,o){return a[gn(a,o)]},nt=(function(a){R(c,a);var o=d(c);function c(f,h,g){var w;C(this,c),(w=o.call(this,h._interaction)).dropzone=void 0,w.dragEvent=void 0,w.relatedTarget=void 0,w.draggable=void 0,w.propagationStopped=!1,w.immediatePropagationStopped=!1;var S=g==="dragleave"?f.prev:f.cur,O=S.element,M=S.dropzone;return w.type=g,w.target=O,w.currentTarget=O,w.dropzone=M,w.dragEvent=h,w.relatedTarget=h.target,w.draggable=h.interactable,w.timeStamp=h.timeStamp,w}return L(c,[{key:"reject",value:function(){var f=this,h=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&h.cur.dropzone===this.dropzone&&h.cur.element===this.target)if(h.prev.dropzone=this.dropzone,h.prev.element=this.target,h.rejected=!0,h.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var g=h.activeDrops,w=gn(g,(function(O){var M=O.dropzone,F=O.element;return M===f.dropzone&&F===f.target}));h.activeDrops.splice(w,1);var S=new c(h,this.dragEvent,"dropdeactivate");S.dropzone=this.dropzone,S.target=this.target,this.dropzone.fire(S)}else this.dropzone.fire(new c(h,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),c})(en);function It(a,o){for(var c=0,f=a.slice();c<f.length;c++){var h=f[c],g=h.dropzone,w=h.element;o.dropzone=g,o.target=w,g.fire(o),o.propagationStopped=o.immediatePropagationStopped=!1}}function b(a,o){for(var c=(function(g,w){for(var S=[],O=0,M=g.interactables.list;O<M.length;O++){var F=M[O];if(F.options.drop.enabled){var Y=F.options.drop.accept;if(!(U.element(Y)&&Y!==w||U.string(Y)&&!J(w,Y)||U.func(Y)&&!Y({dropzone:F,draggableElement:w})))for(var rt=0,ht=F.getAllElements();rt<ht.length;rt++){var ft=ht[rt];ft!==w&&S.push({dropzone:F,element:ft,rect:F.getRect(ft)})}}}return S})(a,o),f=0;f<c.length;f++){var h=c[f];h.rect=h.dropzone.getRect(h.element)}return c}function kt(a,o,c){for(var f=a.dropState,h=a.interactable,g=a.element,w=[],S=0,O=f.activeDrops;S<O.length;S++){var M=O[S],F=M.dropzone,Y=M.element,rt=M.rect,ht=F.dropCheck(o,c,h,g,Y,rt);w.push(ht?Y:null)}var ft=(function(yt){for(var xt,St,Dt,Xt=[],ee=0;ee<yt.length;ee++){var Ut=yt[ee],Gt=yt[xt];if(Ut&&ee!==xt)if(Gt){var je=pt(Ut),le=pt(Gt);if(je!==Ut.ownerDocument)if(le!==Ut.ownerDocument)if(je!==le){Xt=Xt.length?Xt:Rt(Gt);var Ye=void 0;if(Gt instanceof Ot.HTMLElement&&Ut instanceof Ot.SVGElement&&!(Ut instanceof Ot.SVGSVGElement)){if(Ut===le)continue;Ye=Ut.ownerSVGElement}else Ye=Ut;for(var Ze=Rt(Ye,Gt.ownerDocument),Ge=0;Ze[Ge]&&Ze[Ge]===Xt[Ge];)Ge++;var Ue=[Ze[Ge-1],Ze[Ge],Xt[Ge]];if(Ue[0])for(var rn=Ue[0].lastChild;rn;){if(rn===Ue[1]){xt=ee,Xt=Ze;break}if(rn===Ue[2])break;rn=rn.previousSibling}}else Dt=Gt,(parseInt(tt(St=Ut).getComputedStyle(St).zIndex,10)||0)>=(parseInt(tt(Dt).getComputedStyle(Dt).zIndex,10)||0)&&(xt=ee);else xt=ee}else xt=ee}return xt})(w);return f.activeDrops[ft]||null}function ue(a,o,c){var f=a.dropState,h={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return c.type==="dragstart"&&(h.activate=new nt(f,c,"dropactivate"),h.activate.target=null,h.activate.dropzone=null),c.type==="dragend"&&(h.deactivate=new nt(f,c,"dropdeactivate"),h.deactivate.target=null,h.deactivate.dropzone=null),f.rejected||(f.cur.element!==f.prev.element&&(f.prev.dropzone&&(h.leave=new nt(f,c,"dragleave"),c.dragLeave=h.leave.target=f.prev.element,c.prevDropzone=h.leave.dropzone=f.prev.dropzone),f.cur.dropzone&&(h.enter=new nt(f,c,"dragenter"),c.dragEnter=f.cur.element,c.dropzone=f.cur.dropzone)),c.type==="dragend"&&f.cur.dropzone&&(h.drop=new nt(f,c,"drop"),c.dropzone=f.cur.dropzone,c.relatedTarget=f.cur.element),c.type==="dragmove"&&f.cur.dropzone&&(h.move=new nt(f,c,"dropmove"),c.dropzone=f.cur.dropzone)),h}function Et(a,o){var c=a.dropState,f=c.activeDrops,h=c.cur,g=c.prev;o.leave&&g.dropzone.fire(o.leave),o.enter&&h.dropzone.fire(o.enter),o.move&&h.dropzone.fire(o.move),o.drop&&h.dropzone.fire(o.drop),o.deactivate&&It(f,o.deactivate),c.prev.dropzone=h.dropzone,c.prev.element=h.element}function Le(a,o){var c=a.interaction,f=a.iEvent,h=a.event;if(f.type==="dragmove"||f.type==="dragend"){var g=c.dropState;o.dynamicDrop&&(g.activeDrops=b(o,c.element));var w=f,S=kt(c,w,h);g.rejected=g.rejected&&!!S&&S.dropzone===g.cur.dropzone&&S.element===g.cur.element,g.cur.dropzone=S&&S.dropzone,g.cur.element=S&&S.element,g.events=ue(c,0,w)}}var Tt={id:"actions/drop",install:function(a){var o=a.actions,c=a.interactStatic,f=a.Interactable,h=a.defaults;a.usePlugin(vt),f.prototype.dropzone=function(g){return(function(w,S){if(U.object(S)){if(w.options.drop.enabled=S.enabled!==!1,S.listeners){var O=ge(S.listeners),M=Object.keys(O).reduce((function(Y,rt){return Y[/^(enter|leave)/.test(rt)?"drag".concat(rt):/^(activate|deactivate|move)/.test(rt)?"drop".concat(rt):rt]=O[rt],Y}),{}),F=w.options.drop.listeners;F&&w.off(F),w.on(M),w.options.drop.listeners=M}return U.func(S.ondrop)&&w.on("drop",S.ondrop),U.func(S.ondropactivate)&&w.on("dropactivate",S.ondropactivate),U.func(S.ondropdeactivate)&&w.on("dropdeactivate",S.ondropdeactivate),U.func(S.ondragenter)&&w.on("dragenter",S.ondragenter),U.func(S.ondragleave)&&w.on("dragleave",S.ondragleave),U.func(S.ondropmove)&&w.on("dropmove",S.ondropmove),/^(pointer|center)$/.test(S.overlap)?w.options.drop.overlap=S.overlap:U.number(S.overlap)&&(w.options.drop.overlap=Math.max(Math.min(1,S.overlap),0)),"accept"in S&&(w.options.drop.accept=S.accept),"checker"in S&&(w.options.drop.checker=S.checker),w}return U.bool(S)?(w.options.drop.enabled=S,w):w.options.drop})(this,g)},f.prototype.dropCheck=function(g,w,S,O,M,F){return(function(Y,rt,ht,ft,yt,xt,St){var Dt=!1;if(!(St=St||Y.getRect(xt)))return!!Y.options.drop.checker&&Y.options.drop.checker(rt,ht,Dt,Y,xt,ft,yt);var Xt=Y.options.drop.overlap;if(Xt==="pointer"){var ee=dt(ft,yt,"drag"),Ut=K(rt);Ut.x+=ee.x,Ut.y+=ee.y;var Gt=Ut.x>St.left&&Ut.x<St.right,je=Ut.y>St.top&&Ut.y<St.bottom;Dt=Gt&&je}var le=ft.getRect(yt);if(le&&Xt==="center"){var Ye=le.left+le.width/2,Ze=le.top+le.height/2;Dt=Ye>=St.left&&Ye<=St.right&&Ze>=St.top&&Ze<=St.bottom}return le&&U.number(Xt)&&(Dt=Math.max(0,Math.min(St.right,le.right)-Math.max(St.left,le.left))*Math.max(0,Math.min(St.bottom,le.bottom)-Math.max(St.top,le.top))/(le.width*le.height)>=Xt),Y.options.drop.checker&&(Dt=Y.options.drop.checker(rt,ht,Dt,Y,xt,ft,yt)),Dt})(this,g,w,S,O,M,F)},c.dynamicDrop=function(g){return U.bool(g)?(a.dynamicDrop=g,c):a.dynamicDrop},x(o.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),o.methodDict.drop="dropzone",a.dynamicDrop=!1,h.actions.drop=Tt.defaults},listeners:{"interactions:before-action-start":function(a){var o=a.interaction;o.prepared.name==="drag"&&(o.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(a,o){var c=a.interaction,f=(a.event,a.iEvent);if(c.prepared.name==="drag"){var h=c.dropState;h.activeDrops=[],h.events={},h.activeDrops=b(o,c.element),h.events=ue(c,0,f),h.events.activate&&(It(h.activeDrops,h.events.activate),o.fire("actions/drop:start",{interaction:c,dragEvent:f}))}},"interactions:action-move":Le,"interactions:after-action-move":function(a,o){var c=a.interaction,f=a.iEvent;if(c.prepared.name==="drag"){var h=c.dropState;Et(c,h.events),o.fire("actions/drop:move",{interaction:c,dragEvent:f}),h.events={}}},"interactions:action-end":function(a,o){if(a.interaction.prepared.name==="drag"){var c=a.interaction,f=a.iEvent;Le(a,o),Et(c,c.dropState.events),o.fire("actions/drop:end",{interaction:c,dragEvent:f})}},"interactions:stop":function(a){var o=a.interaction;if(o.prepared.name==="drag"){var c=o.dropState;c&&(c.activeDrops=null,c.events=null,c.cur.dropzone=null,c.cur.element=null,c.prev.dropzone=null,c.prev.element=null,c.rejected=!1)}}},getActiveDrops:b,getDrop:kt,getDropEvents:ue,fireDropEvents:Et,filterEventType:function(a){return a.search("drag")===0||a.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Te=Tt;function ct(a){var o=a.interaction,c=a.iEvent,f=a.phase;if(o.prepared.name==="gesture"){var h=o.pointers.map((function(M){return M.pointer})),g=f==="start",w=f==="end",S=o.interactable.options.deltaSource;if(c.touches=[h[0],h[1]],g)c.distance=me(h,S),c.box=ce(h),c.scale=1,c.ds=0,c.angle=re(h,S),c.da=0,o.gesture.startDistance=c.distance,o.gesture.startAngle=c.angle;else if(w||o.pointers.length<2){var O=o.prevEvent;c.distance=O.distance,c.box=O.box,c.scale=O.scale,c.ds=0,c.angle=O.angle,c.da=0}else c.distance=me(h,S),c.box=ce(h),c.scale=c.distance/o.gesture.startDistance,c.angle=re(h,S),c.ds=c.scale-o.gesture.scale,c.da=c.angle-o.gesture.angle;o.gesture.distance=c.distance,o.gesture.angle=c.angle,U.number(c.scale)&&c.scale!==1/0&&!isNaN(c.scale)&&(o.gesture.scale=c.scale)}}var st={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(a){var o=a.actions,c=a.Interactable,f=a.defaults;c.prototype.gesturable=function(h){return U.object(h)?(this.options.gesture.enabled=h.enabled!==!1,this.setPerAction("gesture",h),this.setOnEvents("gesture",h),this):U.bool(h)?(this.options.gesture.enabled=h,this):this.options.gesture},o.map.gesture=st,o.methodDict.gesture="gesturable",f.actions.gesture=st.defaults},listeners:{"interactions:action-start":ct,"interactions:action-move":ct,"interactions:action-end":ct,"interactions:new":function(a){a.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(a){if(!(a.interaction.pointers.length<2)){var o=a.interactable.options.gesture;if(o&&o.enabled)return a.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(a){return a.search("gesture")===0}},xn=st;function fe(a,o,c,f,h,g,w){if(!o)return!1;if(o===!0){var S=U.number(g.width)?g.width:g.right-g.left,O=U.number(g.height)?g.height:g.bottom-g.top;if(w=Math.min(w,Math.abs((a==="left"||a==="right"?S:O)/2)),S<0&&(a==="left"?a="right":a==="right"&&(a="left")),O<0&&(a==="top"?a="bottom":a==="bottom"&&(a="top")),a==="left"){var M=S>=0?g.left:g.right;return c.x<M+w}if(a==="top"){var F=O>=0?g.top:g.bottom;return c.y<F+w}if(a==="right")return c.x>(S>=0?g.right:g.left)-w;if(a==="bottom")return c.y>(O>=0?g.bottom:g.top)-w}return!!U.element(f)&&(U.element(o)?o===f:qt(f,o,h))}function Ft(a){var o=a.iEvent,c=a.interaction;if(c.prepared.name==="resize"&&c.resizeAxes){var f=o;c.interactable.options.resize.square?(c.resizeAxes==="y"?f.delta.x=f.delta.y:f.delta.y=f.delta.x,f.axes="xy"):(f.axes=c.resizeAxes,c.resizeAxes==="x"?f.delta.y=0:c.resizeAxes==="y"&&(f.delta.x=0))}}var Ae,Ce,oe={id:"actions/resize",before:["actions/drag"],install:function(a){var o=a.actions,c=a.browser,f=a.Interactable,h=a.defaults;oe.cursors=(function(g){return g.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}})(c),oe.defaultMargin=c.supportsTouch||c.supportsPointerEvent?20:10,f.prototype.resizable=function(g){return(function(w,S,O){return U.object(S)?(w.options.resize.enabled=S.enabled!==!1,w.setPerAction("resize",S),w.setOnEvents("resize",S),U.string(S.axis)&&/^x$|^y$|^xy$/.test(S.axis)?w.options.resize.axis=S.axis:S.axis===null&&(w.options.resize.axis=O.defaults.actions.resize.axis),U.bool(S.preserveAspectRatio)?w.options.resize.preserveAspectRatio=S.preserveAspectRatio:U.bool(S.square)&&(w.options.resize.square=S.square),w):U.bool(S)?(w.options.resize.enabled=S,w):w.options.resize})(this,g,a)},o.map.resize=oe,o.methodDict.resize="resizable",h.actions.resize=oe.defaults},listeners:{"interactions:new":function(a){a.interaction.resizeAxes="xy"},"interactions:action-start":function(a){(function(o){var c=o.iEvent,f=o.interaction;if(f.prepared.name==="resize"&&f.prepared.edges){var h=c,g=f.rect;f._rects={start:x({},g),corrected:x({},g),previous:x({},g),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},h.edges=f.prepared.edges,h.rect=f._rects.corrected,h.deltaRect=f._rects.delta}})(a),Ft(a)},"interactions:action-move":function(a){(function(o){var c=o.iEvent,f=o.interaction;if(f.prepared.name==="resize"&&f.prepared.edges){var h=c,g=f.interactable.options.resize.invert,w=g==="reposition"||g==="negate",S=f.rect,O=f._rects,M=O.start,F=O.corrected,Y=O.delta,rt=O.previous;if(x(rt,F),w){if(x(F,S),g==="reposition"){if(F.top>F.bottom){var ht=F.top;F.top=F.bottom,F.bottom=ht}if(F.left>F.right){var ft=F.left;F.left=F.right,F.right=ft}}}else F.top=Math.min(S.top,M.bottom),F.bottom=Math.max(S.bottom,M.top),F.left=Math.min(S.left,M.right),F.right=Math.max(S.right,M.left);for(var yt in F.width=F.right-F.left,F.height=F.bottom-F.top,F)Y[yt]=F[yt]-rt[yt];h.edges=f.prepared.edges,h.rect=F,h.deltaRect=Y}})(a),Ft(a)},"interactions:action-end":function(a){var o=a.iEvent,c=a.interaction;if(c.prepared.name==="resize"&&c.prepared.edges){var f=o;f.edges=c.prepared.edges,f.rect=c._rects.corrected,f.deltaRect=c._rects.delta}},"auto-start:check":function(a){var o=a.interaction,c=a.interactable,f=a.element,h=a.rect,g=a.buttons;if(h){var w=x({},o.coords.cur.page),S=c.options.resize;if(S&&S.enabled&&(!o.pointerIsDown||!/mouse|pointer/.test(o.pointerType)||(g&S.mouseButtons)!=0)){if(U.object(S.edges)){var O={left:!1,right:!1,top:!1,bottom:!1};for(var M in O)O[M]=fe(M,S.edges[M],w,o._latestPointer.eventTarget,f,h,S.margin||oe.defaultMargin);O.left=O.left&&!O.right,O.top=O.top&&!O.bottom,(O.left||O.right||O.top||O.bottom)&&(a.action={name:"resize",edges:O})}else{var F=S.axis!=="y"&&w.x>h.right-oe.defaultMargin,Y=S.axis!=="x"&&w.y>h.bottom-oe.defaultMargin;(F||Y)&&(a.action={name:"resize",axes:(F?"x":"")+(Y?"y":"")})}return!a.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(a){var o=a.edges,c=a.axis,f=a.name,h=oe.cursors,g=null;if(c)g=h[f+c];else if(o){for(var w="",S=0,O=["top","bottom","left","right"];S<O.length;S++){var M=O[S];o[M]&&(w+=M)}g=h[w]}return g},filterEventType:function(a){return a.search("resize")===0},defaultMargin:null},ie=oe,Re={id:"actions",install:function(a){a.usePlugin(xn),a.usePlugin(ie),a.usePlugin(vt),a.usePlugin(Te)}},De=0,pe={request:function(a){return Ae(a)},cancel:function(a){return Ce(a)},init:function(a){if(Ae=a.requestAnimationFrame,Ce=a.cancelAnimationFrame,!Ae)for(var o=["ms","moz","webkit","o"],c=0;c<o.length;c++){var f=o[c];Ae=a["".concat(f,"RequestAnimationFrame")],Ce=a["".concat(f,"CancelAnimationFrame")]||a["".concat(f,"CancelRequestAnimationFrame")]}Ae=Ae&&Ae.bind(a),Ce=Ce&&Ce.bind(a),Ae||(Ae=function(h){var g=Date.now(),w=Math.max(0,16-(g-De)),S=a.setTimeout((function(){h(g+w)}),w);return De=g+w,S},Ce=function(h){return clearTimeout(h)})}},Pt={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(a){Pt.isScrolling=!0,pe.cancel(Pt.i),a.autoScroll=Pt,Pt.interaction=a,Pt.prevTime=Pt.now(),Pt.i=pe.request(Pt.scroll)},stop:function(){Pt.isScrolling=!1,Pt.interaction&&(Pt.interaction.autoScroll=null),pe.cancel(Pt.i)},scroll:function(){var a=Pt.interaction,o=a.interactable,c=a.element,f=a.prepared.name,h=o.options[f].autoScroll,g=sn(h.container,o,c),w=Pt.now(),S=(w-Pt.prevTime)/1e3,O=h.speed*S;if(O>=1){var M={x:Pt.x*O,y:Pt.y*O};if(M.x||M.y){var F=we(g);U.window(g)?g.scrollBy(M.x,M.y):g&&(g.scrollLeft+=M.x,g.scrollTop+=M.y);var Y=we(g),rt={x:Y.x-F.x,y:Y.y-F.y};(rt.x||rt.y)&&o.fire({type:"autoscroll",target:c,interactable:o,delta:rt,interaction:a,container:g})}Pt.prevTime=w}Pt.isScrolling&&(pe.cancel(Pt.i),Pt.i=pe.request(Pt.scroll))},check:function(a,o){var c;return(c=a.options[o].autoScroll)==null?void 0:c.enabled},onInteractionMove:function(a){var o=a.interaction,c=a.pointer;if(o.interacting()&&Pt.check(o.interactable,o.prepared.name))if(o.simulation)Pt.x=Pt.y=0;else{var f,h,g,w,S=o.interactable,O=o.element,M=o.prepared.name,F=S.options[M].autoScroll,Y=sn(F.container,S,O);if(U.window(Y))w=c.clientX<Pt.margin,f=c.clientY<Pt.margin,h=c.clientX>Y.innerWidth-Pt.margin,g=c.clientY>Y.innerHeight-Pt.margin;else{var rt=Ht(Y);w=c.clientX<rt.left+Pt.margin,f=c.clientY<rt.top+Pt.margin,h=c.clientX>rt.right-Pt.margin,g=c.clientY>rt.bottom-Pt.margin}Pt.x=h?1:w?-1:0,Pt.y=g?1:f?-1:0,Pt.isScrolling||(Pt.margin=F.margin,Pt.speed=F.speed,Pt.start(o))}}};function sn(a,o,c){return(U.string(a)?A(a,o,c):a)||tt(c)}function we(a){return U.window(a)&&(a=window.document.body),{x:a.scrollLeft,y:a.scrollTop}}var He={id:"auto-scroll",install:function(a){var o=a.defaults,c=a.actions;a.autoScroll=Pt,Pt.now=function(){return a.now()},c.phaselessTypes.autoscroll=!0,o.perAction.autoScroll=Pt.defaults},listeners:{"interactions:new":function(a){a.interaction.autoScroll=null},"interactions:destroy":function(a){a.interaction.autoScroll=null,Pt.stop(),Pt.interaction&&(Pt.interaction=null)},"interactions:stop":Pt.stop,"interactions:action-move":function(a){return Pt.onInteractionMove(a)}}},Oe=He;function Pe(a,o){var c=!1;return function(){return c||(G.console.warn(o),c=!0),a.apply(this,arguments)}}function Ve(a,o){return a.name=o.name,a.axis=o.axis,a.edges=o.edges,a}function qn(a){return U.bool(a)?(this.options.styleCursor=a,this):a===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Br(a){return U.func(a)?(this.options.actionChecker=a,this):a===null?(delete this.options.actionChecker,this):this.options.actionChecker}var Wr={id:"auto-start/interactableMethods",install:function(a){var o=a.Interactable;o.prototype.getAction=function(c,f,h,g){var w=(function(S,O,M,F,Y){var rt=S.getRect(F),ht=O.buttons||{0:1,1:4,3:8,4:16}[O.button],ft={action:null,interactable:S,interaction:M,element:F,rect:rt,buttons:ht};return Y.fire("auto-start:check",ft),ft.action})(this,f,h,g,a);return this.options.actionChecker?this.options.actionChecker(c,f,w,this,g,h):w},o.prototype.ignoreFrom=Pe((function(c){return this._backCompatOption("ignoreFrom",c)}),"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),o.prototype.allowFrom=Pe((function(c){return this._backCompatOption("allowFrom",c)}),"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),o.prototype.actionChecker=Br,o.prototype.styleCursor=qn}};function Hr(a,o,c,f,h){return o.testIgnoreAllow(o.options[a.name],c,f)&&o.options[a.name].enabled&&Gn(o,c,a,h)?a:null}function Vr(a,o,c,f,h,g,w){for(var S=0,O=f.length;S<O;S++){var M=f[S],F=h[S],Y=M.getAction(o,c,a,F);if(Y){var rt=Hr(Y,M,F,g,w);if(rt)return{action:rt,interactable:M,element:F}}}return{action:null,interactable:null,element:null}}function Xr(a,o,c,f,h){var g=[],w=[],S=f;function O(F){g.push(F),w.push(S)}for(;U.element(S);){g=[],w=[],h.interactables.forEachMatch(S,O);var M=Vr(a,o,c,g,w,f,h);if(M.action&&!M.interactable.options[M.action.name].manualStart)return M;S=$(S)}return{action:null,interactable:null,element:null}}function Yr(a,o,c){var f=o.action,h=o.interactable,g=o.element;f=f||{name:null},a.interactable=h,a.element=g,Ve(a.prepared,f),a.rect=h&&f.name?h.getRect(g):null,qr(a,c),c.fire("autoStart:prepared",{interaction:a})}function Gn(a,o,c,f){var h=a.options,g=h[c.name].max,w=h[c.name].maxPerElement,S=f.autoStart.maxInteractions,O=0,M=0,F=0;if(!(g&&w&&S))return!1;for(var Y=0,rt=f.interactions.list;Y<rt.length;Y++){var ht=rt[Y],ft=ht.prepared.name;if(ht.interacting()&&(++O>=S||ht.interactable===a&&((M+=ft===c.name?1:0)>=g||ht.element===o&&(F++,ft===c.name&&F>=w))))return!1}return S>0}function Zr(a,o){return U.number(a)?(o.autoStart.maxInteractions=a,this):o.autoStart.maxInteractions}function yr(a,o,c){var f=c.autoStart.cursorElement;f&&f!==a&&(f.style.cursor=""),a.ownerDocument.documentElement.style.cursor=o,a.style.cursor=o,c.autoStart.cursorElement=o?a:null}function qr(a,o){var c=a.interactable,f=a.element,h=a.prepared;if(a.pointerType==="mouse"&&c&&c.options.styleCursor){var g="";if(h.name){var w=c.options[h.name].cursorChecker;g=U.func(w)?w(h,c,f,a._interacting):o.actions.map[h.name].getCursor(h)}yr(a.element,g||"",o)}else o.autoStart.cursorElement&&yr(o.autoStart.cursorElement,"",o)}var Li={id:"auto-start/base",before:["actions"],install:function(a){var o=a.interactStatic,c=a.defaults;a.usePlugin(Wr),c.base.actionChecker=null,c.base.styleCursor=!0,x(c.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),o.maxInteractions=function(f){return Zr(f,a)},a.autoStart={maxInteractions:1/0,withinInteractionLimit:Gn,cursorElement:null}},listeners:{"interactions:down":function(a,o){var c=a.interaction,f=a.pointer,h=a.event,g=a.eventTarget;c.interacting()||Yr(c,Xr(c,f,h,g,o),o)},"interactions:move":function(a,o){(function(c,f){var h=c.interaction,g=c.pointer,w=c.event,S=c.eventTarget;h.pointerType!=="mouse"||h.pointerIsDown||h.interacting()||Yr(h,Xr(h,g,w,S,f),f)})(a,o),(function(c,f){var h=c.interaction;if(h.pointerIsDown&&!h.interacting()&&h.pointerWasMoved&&h.prepared.name){f.fire("autoStart:before-start",c);var g=h.interactable,w=h.prepared.name;w&&g&&(g.options[w].manualStart||!Gn(g,h.element,h.prepared,f)?h.stop():(h.start(h.prepared,g,h.element),qr(h,f)))}})(a,o)},"interactions:stop":function(a,o){var c=a.interaction,f=c.interactable;f&&f.options.styleCursor&&yr(c.element,"",o)}},maxInteractions:Zr,withinInteractionLimit:Gn,validateAction:Hr},vr=Li,Ai={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(a,o){var c=a.interaction,f=a.eventTarget,h=a.dx,g=a.dy;if(c.prepared.name==="drag"){var w=Math.abs(h),S=Math.abs(g),O=c.interactable.options.drag,M=O.startAxis,F=w>S?"x":w<S?"y":"xy";if(c.prepared.axis=O.lockAxis==="start"?F[0]:O.lockAxis,F!=="xy"&&M!=="xy"&&M!==F){c.prepared.name=null;for(var Y=f,rt=function(ft){if(ft!==c.interactable){var yt=c.interactable.options.drag;if(!yt.manualStart&&ft.testIgnoreAllow(yt,Y,f)){var xt=ft.getAction(c.downPointer,c.downEvent,c,Y);if(xt&&xt.name==="drag"&&(function(St,Dt){if(!Dt)return!1;var Xt=Dt.options.drag.startAxis;return St==="xy"||Xt==="xy"||Xt===St})(F,ft)&&vr.validateAction(xt,ft,Y,f,o))return ft}}};U.element(Y);){var ht=o.interactables.forEachMatch(Y,rt);if(ht){c.prepared.name="drag",c.interactable=ht,c.element=Y;break}Y=$(Y)}}}}}};function gr(a){var o=a.prepared&&a.prepared.name;if(!o)return null;var c=a.interactable.options;return c[o].hold||c[o].delay}var Ci={id:"auto-start/hold",install:function(a){var o=a.defaults;a.usePlugin(vr),o.perAction.hold=0,o.perAction.delay=0},listeners:{"interactions:new":function(a){a.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(a){var o=a.interaction,c=gr(o);c>0&&(o.autoStartHoldTimer=setTimeout((function(){o.start(o.prepared,o.interactable,o.element)}),c))},"interactions:move":function(a){var o=a.interaction,c=a.duplicate;o.autoStartHoldTimer&&o.pointerWasMoved&&!c&&(clearTimeout(o.autoStartHoldTimer),o.autoStartHoldTimer=null)},"autoStart:before-start":function(a){var o=a.interaction;gr(o)>0&&(o.prepared.name=null)}},getHoldDuration:gr},Pi=Ci,Mi={id:"auto-start",install:function(a){a.usePlugin(vr),a.usePlugin(Pi),a.usePlugin(Ai)}},zi=function(a){return/^(always|never|auto)$/.test(a)?(this.options.preventDefault=a,this):U.bool(a)?(this.options.preventDefault=a?"always":"never",this):this.options.preventDefault};function ji(a){var o=a.interaction,c=a.event;o.interactable&&o.interactable.checkAndPreventDefault(c)}var Gr={id:"core/interactablePreventDefault",install:function(a){var o=a.Interactable;o.prototype.preventDefault=zi,o.prototype.checkAndPreventDefault=function(c){return(function(f,h,g){var w=f.options.preventDefault;if(w!=="never")if(w!=="always"){if(h.events.supportsPassive&&/^touch(start|move)$/.test(g.type)){var S=tt(g.target).document,O=h.getDocOptions(S);if(!O||!O.events||O.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(g.type)||U.element(g.target)&&J(g.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||g.preventDefault()}else g.preventDefault()})(this,a,c)},a.interactions.docEvents.push({type:"dragstart",listener:function(c){for(var f=0,h=a.interactions.list;f<h.length;f++){var g=h[f];if(g.element&&(g.element===c.target||Ct(g.element,c.target)))return void g.interactable.checkAndPreventDefault(c)}}})},listeners:["down","move","up","cancel"].reduce((function(a,o){return a["interactions:".concat(o)]=ji,a}),{})};function Kn(a,o){if(o.phaselessTypes[a])return!0;for(var c in o.map)if(a.indexOf(c)===0&&a.substr(c.length)in o.phases)return!0;return!1}function Tn(a){var o={};for(var c in a){var f=a[c];U.plainObject(f)?o[c]=Tn(f):U.array(f)?o[c]=Zn(f):o[c]=f}return o}var mr=(function(){function a(o){C(this,a),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=o,this.result=Jn(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return L(a,[{key:"start",value:function(o,c){var f,h,g=o.phase,w=this.interaction,S=(function(M){var F=M.interactable.options[M.prepared.name],Y=F.modifiers;return Y&&Y.length?Y:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map((function(rt){var ht=F[rt];return ht&&ht.enabled&&{options:ht,methods:ht._methods}})).filter((function(rt){return!!rt}))})(w);this.prepareStates(S),this.startEdges=x({},w.edges),this.edges=x({},this.startEdges),this.startOffset=(f=w.rect,h=c,f?{left:h.x-f.left,top:h.y-f.top,right:f.right-h.x,bottom:f.bottom-h.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var O=this.fillArg({phase:g,pageCoords:c,preEnd:!1});return this.result=Jn(),this.startAll(O),this.result=this.setAll(O)}},{key:"fillArg",value:function(o){var c=this.interaction;return o.interaction=c,o.interactable=c.interactable,o.element=c.element,o.rect||(o.rect=c.rect),o.edges||(o.edges=this.startEdges),o.startOffset=this.startOffset,o}},{key:"startAll",value:function(o){for(var c=0,f=this.states;c<f.length;c++){var h=f[c];h.methods.start&&(o.state=h,h.methods.start(o))}}},{key:"setAll",value:function(o){var c=o.phase,f=o.preEnd,h=o.skipModifiers,g=o.rect,w=o.edges;o.coords=x({},o.pageCoords),o.rect=x({},g),o.edges=x({},w);for(var S=h?this.states.slice(h):this.states,O=Jn(o.coords,o.rect),M=0;M<S.length;M++){var F,Y=S[M],rt=Y.options,ht=x({},o.coords),ft=null;(F=Y.methods)!=null&&F.set&&this.shouldDo(rt,f,c)&&(o.state=Y,ft=Y.methods.set(o),jt(o.edges,o.rect,{x:o.coords.x-ht.x,y:o.coords.y-ht.y})),O.eventProps.push(ft)}x(this.edges,o.edges),O.delta.x=o.coords.x-o.pageCoords.x,O.delta.y=o.coords.y-o.pageCoords.y,O.rectDelta.left=o.rect.left-g.left,O.rectDelta.right=o.rect.right-g.right,O.rectDelta.top=o.rect.top-g.top,O.rectDelta.bottom=o.rect.bottom-g.bottom;var yt=this.result.coords,xt=this.result.rect;if(yt&&xt){var St=O.rect.left!==xt.left||O.rect.right!==xt.right||O.rect.top!==xt.top||O.rect.bottom!==xt.bottom;O.changed=St||yt.x!==O.coords.x||yt.y!==O.coords.y}return O}},{key:"applyToInteraction",value:function(o){var c=this.interaction,f=o.phase,h=c.coords.cur,g=c.coords.start,w=this.result,S=this.startDelta,O=w.delta;f==="start"&&x(this.startDelta,w.delta);for(var M=0,F=[[g,S],[h,O]];M<F.length;M++){var Y=F[M],rt=Y[0],ht=Y[1];rt.page.x+=ht.x,rt.page.y+=ht.y,rt.client.x+=ht.x,rt.client.y+=ht.y}var ft=this.result.rectDelta,yt=o.rect||c.rect;yt.left+=ft.left,yt.right+=ft.right,yt.top+=ft.top,yt.bottom+=ft.bottom,yt.width=yt.right-yt.left,yt.height=yt.bottom-yt.top}},{key:"setAndApply",value:function(o){var c=this.interaction,f=o.phase,h=o.preEnd,g=o.skipModifiers,w=this.setAll(this.fillArg({preEnd:h,phase:f,pageCoords:o.modifiedCoords||c.coords.cur.page}));if(this.result=w,!w.changed&&(!g||g<this.states.length)&&c.interacting())return!1;if(o.modifiedCoords){var S=c.coords.cur.page,O={x:o.modifiedCoords.x-S.x,y:o.modifiedCoords.y-S.y};w.coords.x+=O.x,w.coords.y+=O.y,w.delta.x+=O.x,w.delta.y+=O.y}this.applyToInteraction(o)}},{key:"beforeEnd",value:function(o){var c=o.interaction,f=o.event,h=this.states;if(h&&h.length){for(var g=!1,w=0;w<h.length;w++){var S=h[w];o.state=S;var O=S.options,M=S.methods,F=M.beforeEnd&&M.beforeEnd(o);if(F)return this.endResult=F,!1;g=g||!g&&this.shouldDo(O,!0,o.phase,!0)}g&&c.move({event:f,preEnd:!0})}}},{key:"stop",value:function(o){var c=o.interaction;if(this.states&&this.states.length){var f=x({states:this.states,interactable:c.interactable,element:c.element,rect:null},o);this.fillArg(f);for(var h=0,g=this.states;h<g.length;h++){var w=g[h];f.state=w,w.methods.stop&&w.methods.stop(f)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(o){this.states=[];for(var c=0;c<o.length;c++){var f=o[c],h=f.options,g=f.methods,w=f.name;this.states.push({options:h,methods:g,index:c,name:w})}return this.states}},{key:"restoreInteractionCoords",value:function(o){var c=o.interaction,f=c.coords,h=c.rect,g=c.modification;if(g.result){for(var w=g.startDelta,S=g.result,O=S.delta,M=S.rectDelta,F=0,Y=[[f.start,w],[f.cur,O]];F<Y.length;F++){var rt=Y[F],ht=rt[0],ft=rt[1];ht.page.x-=ft.x,ht.page.y-=ft.y,ht.client.x-=ft.x,ht.client.y-=ft.y}h.left-=M.left,h.right-=M.right,h.top-=M.top,h.bottom-=M.bottom}}},{key:"shouldDo",value:function(o,c,f,h){return!(!o||o.enabled===!1||h&&!o.endOnly||o.endOnly&&!c||f==="start"&&!o.setStart)}},{key:"copyFrom",value:function(o){this.startOffset=o.startOffset,this.startDelta=o.startDelta,this.startEdges=o.startEdges,this.edges=o.edges,this.states=o.states.map((function(c){return Tn(c)})),this.result=Jn(x({},o.result.coords),x({},o.result.rect))}},{key:"destroy",value:function(){for(var o in this)this[o]=null}}]),a})();function Jn(a,o){return{rect:o,coords:a,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function cn(a,o){var c=a.defaults,f={start:a.start,set:a.set,beforeEnd:a.beforeEnd,stop:a.stop},h=function(g){var w=g||{};for(var S in w.enabled=w.enabled!==!1,c)S in w||(w[S]=c[S]);var O={options:w,methods:f,name:o,enable:function(){return w.enabled=!0,O},disable:function(){return w.enabled=!1,O}};return O};return o&&typeof o=="string"&&(h._defaults=c,h._methods=f),h}function Dn(a){var o=a.iEvent,c=a.interaction.modification.result;c&&(o.modifiers=c.eventProps)}var Ui={id:"modifiers/base",before:["actions"],install:function(a){a.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(a){var o=a.interaction;o.modification=new mr(o)},"interactions:before-action-start":function(a){var o=a.interaction,c=a.interaction.modification;c.start(a,o.coords.start.page),o.edges=c.edges,c.applyToInteraction(a)},"interactions:before-action-move":function(a){var o=a.interaction,c=o.modification,f=c.setAndApply(a);return o.edges=c.edges,f},"interactions:before-action-end":function(a){var o=a.interaction,c=o.modification,f=c.beforeEnd(a);return o.edges=c.startEdges,f},"interactions:action-start":Dn,"interactions:action-move":Dn,"interactions:action-end":Dn,"interactions:after-action-start":function(a){return a.interaction.modification.restoreInteractionCoords(a)},"interactions:after-action-move":function(a){return a.interaction.modification.restoreInteractionCoords(a)},"interactions:stop":function(a){return a.interaction.modification.stop(a)}}},Kr=Ui,Jr={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},wr=(function(a){R(c,a);var o=d(c);function c(f,h,g,w,S,O,M){var F;C(this,c),(F=o.call(this,f)).relatedTarget=null,F.screenX=void 0,F.screenY=void 0,F.button=void 0,F.buttons=void 0,F.ctrlKey=void 0,F.shiftKey=void 0,F.altKey=void 0,F.metaKey=void 0,F.page=void 0,F.client=void 0,F.delta=void 0,F.rect=void 0,F.x0=void 0,F.y0=void 0,F.t0=void 0,F.dt=void 0,F.duration=void 0,F.clientX0=void 0,F.clientY0=void 0,F.velocity=void 0,F.speed=void 0,F.swipe=void 0,F.axes=void 0,F.preEnd=void 0,S=S||f.element;var Y=f.interactable,rt=(Y&&Y.options||Jr).deltaSource,ht=dt(Y,S,g),ft=w==="start",yt=w==="end",xt=ft?T(F):f.prevEvent,St=ft?f.coords.start:yt?{page:xt.page,client:xt.client,timeStamp:f.coords.cur.timeStamp}:f.coords.cur;return F.page=x({},St.page),F.client=x({},St.client),F.rect=x({},f.rect),F.timeStamp=St.timeStamp,yt||(F.page.x-=ht.x,F.page.y-=ht.y,F.client.x-=ht.x,F.client.y-=ht.y),F.ctrlKey=h.ctrlKey,F.altKey=h.altKey,F.shiftKey=h.shiftKey,F.metaKey=h.metaKey,F.button=h.button,F.buttons=h.buttons,F.target=S,F.currentTarget=S,F.preEnd=O,F.type=M||g+(w||""),F.interactable=Y,F.t0=ft?f.pointers[f.pointers.length-1].downTime:xt.t0,F.x0=f.coords.start.page.x-ht.x,F.y0=f.coords.start.page.y-ht.y,F.clientX0=f.coords.start.client.x-ht.x,F.clientY0=f.coords.start.client.y-ht.y,F.delta=ft||yt?{x:0,y:0}:{x:F[rt].x-xt[rt].x,y:F[rt].y-xt[rt].y},F.dt=f.coords.delta.timeStamp,F.duration=F.timeStamp-F.t0,F.velocity=x({},f.coords.velocity[rt]),F.speed=xe(F.velocity.x,F.velocity.y),F.swipe=yt||w==="inertiastart"?F.getSwipe():null,F}return L(c,[{key:"getSwipe",value:function(){var f=this._interaction;if(f.prevEvent.speed<600||this.timeStamp-f.prevEvent.timeStamp>150)return null;var h=180*Math.atan2(f.prevEvent.velocityY,f.prevEvent.velocityX)/Math.PI;h<0&&(h+=360);var g=112.5<=h&&h<247.5,w=202.5<=h&&h<337.5;return{up:w,down:!w&&22.5<=h&&h<157.5,left:g,right:!g&&(292.5<=h||h<67.5),angle:h,speed:f.prevEvent.speed,velocity:{x:f.prevEvent.velocityX,y:f.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),c})(en);Object.defineProperties(wr.prototype,{pageX:{get:function(){return this.page.x},set:function(a){this.page.x=a}},pageY:{get:function(){return this.page.y},set:function(a){this.page.y=a}},clientX:{get:function(){return this.client.x},set:function(a){this.client.x=a}},clientY:{get:function(){return this.client.y},set:function(a){this.client.y=a}},dx:{get:function(){return this.delta.x},set:function(a){this.delta.x=a}},dy:{get:function(){return this.delta.y},set:function(a){this.delta.y=a}},velocityX:{get:function(){return this.velocity.x},set:function(a){this.velocity.x=a}},velocityY:{get:function(){return this.velocity.y},set:function(a){this.velocity.y=a}}});var Bi=L((function a(o,c,f,h,g){C(this,a),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=o,this.pointer=c,this.event=f,this.downTime=h,this.downTarget=g})),Wi=(function(a){return a.interactable="",a.element="",a.prepared="",a.pointerIsDown="",a.pointerWasMoved="",a._proxy="",a})({}),Qr=(function(a){return a.start="",a.move="",a.end="",a.stop="",a.interacting="",a})({}),de=0,Hi=(function(){function a(o){var c=this,f=o.pointerType,h=o.scopeFire;C(this,a),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=Pe((function(F){this.move(F)}),"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=de++,this._scopeFire=h,this.pointerType=f;var g=this;this._proxy={};var w=function(F){Object.defineProperty(c._proxy,F,{get:function(){return g[F]}})};for(var S in Wi)w(S);var O=function(F){Object.defineProperty(c._proxy,F,{value:function(){return g[F].apply(g,arguments)}})};for(var M in Qr)O(M);this._scopeFire("interactions:new",{interaction:this})}return L(a,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(o,c,f){var h=this.updatePointer(o,c,f,!0),g=this.pointers[h];this._scopeFire("interactions:down",{pointer:o,event:c,eventTarget:f,pointerIndex:h,pointerInfo:g,type:"down",interaction:this})}},{key:"start",value:function(o,c,f){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(o.name==="gesture"?2:1)||!c.options[o.name].enabled)&&(Ve(this.prepared,o),this.interactable=c,this.element=f,this.rect=c.getRect(f),this.edges=this.prepared.edges?x({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(o,c,f){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(o,c,f,!1);var h,g,w=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(h=this.coords.cur.client.x-this.coords.start.client.x,g=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=xe(h,g)>this.pointerMoveTolerance);var S,O,M,F=this.getPointerIndex(o),Y={pointer:o,pointerIndex:F,pointerInfo:this.pointers[F],event:c,type:"move",eventTarget:f,dx:h,dy:g,duplicate:w,interaction:this};w||(S=this.coords.velocity,O=this.coords.delta,M=Math.max(O.timeStamp/1e3,.001),S.page.x=O.page.x/M,S.page.y=O.page.y/M,S.client.x=O.client.x/M,S.client.y=O.client.y/M,S.timeStamp=M),this._scopeFire("interactions:move",Y),w||this.simulation||(this.interacting()&&(Y.type=null,this.move(Y)),this.pointerWasMoved&&k(this.coords.prev,this.coords.cur))}},{key:"move",value:function(o){o&&o.event||y(this.coords.delta),(o=x({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},o||{})).phase="move",this._doPhase(o)}},{key:"pointerUp",value:function(o,c,f,h){var g=this.getPointerIndex(o);g===-1&&(g=this.updatePointer(o,c,f,!1));var w=/cancel$/i.test(c.type)?"cancel":"up";this._scopeFire("interactions:".concat(w),{pointer:o,pointerIndex:g,pointerInfo:this.pointers[g],event:c,eventTarget:f,type:w,curEventTarget:h,interaction:this}),this.simulation||this.end(c),this.removePointer(o,c)}},{key:"documentBlur",value:function(o){this.end(o),this._scopeFire("interactions:blur",{event:o,type:"blur",interaction:this})}},{key:"end",value:function(o){var c;this._ending=!0,o=o||this._latestPointer.event,this.interacting()&&(c=this._doPhase({event:o,interaction:this,phase:"end"})),this._ending=!1,c===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(o){var c=it(o);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:gn(this.pointers,(function(f){return f.id===c}))}},{key:"getPointerInfo",value:function(o){return this.pointers[this.getPointerIndex(o)]}},{key:"updatePointer",value:function(o,c,f,h){var g,w,S,O=it(o),M=this.getPointerIndex(o),F=this.pointers[M];return h=h!==!1&&(h||/(down|start)$/i.test(c.type)),F?F.pointer=o:(F=new Bi(O,o,c,null,null),M=this.pointers.length,this.pointers.push(F)),lt(this.coords.cur,this.pointers.map((function(Y){return Y.pointer})),this._now()),g=this.coords.delta,w=this.coords.prev,S=this.coords.cur,g.page.x=S.page.x-w.page.x,g.page.y=S.page.y-w.page.y,g.client.x=S.client.x-w.client.x,g.client.y=S.client.y-w.client.y,g.timeStamp=S.timeStamp-w.timeStamp,h&&(this.pointerIsDown=!0,F.downTime=this.coords.cur.timeStamp,F.downTarget=f,We(this.downPointer,o),this.interacting()||(k(this.coords.start,this.coords.cur),k(this.coords.prev,this.coords.cur),this.downEvent=c,this.pointerWasMoved=!1)),this._updateLatestPointer(o,c,f),this._scopeFire("interactions:update-pointer",{pointer:o,event:c,eventTarget:f,down:h,pointerInfo:F,pointerIndex:M,interaction:this}),M}},{key:"removePointer",value:function(o,c){var f=this.getPointerIndex(o);if(f!==-1){var h=this.pointers[f];this._scopeFire("interactions:remove-pointer",{pointer:o,event:c,eventTarget:null,pointerIndex:f,pointerInfo:h,interaction:this}),this.pointers.splice(f,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(o,c,f){this._latestPointer.pointer=o,this._latestPointer.event=c,this._latestPointer.eventTarget=f}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(o,c,f,h){return new wr(this,o,this.prepared.name,c,this.element,f,h)}},{key:"_fireEvent",value:function(o){var c;(c=this.interactable)==null||c.fire(o),(!this.prevEvent||o.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=o)}},{key:"_doPhase",value:function(o){var c=o.event,f=o.phase,h=o.preEnd,g=o.type,w=this.rect;if(w&&f==="move"&&(jt(this.edges,w,this.coords.delta[this.interactable.options.deltaSource]),w.width=w.right-w.left,w.height=w.bottom-w.top),this._scopeFire("interactions:before-action-".concat(f),o)===!1)return!1;var S=o.iEvent=this._createPreparedEvent(c,f,h,g);return this._scopeFire("interactions:action-".concat(f),o),f==="start"&&(this.prevEvent=S),this._fireEvent(S),this._scopeFire("interactions:after-action-".concat(f),o),!0}},{key:"_now",value:function(){return Date.now()}}]),a})();function $r(a){_r(a.interaction)}function _r(a){if(!(function(c){return!(!c.offset.pending.x&&!c.offset.pending.y)})(a))return!1;var o=a.offset.pending;return Sr(a.coords.cur,o),Sr(a.coords.delta,o),jt(a.edges,a.rect,o),o.x=0,o.y=0,!0}function ti(a){var o=a.x,c=a.y;this.offset.pending.x+=o,this.offset.pending.y+=c,this.offset.total.x+=o,this.offset.total.y+=c}function Sr(a,o){var c=a.page,f=a.client,h=o.x,g=o.y;c.x+=h,c.y+=g,f.x+=h,f.y+=g}Qr.offsetBy="";var Er={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(a){a.Interaction.prototype.offsetBy=ti},listeners:{"interactions:new":function(a){a.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(a){return(function(o){o.pointerIsDown&&(Sr(o.coords.cur,o.offset.total),o.offset.pending.x=0,o.offset.pending.y=0)})(a.interaction)},"interactions:before-action-start":$r,"interactions:before-action-move":$r,"interactions:before-action-end":function(a){var o=a.interaction;if(_r(o))return o.move({offset:!0}),o.end(),!1},"interactions:stop":function(a){var o=a.interaction;o.offset.total.x=0,o.offset.total.y=0,o.offset.pending.x=0,o.offset.pending.y=0}}},br=Er,ei=(function(){function a(o){C(this,a),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=o}return L(a,[{key:"start",value:function(o){var c=this.interaction,f=Qn(c);if(!f||!f.enabled)return!1;var h=c.coords.velocity.client,g=xe(h.x,h.y),w=this.modification||(this.modification=new mr(c));if(w.copyFrom(c.modification),this.t0=c._now(),this.allowResume=f.allowResume,this.v0=g,this.currentOffset={x:0,y:0},this.startCoords=c.coords.cur.page,this.modifierArg=w.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-c.coords.cur.timeStamp<50&&g>f.minSpeed&&g>f.endSpeed)this.startInertia();else{if(w.result=w.setAll(this.modifierArg),!w.result.changed)return!1;this.startSmoothEnd()}return c.modification.result.rect=null,c.offsetBy(this.targetOffset),c._doPhase({interaction:c,event:o,phase:"inertiastart"}),c.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),c.modification.result.rect=null,this.active=!0,c.simulation=this,!0}},{key:"startInertia",value:function(){var o=this,c=this.interaction.coords.velocity.client,f=Qn(this.interaction),h=f.resistance,g=-Math.log(f.endSpeed/this.v0)/h;this.targetOffset={x:(c.x-g)/h,y:(c.y-g)/h},this.te=g,this.lambda_v0=h/this.v0,this.one_ve_v0=1-f.endSpeed/this.v0;var w=this.modification,S=this.modifierArg;S.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},w.result=w.setAll(S),w.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+w.result.delta.x,y:this.targetOffset.y+w.result.delta.y}),this.onNextFrame((function(){return o.inertiaTick()}))}},{key:"startSmoothEnd",value:function(){var o=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame((function(){return o.smoothEndTick()}))}},{key:"onNextFrame",value:function(o){var c=this;this.timeout=pe.request((function(){c.active&&o()}))}},{key:"inertiaTick",value:function(){var o,c,f,h,g,w,S,O=this,M=this.interaction,F=Qn(M).resistance,Y=(M._now()-this.t0)/1e3;if(Y<this.te){var rt,ht=1-(Math.exp(-F*Y)-this.lambda_v0)/this.one_ve_v0;this.isModified?(o=0,c=0,f=this.targetOffset.x,h=this.targetOffset.y,g=this.modifiedOffset.x,w=this.modifiedOffset.y,rt={x:ni(S=ht,o,f,g),y:ni(S,c,h,w)}):rt={x:this.targetOffset.x*ht,y:this.targetOffset.y*ht};var ft={x:rt.x-this.currentOffset.x,y:rt.y-this.currentOffset.y};this.currentOffset.x+=ft.x,this.currentOffset.y+=ft.y,M.offsetBy(ft),M.move(),this.onNextFrame((function(){return O.inertiaTick()}))}else M.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var o=this,c=this.interaction,f=c._now()-this.t0,h=Qn(c).smoothEndDuration;if(f<h){var g={x:ri(f,0,this.targetOffset.x,h),y:ri(f,0,this.targetOffset.y,h)},w={x:g.x-this.currentOffset.x,y:g.y-this.currentOffset.y};this.currentOffset.x+=w.x,this.currentOffset.y+=w.y,c.offsetBy(w),c.move({skipModifiers:this.modifierCount}),this.onNextFrame((function(){return o.smoothEndTick()}))}else c.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(o){var c=o.pointer,f=o.event,h=o.eventTarget,g=this.interaction;g.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),g.updatePointer(c,f,h,!0),g._doPhase({interaction:g,event:f,phase:"resume"}),k(g.coords.prev,g.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,pe.cancel(this.timeout)}}]),a})();function Qn(a){var o=a.interactable,c=a.prepared;return o&&o.options&&c.name&&o.options[c.name].inertia}var Vi={id:"inertia",before:["modifiers","actions"],install:function(a){var o=a.defaults;a.usePlugin(br),a.usePlugin(Kr),a.actions.phases.inertiastart=!0,a.actions.phases.resume=!0,o.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(a){var o=a.interaction;o.inertia=new ei(o)},"interactions:before-action-end":function(a){var o=a.interaction,c=a.event;return(!o._interacting||o.simulation||!o.inertia.start(c))&&null},"interactions:down":function(a){var o=a.interaction,c=a.eventTarget,f=o.inertia;if(f.active)for(var h=c;U.element(h);){if(h===o.element){f.resume(a);break}h=$(h)}},"interactions:stop":function(a){var o=a.interaction.inertia;o.active&&o.stop()},"interactions:before-action-resume":function(a){var o=a.interaction.modification;o.stop(a),o.start(a,a.interaction.coords.cur.page),o.applyToInteraction(a)},"interactions:before-action-inertiastart":function(a){return a.interaction.modification.setAndApply(a)},"interactions:action-resume":Dn,"interactions:action-inertiastart":Dn,"interactions:after-action-inertiastart":function(a){return a.interaction.modification.restoreInteractionCoords(a)},"interactions:after-action-resume":function(a){return a.interaction.modification.restoreInteractionCoords(a)}}};function ni(a,o,c,f){var h=1-a;return h*h*o+2*h*a*c+a*a*f}function ri(a,o,c,f){return-c*(a/=f)*(a-2)+o}var Xi=Vi;function ii(a,o){for(var c=0;c<o.length;c++){var f=o[c];if(a.immediatePropagationStopped)break;f(a)}}var oi=(function(){function a(o){C(this,a),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=x({},o||{})}return L(a,[{key:"fire",value:function(o){var c,f=this.global;(c=this.types[o.type])&&ii(o,c),!o.propagationStopped&&f&&(c=f[o.type])&&ii(o,c)}},{key:"on",value:function(o,c){var f=ge(o,c);for(o in f)this.types[o]=an(this.types[o]||[],f[o])}},{key:"off",value:function(o,c){var f=ge(o,c);for(o in f){var h=this.types[o];if(h&&h.length)for(var g=0,w=f[o];g<w.length;g++){var S=w[g],O=h.indexOf(S);O!==-1&&h.splice(O,1)}}}},{key:"getRect",value:function(o){return null}}]),a})(),Yi=(function(){function a(o){C(this,a),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=o,We(this,o)}return L(a,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),a})();function Nn(a){return U.object(a)?{capture:!!a.capture,passive:!!a.passive}:{capture:!!a,passive:!1}}function $n(a,o){return a===o||(typeof a=="boolean"?!!o.capture===a&&!o.passive:!!a.capture==!!o.capture&&!!a.passive==!!o.passive)}var Zi={id:"events",install:function(a){var o,c=[],f={},h=[],g={add:w,remove:S,addDelegate:function(F,Y,rt,ht,ft){var yt=Nn(ft);if(!f[rt]){f[rt]=[];for(var xt=0;xt<h.length;xt++){var St=h[xt];w(St,rt,O),w(St,rt,M,!0)}}var Dt=f[rt],Xt=mn(Dt,(function(ee){return ee.selector===F&&ee.context===Y}));Xt||(Xt={selector:F,context:Y,listeners:[]},Dt.push(Xt)),Xt.listeners.push({func:ht,options:yt})},removeDelegate:function(F,Y,rt,ht,ft){var yt,xt=Nn(ft),St=f[rt],Dt=!1;if(St)for(yt=St.length-1;yt>=0;yt--){var Xt=St[yt];if(Xt.selector===F&&Xt.context===Y){for(var ee=Xt.listeners,Ut=ee.length-1;Ut>=0;Ut--){var Gt=ee[Ut];if(Gt.func===ht&&$n(Gt.options,xt)){ee.splice(Ut,1),ee.length||(St.splice(yt,1),S(Y,rt,O),S(Y,rt,M,!0)),Dt=!0;break}}if(Dt)break}}},delegateListener:O,delegateUseCapture:M,delegatedEvents:f,documents:h,targets:c,supportsOptions:!1,supportsPassive:!1};function w(F,Y,rt,ht){if(F.addEventListener){var ft=Nn(ht),yt=mn(c,(function(xt){return xt.eventTarget===F}));yt||(yt={eventTarget:F,events:{}},c.push(yt)),yt.events[Y]||(yt.events[Y]=[]),mn(yt.events[Y],(function(xt){return xt.func===rt&&$n(xt.options,ft)}))||(F.addEventListener(Y,rt,g.supportsOptions?ft:ft.capture),yt.events[Y].push({func:rt,options:ft}))}}function S(F,Y,rt,ht){if(F.addEventListener&&F.removeEventListener){var ft=gn(c,(function(je){return je.eventTarget===F})),yt=c[ft];if(yt&&yt.events)if(Y!=="all"){var xt=!1,St=yt.events[Y];if(St){if(rt==="all"){for(var Dt=St.length-1;Dt>=0;Dt--){var Xt=St[Dt];S(F,Y,Xt.func,Xt.options)}return}for(var ee=Nn(ht),Ut=0;Ut<St.length;Ut++){var Gt=St[Ut];if(Gt.func===rt&&$n(Gt.options,ee)){F.removeEventListener(Y,rt,g.supportsOptions?ee:ee.capture),St.splice(Ut,1),St.length===0&&(delete yt.events[Y],xt=!0);break}}}xt&&!Object.keys(yt.events).length&&c.splice(ft,1)}else for(Y in yt.events)yt.events.hasOwnProperty(Y)&&S(F,Y,"all")}}function O(F,Y){for(var rt=Nn(Y),ht=new Yi(F),ft=f[F.type],yt=vn(F)[0],xt=yt;U.element(xt);){for(var St=0;St<ft.length;St++){var Dt=ft[St],Xt=Dt.selector,ee=Dt.context;if(J(xt,Xt)&&Ct(ee,yt)&&Ct(ee,xt)){var Ut=Dt.listeners;ht.currentTarget=xt;for(var Gt=0;Gt<Ut.length;Gt++){var je=Ut[Gt];$n(je.options,rt)&&je.func(ht)}}}xt=$(xt)}}function M(F){return O(F,!0)}return(o=a.document)==null||o.createElement("div").addEventListener("test",null,{get capture(){return g.supportsOptions=!0},get passive(){return g.supportsPassive=!0}}),a.events=g,g}},Ir={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(a){for(var o=0,c=Ir.methodOrder;o<c.length;o++){var f=c[o],h=Ir[f](a);if(h)return h}return null},simulationResume:function(a){var o=a.pointerType,c=a.eventType,f=a.eventTarget,h=a.scope;if(!/down|start/i.test(c))return null;for(var g=0,w=h.interactions.list;g<w.length;g++){var S=w[g],O=f;if(S.simulation&&S.simulation.allowResume&&S.pointerType===o)for(;O;){if(O===S.element)return S;O=$(O)}}return null},mouseOrPen:function(a){var o,c=a.pointerId,f=a.pointerType,h=a.eventType,g=a.scope;if(f!=="mouse"&&f!=="pen")return null;for(var w=0,S=g.interactions.list;w<S.length;w++){var O=S[w];if(O.pointerType===f){if(O.simulation&&!ai(O,c))continue;if(O.interacting())return O;o||(o=O)}}if(o)return o;for(var M=0,F=g.interactions.list;M<F.length;M++){var Y=F[M];if(!(Y.pointerType!==f||/down/i.test(h)&&Y.simulation))return Y}return null},hasPointer:function(a){for(var o=a.pointerId,c=0,f=a.scope.interactions.list;c<f.length;c++){var h=f[c];if(ai(h,o))return h}return null},idle:function(a){for(var o=a.pointerType,c=0,f=a.scope.interactions.list;c<f.length;c++){var h=f[c];if(h.pointers.length===1){var g=h.interactable;if(g&&(!g.options.gesture||!g.options.gesture.enabled))continue}else if(h.pointers.length>=2)continue;if(!h.interacting()&&o===h.pointerType)return h}return null}};function ai(a,o){return a.pointers.some((function(c){return c.id===o}))}var qi=Ir,xr=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function si(a,o){return function(c){var f=o.interactions.list,h=Ke(c),g=vn(c),w=g[0],S=g[1],O=[];if(/^touch/.test(c.type)){o.prevTouchTime=o.now();for(var M=0,F=c.changedTouches;M<F.length;M++){var Y=F[M],rt={pointer:Y,pointerId:it(Y),pointerType:h,eventType:c.type,eventTarget:w,curEventTarget:S,scope:o},ht=Tr(rt);O.push([rt.pointer,rt.eventTarget,rt.curEventTarget,ht])}}else{var ft=!1;if(!zt.supportsPointerEvent&&/mouse/.test(c.type)){for(var yt=0;yt<f.length&&!ft;yt++)ft=f[yt].pointerType!=="mouse"&&f[yt].pointerIsDown;ft=ft||o.now()-o.prevTouchTime<500||c.timeStamp===0}if(!ft){var xt={pointer:c,pointerId:it(c),pointerType:h,eventType:c.type,curEventTarget:S,eventTarget:w,scope:o},St=Tr(xt);O.push([xt.pointer,xt.eventTarget,xt.curEventTarget,St])}}for(var Dt=0;Dt<O.length;Dt++){var Xt=O[Dt],ee=Xt[0],Ut=Xt[1],Gt=Xt[2];Xt[3][a](ee,c,Ut,Gt)}}}function Tr(a){var o=a.pointerType,c=a.scope,f={interaction:qi.search(a),searchDetails:a};return c.fire("interactions:find",f),f.interaction||c.interactions.new({pointerType:o})}function tr(a,o){var c=a.doc,f=a.scope,h=a.options,g=f.interactions.docEvents,w=f.events,S=w[o];for(var O in f.browser.isIOS&&!h.events&&(h.events={passive:!1}),w.delegatedEvents)S(c,O,w.delegateListener),S(c,O,w.delegateUseCapture,!0);for(var M=h&&h.events,F=0;F<g.length;F++){var Y=g[F];S(c,Y.type,Y.listener,M)}}var ci={id:"core/interactions",install:function(a){for(var o={},c=0;c<xr.length;c++){var f=xr[c];o[f]=si(f,a)}var h,g=zt.pEventTypes;function w(){for(var S=0,O=a.interactions.list;S<O.length;S++){var M=O[S];if(M.pointerIsDown&&M.pointerType==="touch"&&!M._interacting)for(var F=function(){var ht=rt[Y];a.documents.some((function(ft){return Ct(ft.doc,ht.downTarget)}))||M.removePointer(ht.pointer,ht.event)},Y=0,rt=M.pointers;Y<rt.length;Y++)F()}}(h=Ot.PointerEvent?[{type:g.down,listener:w},{type:g.down,listener:o.pointerDown},{type:g.move,listener:o.pointerMove},{type:g.up,listener:o.pointerUp},{type:g.cancel,listener:o.pointerUp}]:[{type:"mousedown",listener:o.pointerDown},{type:"mousemove",listener:o.pointerMove},{type:"mouseup",listener:o.pointerUp},{type:"touchstart",listener:w},{type:"touchstart",listener:o.pointerDown},{type:"touchmove",listener:o.pointerMove},{type:"touchend",listener:o.pointerUp},{type:"touchcancel",listener:o.pointerUp}]).push({type:"blur",listener:function(S){for(var O=0,M=a.interactions.list;O<M.length;O++)M[O].documentBlur(S)}}),a.prevTouchTime=0,a.Interaction=(function(S){R(M,S);var O=d(M);function M(){return C(this,M),O.apply(this,arguments)}return L(M,[{key:"pointerMoveTolerance",get:function(){return a.interactions.pointerMoveTolerance},set:function(F){a.interactions.pointerMoveTolerance=F}},{key:"_now",value:function(){return a.now()}}]),M})(Hi),a.interactions={list:[],new:function(S){S.scopeFire=function(M,F){return a.fire(M,F)};var O=new a.Interaction(S);return a.interactions.list.push(O),O},listeners:o,docEvents:h,pointerMoveTolerance:1},a.usePlugin(Gr)},listeners:{"scope:add-document":function(a){return tr(a,"add")},"scope:remove-document":function(a){return tr(a,"remove")},"interactable:unset":function(a,o){for(var c=a.interactable,f=o.interactions.list.length-1;f>=0;f--){var h=o.interactions.list[f];h.interactable===c&&(h.stop(),o.fire("interactions:destroy",{interaction:h}),h.destroy(),o.interactions.list.length>2&&o.interactions.list.splice(f,1))}}},onDocSignal:tr,doOnInteractions:si,methodNames:xr},Or=ci,un=(function(a){return a[a.On=0]="On",a[a.Off=1]="Off",a})(un||{}),Gi=(function(){function a(o,c,f,h){C(this,a),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new oi,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=c.actions,this.target=o,this._context=c.context||f,this._win=tt(ae(o)?this._context:o),this._doc=this._win.document,this._scopeEvents=h,this.set(c)}return L(a,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(o,c){return U.func(c.onstart)&&this.on("".concat(o,"start"),c.onstart),U.func(c.onmove)&&this.on("".concat(o,"move"),c.onmove),U.func(c.onend)&&this.on("".concat(o,"end"),c.onend),U.func(c.oninertiastart)&&this.on("".concat(o,"inertiastart"),c.oninertiastart),this}},{key:"updatePerActionListeners",value:function(o,c,f){var h,g=this,w=(h=this._actions.map[o])==null?void 0:h.filterEventType,S=function(O){return(w==null||w(O))&&Kn(O,g._actions)};(U.array(c)||U.object(c))&&this._onOff(un.Off,o,c,void 0,S),(U.array(f)||U.object(f))&&this._onOff(un.On,o,f,void 0,S)}},{key:"setPerAction",value:function(o,c){var f=this._defaults;for(var h in c){var g=h,w=this.options[o],S=c[g];g==="listeners"&&this.updatePerActionListeners(o,w.listeners,S),U.array(S)?w[g]=Zn(S):U.plainObject(S)?(w[g]=x(w[g]||{},Tn(S)),U.object(f.perAction[g])&&"enabled"in f.perAction[g]&&(w[g].enabled=S.enabled!==!1)):U.bool(S)&&U.object(f.perAction[g])?w[g].enabled=S:w[g]=S}}},{key:"getRect",value:function(o){return o=o||(U.element(this.target)?this.target:null),U.string(this.target)&&(o=o||this._context.querySelector(this.target)),te(o)}},{key:"rectChecker",value:function(o){var c=this;return U.func(o)?(this.getRect=function(f){var h=x({},o.apply(c,f));return"width"in h||(h.width=h.right-h.left,h.height=h.bottom-h.top),h},this):o===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(o,c){if(ae(c)||U.object(c)){for(var f in this.options[o]=c,this._actions.map)this.options[f][o]=c;return this}return this.options[o]}},{key:"origin",value:function(o){return this._backCompatOption("origin",o)}},{key:"deltaSource",value:function(o){return o==="page"||o==="client"?(this.options.deltaSource=o,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var o=this.target;return U.string(o)?Array.from(this._context.querySelectorAll(o)):U.func(o)&&o.getAllElements?o.getAllElements():U.element(o)?[o]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(o){return this._context===o.ownerDocument||Ct(this._context,o)}},{key:"testIgnoreAllow",value:function(o,c,f){return!this.testIgnore(o.ignoreFrom,c,f)&&this.testAllow(o.allowFrom,c,f)}},{key:"testAllow",value:function(o,c,f){return!o||!!U.element(f)&&(U.string(o)?qt(f,o,c):!!U.element(o)&&Ct(o,f))}},{key:"testIgnore",value:function(o,c,f){return!(!o||!U.element(f))&&(U.string(o)?qt(f,o,c):!!U.element(o)&&Ct(o,f))}},{key:"fire",value:function(o){return this.events.fire(o),this}},{key:"_onOff",value:function(o,c,f,h,g){U.object(c)&&!U.array(c)&&(h=f,f=null);var w=ge(c,f,g);for(var S in w){S==="wheel"&&(S=zt.wheelEvent);for(var O=0,M=w[S];O<M.length;O++){var F=M[O];Kn(S,this._actions)?this.events[o===un.On?"on":"off"](S,F):U.string(this.target)?this._scopeEvents[o===un.On?"addDelegate":"removeDelegate"](this.target,this._context,S,F,h):this._scopeEvents[o===un.On?"add":"remove"](this.target,S,F,h)}}return this}},{key:"on",value:function(o,c,f){return this._onOff(un.On,o,c,f)}},{key:"off",value:function(o,c,f){return this._onOff(un.Off,o,c,f)}},{key:"set",value:function(o){var c=this._defaults;for(var f in U.object(o)||(o={}),this.options=Tn(c.base),this._actions.methodDict){var h=f,g=this._actions.methodDict[h];this.options[h]={},this.setPerAction(h,x(x({},c.perAction),c.actions[h])),this[g](o[h])}for(var w in o)w!=="getRect"?U.func(this[w])&&this[w](o[w]):this.rectChecker(o.getRect);return this}},{key:"unset",value:function(){if(U.string(this.target))for(var o in this._scopeEvents.delegatedEvents)for(var c=this._scopeEvents.delegatedEvents[o],f=c.length-1;f>=0;f--){var h=c[f],g=h.selector,w=h.context,S=h.listeners;g===this.target&&w===this._context&&c.splice(f,1);for(var O=S.length-1;O>=0;O--)this._scopeEvents.removeDelegate(this.target,this._context,o,S[O][0],S[O][1])}else this._scopeEvents.remove(this.target,"all")}}]),a})(),ui=(function(){function a(o){var c=this;C(this,a),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=o,o.addListeners({"interactable:unset":function(f){var h=f.interactable,g=h.target,w=U.string(g)?c.selectorMap[g]:g[c.scope.id],S=gn(w,(function(O){return O===h}));w.splice(S,1)}})}return L(a,[{key:"new",value:function(o,c){c=x(c||{},{actions:this.scope.actions});var f=new this.scope.Interactable(o,c,this.scope.document,this.scope.events);return this.scope.addDocument(f._doc),this.list.push(f),U.string(o)?(this.selectorMap[o]||(this.selectorMap[o]=[]),this.selectorMap[o].push(f)):(f.target[this.scope.id]||Object.defineProperty(o,this.scope.id,{value:[],configurable:!0}),o[this.scope.id].push(f)),this.scope.fire("interactable:new",{target:o,options:c,interactable:f,win:this.scope._win}),f}},{key:"getExisting",value:function(o,c){var f=c&&c.context||this.scope.document,h=U.string(o),g=h?this.selectorMap[o]:o[this.scope.id];if(g)return mn(g,(function(w){return w._context===f&&(h||w.inContext(o))}))}},{key:"forEachMatch",value:function(o,c){for(var f=0,h=this.list;f<h.length;f++){var g=h[f],w=void 0;if((U.string(g.target)?U.element(o)&&J(o,g.target):o===g.target)&&g.inContext(o)&&(w=c(g)),w!==void 0)return w}}}]),a})(),Ki=(function(){function a(){var o=this;C(this,a),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=zt,this.defaults=Tn(Jr),this.Eventable=oi,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=(function(f){var h=function g(w,S){var O=f.interactables.getExisting(w,S);return O||((O=f.interactables.new(w,S)).events.global=g.globalEvents),O};return h.getPointerAverage=ne,h.getTouchBBox=ce,h.getTouchDistance=me,h.getTouchAngle=re,h.getElementRect=te,h.getElementClientRect=Ht,h.matchesSelector=J,h.closest=_e,h.globalEvents={},h.version="1.10.27",h.scope=f,h.use=function(g,w){return this.scope.usePlugin(g,w),this},h.isSet=function(g,w){return!!this.scope.interactables.get(g,w&&w.context)},h.on=Pe((function(g,w,S){if(U.string(g)&&g.search(" ")!==-1&&(g=g.trim().split(/ +/)),U.array(g)){for(var O=0,M=g;O<M.length;O++){var F=M[O];this.on(F,w,S)}return this}if(U.object(g)){for(var Y in g)this.on(Y,g[Y],w);return this}return Kn(g,this.scope.actions)?this.globalEvents[g]?this.globalEvents[g].push(w):this.globalEvents[g]=[w]:this.scope.events.add(this.scope.document,g,w,{options:S}),this}),"The interact.on() method is being deprecated"),h.off=Pe((function(g,w,S){if(U.string(g)&&g.search(" ")!==-1&&(g=g.trim().split(/ +/)),U.array(g)){for(var O=0,M=g;O<M.length;O++){var F=M[O];this.off(F,w,S)}return this}if(U.object(g)){for(var Y in g)this.off(Y,g[Y],w);return this}var rt;return Kn(g,this.scope.actions)?g in this.globalEvents&&(rt=this.globalEvents[g].indexOf(w))!==-1&&this.globalEvents[g].splice(rt,1):this.scope.events.remove(this.scope.document,g,w,S),this}),"The interact.off() method is being deprecated"),h.debug=function(){return this.scope},h.supportsTouch=function(){return zt.supportsTouch},h.supportsPointerEvent=function(){return zt.supportsPointerEvent},h.stop=function(){for(var g=0,w=this.scope.interactions.list;g<w.length;g++)w[g].stop();return this},h.pointerMoveTolerance=function(g){return U.number(g)?(this.scope.interactions.pointerMoveTolerance=g,this):this.scope.interactions.pointerMoveTolerance},h.addDocument=function(g,w){this.scope.addDocument(g,w)},h.removeDocument=function(g){this.scope.removeDocument(g)},h})(this),this.InteractEvent=wr,this.Interactable=void 0,this.interactables=new ui(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(f){return o.removeDocument(f.target)};var c=this;this.Interactable=(function(f){R(g,f);var h=d(g);function g(){return C(this,g),h.apply(this,arguments)}return L(g,[{key:"_defaults",get:function(){return c.defaults}},{key:"set",value:function(w){return H(_(g.prototype),"set",this).call(this,w),c.fire("interactable:set",{options:w,interactable:this}),this}},{key:"unset",value:function(){H(_(g.prototype),"unset",this).call(this);var w=c.interactables.list.indexOf(this);w<0||(c.interactables.list.splice(w,1),c.fire("interactable:unset",{interactable:this}))}}]),g})(Gi)}return L(a,[{key:"addListeners",value:function(o,c){this.listenerMaps.push({id:c,map:o})}},{key:"fire",value:function(o,c){for(var f=0,h=this.listenerMaps;f<h.length;f++){var g=h[f].map[o];if(g&&g(c,this,o)===!1)return!1}}},{key:"init",value:function(o){return this.isInitialized?this:(function(c,f){return c.isInitialized=!0,U.window(f)&&gt(f),Ot.init(f),zt.init(f),pe.init(f),c.window=f,c.document=f.document,c.usePlugin(Or),c.usePlugin(Zi),c})(this,o)}},{key:"pluginIsInstalled",value:function(o){var c=o.id;return c?!!this._plugins.map[c]:this._plugins.list.indexOf(o)!==-1}},{key:"usePlugin",value:function(o,c){if(!this.isInitialized)return this;if(this.pluginIsInstalled(o))return this;if(o.id&&(this._plugins.map[o.id]=o),this._plugins.list.push(o),o.install&&o.install(this,c),o.listeners&&o.before){for(var f=0,h=this.listenerMaps.length,g=o.before.reduce((function(S,O){return S[O]=!0,S[kr(O)]=!0,S}),{});f<h;f++){var w=this.listenerMaps[f].id;if(w&&(g[w]||g[kr(w)]))break}this.listenerMaps.splice(f,0,{id:o.id,map:o.listeners})}else o.listeners&&this.listenerMaps.push({id:o.id,map:o.listeners});return this}},{key:"addDocument",value:function(o,c){if(this.getDocIndex(o)!==-1)return!1;var f=tt(o);c=c?x({},c):{},this.documents.push({doc:o,options:c}),this.events.documents.push(o),o!==this.document&&this.events.add(f,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:o,window:f,scope:this,options:c})}},{key:"removeDocument",value:function(o){var c=this.getDocIndex(o),f=tt(o),h=this.documents[c].options;this.events.remove(f,"unload",this.onWindowUnload),this.documents.splice(c,1),this.events.documents.splice(c,1),this.fire("scope:remove-document",{doc:o,window:f,scope:this,options:h})}},{key:"getDocIndex",value:function(o){for(var c=0;c<this.documents.length;c++)if(this.documents[c].doc===o)return c;return-1}},{key:"getDocOptions",value:function(o){var c=this.getDocIndex(o);return c===-1?null:this.documents[c].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),a})();function kr(a){return a&&a.replace(/\/.*$/,"")}var fi=new Ki,Me=fi.interactStatic,Ji=typeof globalThis<"u"?globalThis:window;fi.init(Ji);var Qi=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(a){var o=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter((function(f){var h=f[0],g=f[1];return h in a||g in a})),c=function(f,h){for(var g=a.range,w=a.limits,S=w===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:w,O=a.offset,M=O===void 0?{x:0,y:0}:O,F={range:g,grid:a,x:null,y:null},Y=0;Y<o.length;Y++){var rt=o[Y],ht=rt[0],ft=rt[1],yt=Math.round((f-M.x)/a[ht]),xt=Math.round((h-M.y)/a[ft]);F[ht]=Math.max(S.left,Math.min(S.right,yt*a[ht]+M.x)),F[ft]=Math.max(S.top,Math.min(S.bottom,xt*a[ft]+M.y))}return F};return c.grid=a,c.coordFields=o,c}}),$i={id:"snappers",install:function(a){var o=a.interactStatic;o.snappers=x(o.snappers||{},Qi),o.createSnapGrid=o.snappers.grid}},li=$i,hi={start:function(a){var o=a.state,c=a.rect,f=a.edges,h=a.pageCoords,g=o.options,w=g.ratio,S=g.enabled,O=o.options,M=O.equalDelta,F=O.modifiers;w==="preserve"&&(w=c.width/c.height),o.startCoords=x({},h),o.startRect=x({},c),o.ratio=w,o.equalDelta=M;var Y=o.linkedEdges={top:f.top||f.left&&!f.bottom,left:f.left||f.top&&!f.right,bottom:f.bottom||f.right&&!f.top,right:f.right||f.bottom&&!f.left};if(o.xIsPrimaryAxis=!(!f.left&&!f.right),o.equalDelta){var rt=(Y.left?1:-1)*(Y.top?1:-1);o.edgeSign={x:rt,y:rt}}else o.edgeSign={x:Y.left?-1:1,y:Y.top?-1:1};if(S!==!1&&x(f,Y),F!=null&&F.length){var ht=new mr(a.interaction);ht.copyFrom(a.interaction.modification),ht.prepareStates(F),o.subModification=ht,ht.startAll(j({},a))}},set:function(a){var o=a.state,c=a.rect,f=a.coords,h=o.linkedEdges,g=x({},f),w=o.equalDelta?pi:di;if(x(a.edges,h),w(o,o.xIsPrimaryAxis,f,c),!o.subModification)return null;var S=x({},c);jt(h,S,{x:f.x-g.x,y:f.y-g.y});var O=o.subModification.setAll(j(j({},a),{},{rect:S,edges:h,pageCoords:f,prevCoords:f,prevRect:S})),M=O.delta;return O.changed&&(w(o,Math.abs(M.x)>Math.abs(M.y),O.coords,O.rect),x(f,O.coords)),O.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function pi(a,o,c){var f=a.startCoords,h=a.edgeSign;o?c.y=f.y+(c.x-f.x)*h.y:c.x=f.x+(c.y-f.y)*h.x}function di(a,o,c,f){var h=a.startRect,g=a.startCoords,w=a.ratio,S=a.edgeSign;if(o){var O=f.width/w;c.y=g.y+(O-h.height)*S.y}else{var M=f.height*w;c.x=g.x+(M-h.width)*S.x}}var er=cn(hi,"aspectRatio"),yi=function(){};yi._defaults={};var nr=yi;function wn(a,o,c){return U.func(a)?ut(a,o.interactable,o.element,[c.x,c.y,o]):ut(a,o.interactable,o.element)}var Ln={start:function(a){var o=a.rect,c=a.startOffset,f=a.state,h=a.interaction,g=a.pageCoords,w=f.options,S=w.elementRect,O=x({left:0,top:0,right:0,bottom:0},w.offset||{});if(o&&S){var M=wn(w.restriction,h,g);if(M){var F=M.right-M.left-o.width,Y=M.bottom-M.top-o.height;F<0&&(O.left+=F,O.right+=F),Y<0&&(O.top+=Y,O.bottom+=Y)}O.left+=c.left-o.width*S.left,O.top+=c.top-o.height*S.top,O.right+=c.right-o.width*(1-S.right),O.bottom+=c.bottom-o.height*(1-S.bottom)}f.offset=O},set:function(a){var o=a.coords,c=a.interaction,f=a.state,h=f.options,g=f.offset,w=wn(h.restriction,c,o);if(w){var S=(function(O){return!O||"left"in O&&"top"in O||((O=x({},O)).left=O.x||0,O.top=O.y||0,O.right=O.right||O.left+O.width,O.bottom=O.bottom||O.top+O.height),O})(w);o.x=Math.max(Math.min(S.right-g.right,o.x),S.left+g.left),o.y=Math.max(Math.min(S.bottom-g.bottom,o.y),S.top+g.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},to=cn(Ln,"restrict"),Rr={top:1/0,left:1/0,bottom:-1/0,right:-1/0},An={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function ze(a,o){for(var c=0,f=["top","left","bottom","right"];c<f.length;c++){var h=f[c];h in a||(a[h]=o[h])}return a}var Cn={noInner:Rr,noOuter:An,start:function(a){var o,c=a.interaction,f=a.startOffset,h=a.state,g=h.options;g&&(o=_t(wn(g.offset,c,c.coords.start.page))),o=o||{x:0,y:0},h.offset={top:o.y+f.top,left:o.x+f.left,bottom:o.y-f.bottom,right:o.x-f.right}},set:function(a){var o=a.coords,c=a.edges,f=a.interaction,h=a.state,g=h.offset,w=h.options;if(c){var S=x({},o),O=wn(w.inner,f,S)||{},M=wn(w.outer,f,S)||{};ze(O,Rr),ze(M,An),c.top?o.y=Math.min(Math.max(M.top+g.top,S.y),O.top+g.top):c.bottom&&(o.y=Math.max(Math.min(M.bottom+g.bottom,S.y),O.bottom+g.bottom)),c.left?o.x=Math.min(Math.max(M.left+g.left,S.x),O.left+g.left):c.right&&(o.x=Math.max(Math.min(M.right+g.right,S.x),O.right+g.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},eo=cn(Cn,"restrictEdges"),no=x({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(a){}},Ln.defaults),ro=cn({start:Ln.start,set:Ln.set,defaults:no},"restrictRect"),Fe={width:-1/0,height:-1/0},io={width:1/0,height:1/0},rr=cn({start:function(a){return Cn.start(a)},set:function(a){var o=a.interaction,c=a.state,f=a.rect,h=a.edges,g=c.options;if(h){var w=Nt(wn(g.min,o,a.coords))||Fe,S=Nt(wn(g.max,o,a.coords))||io;c.options={endOnly:g.endOnly,inner:x({},Cn.noInner),outer:x({},Cn.noOuter)},h.top?(c.options.inner.top=f.bottom-w.height,c.options.outer.top=f.bottom-S.height):h.bottom&&(c.options.inner.bottom=f.top+w.height,c.options.outer.bottom=f.top+S.height),h.left?(c.options.inner.left=f.right-w.width,c.options.outer.left=f.right-S.width):h.right&&(c.options.inner.right=f.left+w.width,c.options.outer.right=f.left+S.width),Cn.set(a),c.options=g}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),ye={start:function(a){var o,c=a.interaction,f=a.interactable,h=a.element,g=a.rect,w=a.state,S=a.startOffset,O=w.options,M=O.offsetWithOrigin?(function(rt){var ht=rt.interaction.element,ft=_t(ut(rt.state.options.origin,null,null,[ht])),yt=ft||dt(rt.interactable,ht,rt.interaction.prepared.name);return yt})(a):{x:0,y:0};if(O.offset==="startCoords")o={x:c.coords.start.page.x,y:c.coords.start.page.y};else{var F=ut(O.offset,f,h,[c]);(o=_t(F)||{x:0,y:0}).x+=M.x,o.y+=M.y}var Y=O.relativePoints;w.offsets=g&&Y&&Y.length?Y.map((function(rt,ht){return{index:ht,relativePoint:rt,x:S.left-g.width*rt.x+o.x,y:S.top-g.height*rt.y+o.y}})):[{index:0,relativePoint:null,x:o.x,y:o.y}]},set:function(a){var o=a.interaction,c=a.coords,f=a.state,h=f.options,g=f.offsets,w=dt(o.interactable,o.element,o.prepared.name),S=x({},c),O=[];h.offsetWithOrigin||(S.x-=w.x,S.y-=w.y);for(var M=0,F=g;M<F.length;M++)for(var Y=F[M],rt=S.x-Y.x,ht=S.y-Y.y,ft=0,yt=h.targets.length;ft<yt;ft++){var xt=h.targets[ft],St=void 0;(St=U.func(xt)?xt(rt,ht,o._proxy,Y,ft):xt)&&O.push({x:(U.number(St.x)?St.x:rt)+Y.x,y:(U.number(St.y)?St.y:ht)+Y.y,range:U.number(St.range)?St.range:h.range,source:xt,index:ft,offset:Y})}for(var Dt={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},Xt=0;Xt<O.length;Xt++){var ee=O[Xt],Ut=ee.range,Gt=ee.x-S.x,je=ee.y-S.y,le=xe(Gt,je),Ye=le<=Ut;Ut===1/0&&Dt.inRange&&Dt.range!==1/0&&(Ye=!1),Dt.target&&!(Ye?Dt.inRange&&Ut!==1/0?le/Ut<Dt.distance/Dt.range:Ut===1/0&&Dt.range!==1/0||le<Dt.distance:!Dt.inRange&&le<Dt.distance)||(Dt.target=ee,Dt.distance=le,Dt.range=Ut,Dt.inRange=Ye,Dt.delta.x=Gt,Dt.delta.y=je)}return Dt.inRange&&(c.x=Dt.target.x,c.y=Dt.target.y),f.closest=Dt,Dt},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},oo=cn(ye,"snap"),_n={start:function(a){var o=a.state,c=a.edges,f=o.options;if(!c)return null;a.state={options:{targets:null,relativePoints:[{x:c.left?0:1,y:c.top?0:1}],offset:f.offset||"self",origin:{x:0,y:0},range:f.range}},o.targetFields=o.targetFields||[["width","height"],["x","y"]],ye.start(a),o.offsets=a.state.offsets,a.state=o},set:function(a){var o=a.interaction,c=a.state,f=a.coords,h=c.options,g=c.offsets,w={x:f.x-g[0].x,y:f.y-g[0].y};c.options=x({},h),c.options.targets=[];for(var S=0,O=h.targets||[];S<O.length;S++){var M=O[S],F=void 0;if(F=U.func(M)?M(w.x,w.y,o):M){for(var Y=0,rt=c.targetFields;Y<rt.length;Y++){var ht=rt[Y],ft=ht[0],yt=ht[1];if(ft in F||yt in F){F.x=F[ft],F.y=F[yt];break}}c.options.targets.push(F)}}var xt=ye.set(a);return c.options=h,xt},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},On=cn(_n,"snapSize"),ir={aspectRatio:er,restrictEdges:eo,restrict:to,restrictRect:ro,restrictSize:rr,snapEdges:cn({start:function(a){var o=a.edges;return o?(a.state.targetFields=a.state.targetFields||[[o.left?"left":"right",o.top?"top":"bottom"]],_n.start(a)):null},set:_n.set,defaults:x(Tn(_n.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:oo,snapSize:On,spring:nr,avoid:nr,transform:nr,rubberband:nr},ao={id:"modifiers",install:function(a){var o=a.interactStatic;for(var c in a.usePlugin(Kr),a.usePlugin(li),o.modifiers=ir,ir){var f=ir[c],h=f._defaults,g=f._methods;h._methods=g,a.defaults.perAction[c]=h}}},vi=ao,Pn=(function(a){R(c,a);var o=d(c);function c(f,h,g,w,S,O){var M;if(C(this,c),We(T(M=o.call(this,S)),g),g!==h&&We(T(M),h),M.timeStamp=O,M.originalEvent=g,M.type=f,M.pointerId=it(h),M.pointerType=Ke(h),M.target=w,M.currentTarget=null,f==="tap"){var F=S.getPointerIndex(h);M.dt=M.timeStamp-S.pointers[F].downTime;var Y=M.timeStamp-S.tapTime;M.double=!!S.prevTap&&S.prevTap.type!=="doubletap"&&S.prevTap.target===M.target&&Y<500}else f==="doubletap"&&(M.dt=h.timeStamp-S.tapTime,M.double=!0);return M}return L(c,[{key:"_subtractOrigin",value:function(f){var h=f.x,g=f.y;return this.pageX-=h,this.pageY-=g,this.clientX-=h,this.clientY-=g,this}},{key:"_addOrigin",value:function(f){var h=f.x,g=f.y;return this.pageX+=h,this.pageY+=g,this.clientX+=h,this.clientY+=g,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),c})(en),ve={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(a){a.pointerEvents=ve,a.defaults.actions.pointerEvents=ve.defaults,x(a.actions.phaselessTypes,ve.types)},listeners:{"interactions:new":function(a){var o=a.interaction;o.prevTap=null,o.tapTime=0},"interactions:update-pointer":function(a){var o=a.down,c=a.pointerInfo;!o&&c.hold||(c.hold={duration:1/0,timeout:null})},"interactions:move":function(a,o){var c=a.interaction,f=a.pointer,h=a.event,g=a.eventTarget;a.duplicate||c.pointerIsDown&&!c.pointerWasMoved||(c.pointerIsDown&&Fr(a),fn({interaction:c,pointer:f,event:h,eventTarget:g,type:"move"},o))},"interactions:down":function(a,o){(function(c,f){for(var h=c.interaction,g=c.pointer,w=c.event,S=c.eventTarget,O=c.pointerIndex,M=h.pointers[O].hold,F=he(S),Y={interaction:h,pointer:g,event:w,eventTarget:S,type:"hold",targets:[],path:F,node:null},rt=0;rt<F.length;rt++){var ht=F[rt];Y.node=ht,f.fire("pointerEvents:collect-targets",Y)}if(Y.targets.length){for(var ft=1/0,yt=0,xt=Y.targets;yt<xt.length;yt++){var St=xt[yt].eventable.options.holdDuration;St<ft&&(ft=St)}M.duration=ft,M.timeout=setTimeout((function(){fn({interaction:h,eventTarget:S,pointer:g,event:w,type:"hold"},f)}),ft)}})(a,o),fn(a,o)},"interactions:up":function(a,o){Fr(a),fn(a,o),(function(c,f){var h=c.interaction,g=c.pointer,w=c.event,S=c.eventTarget;h.pointerWasMoved||fn({interaction:h,eventTarget:S,pointer:g,event:w,type:"tap"},f)})(a,o)},"interactions:cancel":function(a,o){Fr(a),fn(a,o)}},PointerEvent:Pn,fire:fn,collectEventTargets:or,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function fn(a,o){var c=a.interaction,f=a.pointer,h=a.event,g=a.eventTarget,w=a.type,S=a.targets,O=S===void 0?or(a,o):S,M=new Pn(w,f,h,g,c,o.now());o.fire("pointerEvents:new",{pointerEvent:M});for(var F={interaction:c,pointer:f,event:h,eventTarget:g,targets:O,type:w,pointerEvent:M},Y=0;Y<O.length;Y++){var rt=O[Y];for(var ht in rt.props||{})M[ht]=rt.props[ht];var ft=dt(rt.eventable,rt.node);if(M._subtractOrigin(ft),M.eventable=rt.eventable,M.currentTarget=rt.node,rt.eventable.fire(M),M._addOrigin(ft),M.immediatePropagationStopped||M.propagationStopped&&Y+1<O.length&&O[Y+1].node!==M.currentTarget)break}if(o.fire("pointerEvents:fired",F),w==="tap"){var yt=M.double?fn({interaction:c,pointer:f,event:h,eventTarget:g,type:"doubletap"},o):M;c.prevTap=yt,c.tapTime=yt.timeStamp}return M}function or(a,o){var c=a.interaction,f=a.pointer,h=a.event,g=a.eventTarget,w=a.type,S=c.getPointerIndex(f),O=c.pointers[S];if(w==="tap"&&(c.pointerWasMoved||!O||O.downTarget!==g))return[];for(var M=he(g),F={interaction:c,pointer:f,event:h,eventTarget:g,type:w,path:M,targets:[],node:null},Y=0;Y<M.length;Y++){var rt=M[Y];F.node=rt,o.fire("pointerEvents:collect-targets",F)}return w==="hold"&&(F.targets=F.targets.filter((function(ht){var ft,yt;return ht.eventable.options.holdDuration===((ft=c.pointers[S])==null||(yt=ft.hold)==null?void 0:yt.duration)}))),F.targets}function Fr(a){var o=a.interaction,c=a.pointerIndex,f=o.pointers[c].hold;f&&f.timeout&&(clearTimeout(f.timeout),f.timeout=null)}var so=Object.freeze({__proto__:null,default:ve});function nn(a){var o=a.interaction;o.holdIntervalHandle&&(clearInterval(o.holdIntervalHandle),o.holdIntervalHandle=null)}var co={id:"pointer-events/holdRepeat",install:function(a){a.usePlugin(ve);var o=a.pointerEvents;o.defaults.holdRepeatInterval=0,o.types.holdrepeat=a.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce((function(a,o){return a["pointerEvents:".concat(o)]=nn,a}),{"pointerEvents:new":function(a){var o=a.pointerEvent;o.type==="hold"&&(o.count=(o.count||0)+1)},"pointerEvents:fired":function(a,o){var c=a.interaction,f=a.pointerEvent,h=a.eventTarget,g=a.targets;if(f.type==="hold"&&g.length){var w=g[0].eventable.options.holdRepeatInterval;w<=0||(c.holdIntervalHandle=setTimeout((function(){o.pointerEvents.fire({interaction:c,eventTarget:h,type:"hold",pointer:f,event:f},o)}),w))}}})},ar=co,Xe={id:"pointer-events/interactableTargets",install:function(a){var o=a.Interactable;o.prototype.pointerEvents=function(f){return x(this.events.options,f),this};var c=o.prototype._backCompatOption;o.prototype._backCompatOption=function(f,h){var g=c.call(this,f,h);return g===this&&(this.events.options[f]=h),g}},listeners:{"pointerEvents:collect-targets":function(a,o){var c=a.targets,f=a.node,h=a.type,g=a.eventTarget;o.interactables.forEachMatch(f,(function(w){var S=w.events,O=S.options;S.types[h]&&S.types[h].length&&w.testIgnoreAllow(O,f,g)&&c.push({node:f,eventable:S,props:{interactable:w}})}))},"interactable:new":function(a){var o=a.interactable;o.events.getRect=function(c){return o.getRect(c)}},"interactable:set":function(a,o){var c=a.interactable,f=a.options;x(c.events.options,o.pointerEvents.defaults),x(c.events.options,f.pointerEvents||{})}}},ln=Xe,Dr={id:"pointer-events",install:function(a){a.usePlugin(so),a.usePlugin(ar),a.usePlugin(ln)}},gi=Dr,sr={id:"reflow",install:function(a){var o=a.Interactable;a.actions.phases.reflow=!0,o.prototype.reflow=function(c){return(function(f,h,g){for(var w=f.getAllElements(),S=g.window.Promise,O=S?[]:null,M=function(){var Y=w[F],rt=f.getRect(Y);if(!rt)return 1;var ht,ft=mn(g.interactions.list,(function(St){return St.interacting()&&St.interactable===f&&St.element===Y&&St.prepared.name===h.name}));if(ft)ft.move(),O&&(ht=ft._reflowPromise||new S((function(St){ft._reflowResolve=St})));else{var yt=Nt(rt),xt=(function(St){return{coords:St,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}})({page:{x:yt.x,y:yt.y},client:{x:yt.x,y:yt.y},timeStamp:g.now()});ht=(function(St,Dt,Xt,ee,Ut){var Gt=St.interactions.new({pointerType:"reflow"}),je={interaction:Gt,event:Ut,pointer:Ut,eventTarget:Xt,phase:"reflow"};Gt.interactable=Dt,Gt.element=Xt,Gt.prevEvent=Ut,Gt.updatePointer(Ut,Ut,Xt,!0),y(Gt.coords.delta),Ve(Gt.prepared,ee),Gt._doPhase(je);var le=St.window,Ye=le.Promise,Ze=Ye?new Ye((function(Ge){Gt._reflowResolve=Ge})):void 0;return Gt._reflowPromise=Ze,Gt.start(ee,Dt,Xt),Gt._interacting?(Gt.move(je),Gt.end(Ut)):(Gt.stop(),Gt._reflowResolve()),Gt.removePointer(Ut,Ut),Ze})(g,f,Y,h,xt)}O&&O.push(ht)},F=0;F<w.length&&!M();F++);return O&&S.all(O).then((function(){return f}))})(this,c,a)}},listeners:{"interactions:stop":function(a,o){var c=a.interaction;c.pointerType==="reflow"&&(c._reflowResolve&&c._reflowResolve(),(function(f,h){f.splice(f.indexOf(h),1)})(o.interactions.list,c))}}},qe=sr;if(Me.use(Gr),Me.use(br),Me.use(gi),Me.use(Xi),Me.use(vi),Me.use(Mi),Me.use(Re),Me.use(Oe),Me.use(qe),Me.default=Me,N(I)==="object"&&I)try{I.exports=Me}catch{}return Me.default=Me,Me}))})(zr,zr.exports)),zr.exports}var ms=gs();const $u=Ra(ms);var Fa=typeof global=="object"&&global&&global.Object===Object&&global,ws=typeof self=="object"&&self&&self.Object===Object&&self,Fn=Fa||ws||Function("return this")(),Rn=Fn.Symbol,Da=Object.prototype,_s=Da.hasOwnProperty,Ss=Da.toString,Mr=Rn?Rn.toStringTag:void 0;function Es(I){var X=_s.call(I,Mr),W=I[Mr];try{I[Mr]=void 0;var j=!0}catch{}var N=Ss.call(I);return j&&(X?I[Mr]=W:delete I[Mr]),N}var bs=Object.prototype,Is=bs.toString;function xs(I){return Is.call(I)}var Ts="[object Null]",Os="[object Undefined]",pa=Rn?Rn.toStringTag:void 0;function hr(I){return I==null?I===void 0?Os:Ts:pa&&pa in Object(I)?Es(I):xs(I)}function Ri(I){return I!=null&&typeof I=="object"}var ks="[object Symbol]";function Eo(I){return typeof I=="symbol"||Ri(I)&&hr(I)==ks}function Rs(I,X){for(var W=-1,j=I==null?0:I.length,N=Array(j);++W<j;)N[W]=X(I[W],W,I);return N}var pr=Array.isArray,da=Rn?Rn.prototype:void 0,ya=da?da.toString:void 0;function Na(I){if(typeof I=="string")return I;if(pr(I))return Rs(I,Na)+"";if(Eo(I))return ya?ya.call(I):"";var X=I+"";return X=="0"&&1/I==-1/0?"-0":X}function Ti(I){var X=typeof I;return I!=null&&(X=="object"||X=="function")}function Fs(I){return I}var Ds="[object AsyncFunction]",Ns="[object Function]",Ls="[object GeneratorFunction]",As="[object Proxy]";function La(I){if(!Ti(I))return!1;var X=hr(I);return X==Ns||X==Ls||X==Ds||X==As}var vo=Fn["__core-js_shared__"],va=(function(){var I=/[^.]+$/.exec(vo&&vo.keys&&vo.keys.IE_PROTO||"");return I?"Symbol(src)_1."+I:""})();function Cs(I){return!!va&&va in I}var Ps=Function.prototype,Ms=Ps.toString;function Vn(I){if(I!=null){try{return Ms.call(I)}catch{}try{return I+""}catch{}}return""}var zs=/[\\^$.*+?()[\]{}|]/g,js=/^\[object .+?Constructor\]$/,Us=Function.prototype,Bs=Object.prototype,Ws=Us.toString,Hs=Bs.hasOwnProperty,Vs=RegExp("^"+Ws.call(Hs).replace(zs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Xs(I){if(!Ti(I)||Cs(I))return!1;var X=La(I)?Vs:js;return X.test(Vn(I))}function Ys(I,X){return I?.[X]}function Xn(I,X){var W=Ys(I,X);return Xs(W)?W:void 0}var mo=Xn(Fn,"WeakMap");function Zs(I,X,W){switch(W.length){case 0:return I.call(X);case 1:return I.call(X,W[0]);case 2:return I.call(X,W[0],W[1]);case 3:return I.call(X,W[0],W[1],W[2])}return I.apply(X,W)}var qs=800,Gs=16,Ks=Date.now;function Js(I){var X=0,W=0;return function(){var j=Ks(),N=Gs-(j-W);if(W=j,N>0){if(++X>=qs)return arguments[0]}else X=0;return I.apply(void 0,arguments)}}function Qs(I){return function(){return I}}var Oi=(function(){try{var I=Xn(Object,"defineProperty");return I({},"",{}),I}catch{}})(),$s=Oi?function(I,X){return Oi(I,"toString",{configurable:!0,enumerable:!1,value:Qs(X),writable:!0})}:Fs,tc=Js($s),ec=9007199254740991,nc=/^(?:0|[1-9]\d*)$/;function Aa(I,X){var W=typeof I;return X=X??ec,!!X&&(W=="number"||W!="symbol"&&nc.test(I))&&I>-1&&I%1==0&&I<X}function rc(I,X,W){X=="__proto__"&&Oi?Oi(I,X,{configurable:!0,enumerable:!0,value:W,writable:!0}):I[X]=W}function Ca(I,X){return I===X||I!==I&&X!==X}var ic=Object.prototype,oc=ic.hasOwnProperty;function ac(I,X,W){var j=I[X];(!(oc.call(I,X)&&Ca(j,W))||W===void 0&&!(X in I))&&rc(I,X,W)}var ga=Math.max;function sc(I,X,W){return X=ga(X===void 0?I.length-1:X,0),function(){for(var j=arguments,N=-1,C=ga(j.length-X,0),Q=Array(C);++N<C;)Q[N]=j[X+N];N=-1;for(var L=Array(X+1);++N<X;)L[N]=j[N];return L[X]=W(Q),Zs(I,this,L)}}var cc=9007199254740991;function bo(I){return typeof I=="number"&&I>-1&&I%1==0&&I<=cc}function uc(I){return I!=null&&bo(I.length)&&!La(I)}var fc=Object.prototype;function Pa(I){var X=I&&I.constructor,W=typeof X=="function"&&X.prototype||fc;return I===W}var lc="[object Arguments]";function ma(I){return Ri(I)&&hr(I)==lc}var Ma=Object.prototype,hc=Ma.hasOwnProperty,pc=Ma.propertyIsEnumerable,Io=ma((function(){return arguments})())?ma:function(I){return Ri(I)&&hc.call(I,"callee")&&!pc.call(I,"callee")};function dc(){return!1}var za=typeof exports=="object"&&exports&&!exports.nodeType&&exports,wa=za&&typeof module=="object"&&module&&!module.nodeType&&module,yc=wa&&wa.exports===za,_a=yc?Fn.Buffer:void 0,vc=_a?_a.isBuffer:void 0,gc=vc||dc,mc="[object Arguments]",wc="[object Array]",_c="[object Boolean]",Sc="[object Date]",Ec="[object Error]",bc="[object Function]",Ic="[object Map]",xc="[object Number]",Tc="[object Object]",Oc="[object RegExp]",kc="[object Set]",Rc="[object String]",Fc="[object WeakMap]",Dc="[object ArrayBuffer]",Nc="[object DataView]",Lc="[object Float32Array]",Ac="[object Float64Array]",Cc="[object Int8Array]",Pc="[object Int16Array]",Mc="[object Int32Array]",zc="[object Uint8Array]",jc="[object Uint8ClampedArray]",Uc="[object Uint16Array]",Bc="[object Uint32Array]",Ee={};Ee[Lc]=Ee[Ac]=Ee[Cc]=Ee[Pc]=Ee[Mc]=Ee[zc]=Ee[jc]=Ee[Uc]=Ee[Bc]=!0;Ee[mc]=Ee[wc]=Ee[Dc]=Ee[_c]=Ee[Nc]=Ee[Sc]=Ee[Ec]=Ee[bc]=Ee[Ic]=Ee[xc]=Ee[Tc]=Ee[Oc]=Ee[kc]=Ee[Rc]=Ee[Fc]=!1;function Wc(I){return Ri(I)&&bo(I.length)&&!!Ee[hr(I)]}function Hc(I){return function(X){return I(X)}}var ja=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jr=ja&&typeof module=="object"&&module&&!module.nodeType&&module,Vc=jr&&jr.exports===ja,go=Vc&&Fa.process,Sa=(function(){try{var I=jr&&jr.require&&jr.require("util").types;return I||go&&go.binding&&go.binding("util")}catch{}})(),Ea=Sa&&Sa.isTypedArray,Xc=Ea?Hc(Ea):Wc;function Yc(I,X){return function(W){return I(X(W))}}var Zc=Yc(Object.keys,Object),qc=Object.prototype,Gc=qc.hasOwnProperty;function Kc(I){if(!Pa(I))return Zc(I);var X=[];for(var W in Object(I))Gc.call(I,W)&&W!="constructor"&&X.push(W);return X}var Jc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qc=/^\w*$/;function $c(I,X){if(pr(I))return!1;var W=typeof I;return W=="number"||W=="symbol"||W=="boolean"||I==null||Eo(I)?!0:Qc.test(I)||!Jc.test(I)||X!=null&&I in Object(X)}var Ur=Xn(Object,"create");function tu(){this.__data__=Ur?Ur(null):{},this.size=0}function eu(I){var X=this.has(I)&&delete this.__data__[I];return this.size-=X?1:0,X}var nu="__lodash_hash_undefined__",ru=Object.prototype,iu=ru.hasOwnProperty;function ou(I){var X=this.__data__;if(Ur){var W=X[I];return W===nu?void 0:W}return iu.call(X,I)?X[I]:void 0}var au=Object.prototype,su=au.hasOwnProperty;function cu(I){var X=this.__data__;return Ur?X[I]!==void 0:su.call(X,I)}var uu="__lodash_hash_undefined__";function fu(I,X){var W=this.__data__;return this.size+=this.has(I)?0:1,W[I]=Ur&&X===void 0?uu:X,this}function Hn(I){var X=-1,W=I==null?0:I.length;for(this.clear();++X<W;){var j=I[X];this.set(j[0],j[1])}}Hn.prototype.clear=tu;Hn.prototype.delete=eu;Hn.prototype.get=ou;Hn.prototype.has=cu;Hn.prototype.set=fu;function lu(){this.__data__=[],this.size=0}function Fi(I,X){for(var W=I.length;W--;)if(Ca(I[W][0],X))return W;return-1}var hu=Array.prototype,pu=hu.splice;function du(I){var X=this.__data__,W=Fi(X,I);if(W<0)return!1;var j=X.length-1;return W==j?X.pop():pu.call(X,W,1),--this.size,!0}function yu(I){var X=this.__data__,W=Fi(X,I);return W<0?void 0:X[W][1]}function vu(I){return Fi(this.__data__,I)>-1}function gu(I,X){var W=this.__data__,j=Fi(W,I);return j<0?(++this.size,W.push([I,X])):W[j][1]=X,this}function dr(I){var X=-1,W=I==null?0:I.length;for(this.clear();++X<W;){var j=I[X];this.set(j[0],j[1])}}dr.prototype.clear=lu;dr.prototype.delete=du;dr.prototype.get=yu;dr.prototype.has=vu;dr.prototype.set=gu;var ki=Xn(Fn,"Map");function mu(){this.size=0,this.__data__={hash:new Hn,map:new(ki||dr),string:new Hn}}function wu(I){var X=typeof I;return X=="string"||X=="number"||X=="symbol"||X=="boolean"?I!=="__proto__":I===null}function Di(I,X){var W=I.__data__;return wu(X)?W[typeof X=="string"?"string":"hash"]:W.map}function _u(I){var X=Di(this,I).delete(I);return this.size-=X?1:0,X}function Su(I){return Di(this,I).get(I)}function Eu(I){return Di(this,I).has(I)}function bu(I,X){var W=Di(this,I),j=W.size;return W.set(I,X),this.size+=W.size==j?0:1,this}function Yn(I){var X=-1,W=I==null?0:I.length;for(this.clear();++X<W;){var j=I[X];this.set(j[0],j[1])}}Yn.prototype.clear=mu;Yn.prototype.delete=_u;Yn.prototype.get=Su;Yn.prototype.has=Eu;Yn.prototype.set=bu;var Iu="Expected a function";function xo(I,X){if(typeof I!="function"||X!=null&&typeof X!="function")throw new TypeError(Iu);var W=function(){var j=arguments,N=X?X.apply(this,j):j[0],C=W.cache;if(C.has(N))return C.get(N);var Q=I.apply(this,j);return W.cache=C.set(N,Q)||C,Q};return W.cache=new(xo.Cache||Yn),W}xo.Cache=Yn;var xu=500;function Tu(I){var X=xo(I,function(j){return W.size===xu&&W.clear(),j}),W=X.cache;return X}var Ou=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ku=/\\(\\)?/g,Ru=Tu(function(I){var X=[];return I.charCodeAt(0)===46&&X.push(""),I.replace(Ou,function(W,j,N,C){X.push(N?C.replace(ku,"$1"):j||W)}),X});function Fu(I){return I==null?"":Na(I)}function Ni(I,X){return pr(I)?I:$c(I,X)?[I]:Ru(Fu(I))}function To(I){if(typeof I=="string"||Eo(I))return I;var X=I+"";return X=="0"&&1/I==-1/0?"-0":X}function Ua(I,X){X=Ni(X,I);for(var W=0,j=X.length;I!=null&&W<j;)I=I[To(X[W++])];return W&&W==j?I:void 0}function tf(I,X,W){var j=I==null?void 0:Ua(I,X);return j===void 0?W:j}function Du(I,X){for(var W=-1,j=X.length,N=I.length;++W<j;)I[N+W]=X[W];return I}var ba=Rn?Rn.isConcatSpreadable:void 0;function Nu(I){return pr(I)||Io(I)||!!(ba&&I&&I[ba])}function Lu(I,X,W,j,N){var C=-1,Q=I.length;for(W||(W=Nu),N||(N=[]);++C<Q;){var L=I[C];W(L)?Du(N,L):N[N.length]=L}return N}function Au(I){var X=I==null?0:I.length;return X?Lu(I):[]}function Cu(I){return tc(sc(I,void 0,Au),I+"")}var wo=Xn(Fn,"DataView"),_o=Xn(Fn,"Promise"),So=Xn(Fn,"Set"),Ia="[object Map]",Pu="[object Object]",xa="[object Promise]",Ta="[object Set]",Oa="[object WeakMap]",ka="[object DataView]",Mu=Vn(wo),zu=Vn(ki),ju=Vn(_o),Uu=Vn(So),Bu=Vn(mo),Wn=hr;(wo&&Wn(new wo(new ArrayBuffer(1)))!=ka||ki&&Wn(new ki)!=Ia||_o&&Wn(_o.resolve())!=xa||So&&Wn(new So)!=Ta||mo&&Wn(new mo)!=Oa)&&(Wn=function(I){var X=hr(I),W=X==Pu?I.constructor:void 0,j=W?Vn(W):"";if(j)switch(j){case Mu:return ka;case zu:return Ia;case ju:return xa;case Uu:return Ta;case Bu:return Oa}return X});function Wu(I,X){return I!=null&&X in Object(I)}function Hu(I,X,W){X=Ni(X,I);for(var j=-1,N=X.length,C=!1;++j<N;){var Q=To(X[j]);if(!(C=I!=null&&W(I,Q)))break;I=I[Q]}return C||++j!=N?C:(N=I==null?0:I.length,!!N&&bo(N)&&Aa(Q,N)&&(pr(I)||Io(I)))}function Vu(I,X){return I!=null&&Hu(I,X,Wu)}function ef(I){var X=I==null?0:I.length;return X?I[X-1]:void 0}var Xu="[object Map]",Yu="[object Set]",Zu=Object.prototype,qu=Zu.hasOwnProperty;function nf(I){if(I==null)return!0;if(uc(I)&&(pr(I)||typeof I=="string"||typeof I.splice=="function"||gc(I)||Xc(I)||Io(I)))return!I.length;var X=Wn(I);if(X==Xu||X==Yu)return!I.size;if(Pa(I))return!Kc(I).length;for(var W in I)if(qu.call(I,W))return!1;return!0}function Gu(I,X,W,j){if(!Ti(I))return I;X=Ni(X,I);for(var N=-1,C=X.length,Q=C-1,L=I;L!=null&&++N<C;){var V=To(X[N]),R=W;if(V==="__proto__"||V==="constructor"||V==="prototype")return I;if(N!=Q){var _=L[V];R=void 0,R===void 0&&(R=Ti(_)?_:Aa(X[N+1])?[]:{})}ac(L,V,R),L=L[V]}return I}function Ku(I,X,W){for(var j=-1,N=X.length,C={};++j<N;){var Q=X[j],L=Ua(I,Q);W(L,Q)&&Gu(C,Ni(Q,I),L)}return C}function Ju(I,X){return Ku(I,X,function(W,j){return Vu(I,j)})}var rf=Cu(function(I,X){return I==null?{}:Ju(I,X)});export{Qu as B,nf as a,tf as g,$u as i,ef as l,rf as p};
