function za(E){return E&&E.__esModule&&Object.prototype.hasOwnProperty.call(E,"default")?E.default:E}var ki={exports:{}},Es=ki.exports,ma;function bs(){return ma||(ma=1,(function(E,j){(function(M,L){E.exports=L()})(Es,function(){return(function(P){var M={};function L(A){if(M[A])return M[A].exports;var q=M[A]={exports:{},id:A,loaded:!1};return P[A].call(q.exports,q,q.exports,L),q.loaded=!0,q.exports}return L.m=P,L.c=M,L.p="",L(0)})([function(P,M,L){(function(A,q,R,U){Object.defineProperty(M,"__esModule",{value:!0});var T=L(2),w=L(9),h;(function(r){r[r.EPERM=1]="EPERM",r[r.ENOENT=2]="ENOENT",r[r.EIO=5]="EIO",r[r.EBADF=9]="EBADF",r[r.EACCES=13]="EACCES",r[r.EBUSY=16]="EBUSY",r[r.EEXIST=17]="EEXIST",r[r.ENOTDIR=20]="ENOTDIR",r[r.EISDIR=21]="EISDIR",r[r.EINVAL=22]="EINVAL",r[r.EFBIG=27]="EFBIG",r[r.ENOSPC=28]="ENOSPC",r[r.EROFS=30]="EROFS",r[r.ENOTEMPTY=39]="ENOTEMPTY",r[r.ENOTSUP=95]="ENOTSUP"})(h||(h={}));var O={};O[h.EPERM]="Operation not permitted.",O[h.ENOENT]="No such file or directory.",O[h.EIO]="Input/output error.",O[h.EBADF]="Bad file descriptor.",O[h.EACCES]="Permission denied.",O[h.EBUSY]="Resource busy or locked.",O[h.EEXIST]="File exists.",O[h.ENOTDIR]="File is not a directory.",O[h.EISDIR]="File is a directory.",O[h.EINVAL]="Invalid argument.",O[h.EFBIG]="File is too big.",O[h.ENOSPC]="No space left on disk.",O[h.EROFS]="Cannot modify a read-only file system.",O[h.ENOTEMPTY]="Directory is not empty.",O[h.ENOTSUP]="Operation is not supported.";var d=(function(r){function t(n,e,i){e===void 0&&(e=O[n]),r.call(this,e),this.syscall="",this.errno=n,this.code=h[n],this.path=i,this.stack=new r().stack,this.message="Error: "+this.code+": "+e+(this.path?", '"+this.path+"'":"")}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.fromJSON=function(e){var i=new t(0);return i.errno=e.errno,i.code=e.code,i.path=e.path,i.stack=e.stack,i.message=e.message,i},t.fromBuffer=function(e,i){return i===void 0&&(i=0),t.fromJSON(JSON.parse(e.toString("utf8",i+4,i+4+e.readUInt32LE(i))))},t.FileError=function(e,i){return new t(e,O[e],i)},t.ENOENT=function(e){return this.FileError(h.ENOENT,e)},t.EEXIST=function(e){return this.FileError(h.EEXIST,e)},t.EISDIR=function(e){return this.FileError(h.EISDIR,e)},t.ENOTDIR=function(e){return this.FileError(h.ENOTDIR,e)},t.EPERM=function(e){return this.FileError(h.EPERM,e)},t.ENOTEMPTY=function(e){return this.FileError(h.ENOTEMPTY,e)},t.prototype.toString=function(){return this.message},t.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},t.prototype.writeToBuffer=function(e,i){e===void 0&&(e=A.alloc(this.bufferSize())),i===void 0&&(i=0);var s=e.write(JSON.stringify(this.toJSON()),i+4);return e.writeUInt32LE(s,i),e},t.prototype.bufferSize=function(){return 4+A.byteLength(JSON.stringify(this.toJSON()))},t})(Error),Y=Object.freeze({get ErrorCode(){return h},ErrorStrings:O,ApiError:d}),B;(function(r){r[r.NOP=0]="NOP",r[r.THROW_EXCEPTION=1]="THROW_EXCEPTION",r[r.TRUNCATE_FILE=2]="TRUNCATE_FILE",r[r.CREATE_FILE=3]="CREATE_FILE"})(B||(B={}));var X=function r(t){if(this.flagStr=t,r.validFlagStrs.indexOf(t)<0)throw new d(h.EINVAL,"Invalid flag: "+t)};X.getFileFlag=function(t){return X.flagCache.hasOwnProperty(t)?X.flagCache[t]:X.flagCache[t]=new X(t)},X.prototype.getFlagString=function(){return this.flagStr},X.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},X.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},X.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},X.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},X.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},X.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},X.prototype.pathExistsAction=function(){return this.isExclusive()?B.THROW_EXCEPTION:this.isTruncating()?B.TRUNCATE_FILE:B.NOP},X.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?B.CREATE_FILE:B.THROW_EXCEPTION},X.flagCache={},X.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];var K;(function(r){r[r.FILE=32768]="FILE",r[r.DIRECTORY=16384]="DIRECTORY",r[r.SYMLINK=40960]="SYMLINK"})(K||(K={}));var J=function(t,n,e,i,s,u){if(i===void 0&&(i=new Date),s===void 0&&(s=new Date),u===void 0&&(u=new Date),this.size=n,this.atime=i,this.mtime=s,this.ctime=u,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,e)this.mode=e;else switch(t){case K.FILE:this.mode=420;break;case K.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(n/512),this.mode<4096&&(this.mode|=t)};J.fromBuffer=function(t){var n=t.readUInt32LE(0),e=t.readUInt32LE(4),i=t.readDoubleLE(8),s=t.readDoubleLE(16),u=t.readDoubleLE(24);return new J(e&61440,n,e&4095,new Date(i),new Date(s),new Date(u))},J.prototype.toBuffer=function(){var t=A.alloc(32);return t.writeUInt32LE(this.size,0),t.writeUInt32LE(this.mode,4),t.writeDoubleLE(this.atime.getTime(),8),t.writeDoubleLE(this.mtime.getTime(),16),t.writeDoubleLE(this.ctime.getTime(),24),t},J.prototype.clone=function(){return new J(this.mode&61440,this.size,this.mode&4095,this.atime,this.mtime,this.ctime)},J.prototype.isFile=function(){return(this.mode&61440)===K.FILE},J.prototype.isDirectory=function(){return(this.mode&61440)===K.DIRECTORY},J.prototype.isSymbolicLink=function(){return(this.mode&61440)===K.SYMLINK},J.prototype.chmod=function(t){this.mode=this.mode&61440|t},J.prototype.isSocket=function(){return!1},J.prototype.isBlockDevice=function(){return!1},J.prototype.isCharacterDevice=function(){return!1},J.prototype.isFIFO=function(){return!1};var mt=function(r,t){return r};function et(r){if(r)return r;throw new d(h.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function at(r,t){switch(typeof r){case"number":return r;case"string":var n=parseInt(r,8);return isNaN(n)?t:n;default:return t}}function Zt(r){if(r instanceof Date)return r;if(typeof r=="number")return new Date(r*1e3);throw new d(h.EINVAL,"Invalid time.")}function V(r){if(r.indexOf("\0")>=0)throw new d(h.EINVAL,"Path must be a string without null bytes.");if(r==="")throw new d(h.EINVAL,"Path must not be empty.");return w.resolve(r)}function Xt(r,t,n,e){switch(typeof r){case"object":return{encoding:typeof r.encoding<"u"?r.encoding:t,flag:typeof r.flag<"u"?r.flag:n,mode:at(r.mode,e)};case"string":return{encoding:r,flag:n,mode:e};default:return{encoding:t,flag:n,mode:e}}}function Ct(){}var nt=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};nt.prototype.initialize=function(t){if(!t.constructor.isAvailable())throw new d(h.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=t},nt.prototype._toUnixTimestamp=function(t){if(typeof t=="number")return t;if(t instanceof Date)return t.getTime()/1e3;throw new Error("Cannot parse time: "+t)},nt.prototype.getRootFS=function(){return this.root?this.root:null},nt.prototype.rename=function(t,n,e){e===void 0&&(e=Ct);var i=mt(e,1);try{et(this.root).rename(V(t),V(n),i)}catch(s){i(s)}},nt.prototype.renameSync=function(t,n){et(this.root).renameSync(V(t),V(n))},nt.prototype.exists=function(t,n){n===void 0&&(n=Ct);var e=mt(n,1);try{return et(this.root).exists(V(t),e)}catch{return e(!1)}},nt.prototype.existsSync=function(t){try{return et(this.root).existsSync(V(t))}catch{return!1}},nt.prototype.stat=function(t,n){n===void 0&&(n=Ct);var e=mt(n,2);try{return et(this.root).stat(V(t),!1,e)}catch(i){return e(i)}},nt.prototype.statSync=function(t){return et(this.root).statSync(V(t),!1)},nt.prototype.lstat=function(t,n){n===void 0&&(n=Ct);var e=mt(n,2);try{return et(this.root).stat(V(t),!0,e)}catch(i){return e(i)}},nt.prototype.lstatSync=function(t){return et(this.root).statSync(V(t),!0)},nt.prototype.truncate=function(t,n,e){n===void 0&&(n=0),e===void 0&&(e=Ct);var i=0;typeof n=="function"?e=n:typeof n=="number"&&(i=n);var s=mt(e,1);try{if(i<0)throw new d(h.EINVAL);return et(this.root).truncate(V(t),i,s)}catch(u){return s(u)}},nt.prototype.truncateSync=function(t,n){if(n===void 0&&(n=0),n<0)throw new d(h.EINVAL);return et(this.root).truncateSync(V(t),n)},nt.prototype.unlink=function(t,n){n===void 0&&(n=Ct);var e=mt(n,1);try{return et(this.root).unlink(V(t),e)}catch(i){return e(i)}},nt.prototype.unlinkSync=function(t){return et(this.root).unlinkSync(V(t))},nt.prototype.open=function(t,n,e,i){var s=this;i===void 0&&(i=Ct);var u=at(e,420);i=typeof e=="function"?e:i;var l=mt(i,2);try{et(this.root).open(V(t),X.getFileFlag(n),u,function(m,I){I?l(m,s.getFdForFile(I)):l(m)})}catch(m){l(m)}},nt.prototype.openSync=function(t,n,e){return e===void 0&&(e=420),this.getFdForFile(et(this.root).openSync(V(t),X.getFileFlag(n),at(e,420)))},nt.prototype.readFile=function(t,n,e){n===void 0&&(n={}),e===void 0&&(e=Ct);var i=Xt(n,null,"r",null);e=typeof n=="function"?n:e;var s=mt(e,2);try{var u=X.getFileFlag(i.flag);return u.isReadable()?et(this.root).readFile(V(t),i.encoding,u,s):s(new d(h.EINVAL,"Flag passed to readFile must allow for reading."))}catch(l){return s(l)}},nt.prototype.readFileSync=function(t,n){n===void 0&&(n={});var e=Xt(n,null,"r",null),i=X.getFileFlag(e.flag);if(!i.isReadable())throw new d(h.EINVAL,"Flag passed to readFile must allow for reading.");return et(this.root).readFileSync(V(t),e.encoding,i)},nt.prototype.writeFile=function(t,n,e,i){e===void 0&&(e={}),i===void 0&&(i=Ct);var s=Xt(e,"utf8","w",420);i=typeof e=="function"?e:i;var u=mt(i,1);try{var l=X.getFileFlag(s.flag);return l.isWriteable()?et(this.root).writeFile(V(t),n,s.encoding,l,s.mode,u):u(new d(h.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(m){return u(m)}},nt.prototype.writeFileSync=function(t,n,e){var i=Xt(e,"utf8","w",420),s=X.getFileFlag(i.flag);if(!s.isWriteable())throw new d(h.EINVAL,"Flag passed to writeFile must allow for writing.");return et(this.root).writeFileSync(V(t),n,i.encoding,s,i.mode)},nt.prototype.appendFile=function(t,n,e,i){i===void 0&&(i=Ct);var s=Xt(e,"utf8","a",420);i=typeof e=="function"?e:i;var u=mt(i,1);try{var l=X.getFileFlag(s.flag);if(!l.isAppendable())return u(new d(h.EINVAL,"Flag passed to appendFile must allow for appending."));et(this.root).appendFile(V(t),n,s.encoding,l,s.mode,u)}catch(m){u(m)}},nt.prototype.appendFileSync=function(t,n,e){var i=Xt(e,"utf8","a",420),s=X.getFileFlag(i.flag);if(!s.isAppendable())throw new d(h.EINVAL,"Flag passed to appendFile must allow for appending.");return et(this.root).appendFileSync(V(t),n,i.encoding,s,i.mode)},nt.prototype.fstat=function(t,n){n===void 0&&(n=Ct);var e=mt(n,2);try{var i=this.fd2file(t);i.stat(e)}catch(s){e(s)}},nt.prototype.fstatSync=function(t){return this.fd2file(t).statSync()},nt.prototype.close=function(t,n){var e=this;n===void 0&&(n=Ct);var i=mt(n,1);try{this.fd2file(t).close(function(s){s||e.closeFd(t),i(s)})}catch(s){i(s)}},nt.prototype.closeSync=function(t){this.fd2file(t).closeSync(),this.closeFd(t)},nt.prototype.ftruncate=function(t,n,e){e===void 0&&(e=Ct);var i=typeof n=="number"?n:0;e=typeof n=="function"?n:e;var s=mt(e,1);try{var u=this.fd2file(t);if(i<0)throw new d(h.EINVAL);u.truncate(i,s)}catch(l){s(l)}},nt.prototype.ftruncateSync=function(t,n){n===void 0&&(n=0);var e=this.fd2file(t);if(n<0)throw new d(h.EINVAL);e.truncateSync(n)},nt.prototype.fsync=function(t,n){n===void 0&&(n=Ct);var e=mt(n,1);try{this.fd2file(t).sync(e)}catch(i){e(i)}},nt.prototype.fsyncSync=function(t){this.fd2file(t).syncSync()},nt.prototype.fdatasync=function(t,n){n===void 0&&(n=Ct);var e=mt(n,1);try{this.fd2file(t).datasync(e)}catch(i){e(i)}},nt.prototype.fdatasyncSync=function(t){this.fd2file(t).datasyncSync()},nt.prototype.write=function(t,n,e,i,s,u){u===void 0&&(u=Ct);var l,m,I,H=null;if(typeof n=="string"){var G="utf8";switch(typeof e){case"function":u=e;break;case"number":H=e,G=typeof i=="string"?i:"utf8",u=typeof s=="function"?s:u;break;default:return u=typeof i=="function"?i:typeof s=="function"?s:u,u(new d(h.EINVAL,"Invalid arguments."))}l=A.from(n,G),m=0,I=l.length}else l=n,m=e,I=i,H=typeof s=="number"?s:null,u=typeof s=="function"?s:u;var st=mt(u,3);try{var wt=this.fd2file(t);H==null&&(H=wt.getPos()),wt.write(l,m,I,H,st)}catch(_t){st(_t)}},nt.prototype.writeSync=function(t,n,e,i,s){var u,l=0,m,I;if(typeof n=="string"){I=typeof e=="number"?e:null;var H=typeof i=="string"?i:"utf8";l=0,u=A.from(n,H),m=u.length}else u=n,l=e,m=i,I=typeof s=="number"?s:null;var G=this.fd2file(t);return I==null&&(I=G.getPos()),G.writeSync(u,l,m,I)},nt.prototype.read=function(t,n,e,i,s,u){u===void 0&&(u=Ct);var l,m,I,H,G;if(typeof n=="number"){I=n,l=e;var st=i;u=typeof s=="function"?s:u,m=0,H=A.alloc(I),G=mt(function(_t,At,Wt){if(_t)return u(_t);u(_t,Wt.toString(st),At)},3)}else H=n,m=e,I=i,l=s,G=mt(u,3);try{var wt=this.fd2file(t);l==null&&(l=wt.getPos()),wt.read(H,m,I,l,G)}catch(_t){G(_t)}},nt.prototype.readSync=function(t,n,e,i,s){var u=!1,l,m,I,H,G="utf8";typeof n=="number"?(I=n,H=e,G=i,m=0,l=A.alloc(I),u=!0):(l=n,m=e,I=i,H=s);var st=this.fd2file(t);H==null&&(H=st.getPos());var wt=st.readSync(l,m,I,H);return u?[l.toString(G),wt]:wt},nt.prototype.fchown=function(t,n,e,i){i===void 0&&(i=Ct);var s=mt(i,1);try{this.fd2file(t).chown(n,e,s)}catch(u){s(u)}},nt.prototype.fchownSync=function(t,n,e){this.fd2file(t).chownSync(n,e)},nt.prototype.fchmod=function(t,n,e){var i=mt(e,1);try{var s=typeof n=="string"?parseInt(n,8):n;this.fd2file(t).chmod(s,i)}catch(u){i(u)}},nt.prototype.fchmodSync=function(t,n){var e=typeof n=="string"?parseInt(n,8):n;this.fd2file(t).chmodSync(e)},nt.prototype.futimes=function(t,n,e,i){i===void 0&&(i=Ct);var s=mt(i,1);try{var u=this.fd2file(t);typeof n=="number"&&(n=new Date(n*1e3)),typeof e=="number"&&(e=new Date(e*1e3)),u.utimes(n,e,s)}catch(l){s(l)}},nt.prototype.futimesSync=function(t,n,e){this.fd2file(t).utimesSync(Zt(n),Zt(e))},nt.prototype.rmdir=function(t,n){n===void 0&&(n=Ct);var e=mt(n,1);try{t=V(t),et(this.root).rmdir(t,e)}catch(i){e(i)}},nt.prototype.rmdirSync=function(t){return t=V(t),et(this.root).rmdirSync(t)},nt.prototype.mkdir=function(t,n,e){e===void 0&&(e=Ct),typeof n=="function"&&(e=n,n=511);var i=mt(e,1);try{t=V(t),et(this.root).mkdir(t,n,i)}catch(s){i(s)}},nt.prototype.mkdirSync=function(t,n){et(this.root).mkdirSync(V(t),at(n,511))},nt.prototype.readdir=function(t,n){n===void 0&&(n=Ct);var e=mt(n,2);try{t=V(t),et(this.root).readdir(t,e)}catch(i){e(i)}},nt.prototype.readdirSync=function(t){return t=V(t),et(this.root).readdirSync(t)},nt.prototype.link=function(t,n,e){e===void 0&&(e=Ct);var i=mt(e,1);try{t=V(t),n=V(n),et(this.root).link(t,n,i)}catch(s){i(s)}},nt.prototype.linkSync=function(t,n){return t=V(t),n=V(n),et(this.root).linkSync(t,n)},nt.prototype.symlink=function(t,n,e,i){i===void 0&&(i=Ct);var s=typeof e=="string"?e:"file";i=typeof e=="function"?e:i;var u=mt(i,1);try{if(s!=="file"&&s!=="dir")return u(new d(h.EINVAL,"Invalid type: "+s));t=V(t),n=V(n),et(this.root).symlink(t,n,s,u)}catch(l){u(l)}},nt.prototype.symlinkSync=function(t,n,e){if(!e)e="file";else if(e!=="file"&&e!=="dir")throw new d(h.EINVAL,"Invalid type: "+e);return t=V(t),n=V(n),et(this.root).symlinkSync(t,n,e)},nt.prototype.readlink=function(t,n){n===void 0&&(n=Ct);var e=mt(n,2);try{t=V(t),et(this.root).readlink(t,e)}catch(i){e(i)}},nt.prototype.readlinkSync=function(t){return t=V(t),et(this.root).readlinkSync(t)},nt.prototype.chown=function(t,n,e,i){i===void 0&&(i=Ct);var s=mt(i,1);try{t=V(t),et(this.root).chown(t,!1,n,e,s)}catch(u){s(u)}},nt.prototype.chownSync=function(t,n,e){t=V(t),et(this.root).chownSync(t,!1,n,e)},nt.prototype.lchown=function(t,n,e,i){i===void 0&&(i=Ct);var s=mt(i,1);try{t=V(t),et(this.root).chown(t,!0,n,e,s)}catch(u){s(u)}},nt.prototype.lchownSync=function(t,n,e){t=V(t),et(this.root).chownSync(t,!0,n,e)},nt.prototype.chmod=function(t,n,e){e===void 0&&(e=Ct);var i=mt(e,1);try{var s=at(n,-1);if(s<0)throw new d(h.EINVAL,"Invalid mode.");et(this.root).chmod(V(t),!1,s,i)}catch(u){i(u)}},nt.prototype.chmodSync=function(t,n){var e=at(n,-1);if(e<0)throw new d(h.EINVAL,"Invalid mode.");t=V(t),et(this.root).chmodSync(t,!1,e)},nt.prototype.lchmod=function(t,n,e){e===void 0&&(e=Ct);var i=mt(e,1);try{var s=at(n,-1);if(s<0)throw new d(h.EINVAL,"Invalid mode.");et(this.root).chmod(V(t),!0,s,i)}catch(u){i(u)}},nt.prototype.lchmodSync=function(t,n){var e=at(n,-1);if(e<1)throw new d(h.EINVAL,"Invalid mode.");et(this.root).chmodSync(V(t),!0,e)},nt.prototype.utimes=function(t,n,e,i){i===void 0&&(i=Ct);var s=mt(i,1);try{et(this.root).utimes(V(t),Zt(n),Zt(e),s)}catch(u){s(u)}},nt.prototype.utimesSync=function(t,n,e){et(this.root).utimesSync(V(t),Zt(n),Zt(e))},nt.prototype.realpath=function(t,n,e){e===void 0&&(e=Ct);var i=typeof n=="object"?n:{};e=typeof n=="function"?n:Ct;var s=mt(e,2);try{t=V(t),et(this.root).realpath(t,i,s)}catch(u){s(u)}},nt.prototype.realpathSync=function(t,n){return n===void 0&&(n={}),t=V(t),et(this.root).realpathSync(t,n)},nt.prototype.watchFile=function(t,n,e){throw new d(h.ENOTSUP)},nt.prototype.unwatchFile=function(t,n){throw new d(h.ENOTSUP)},nt.prototype.watch=function(t,n,e){throw new d(h.ENOTSUP)},nt.prototype.access=function(t,n,e){throw new d(h.ENOTSUP)},nt.prototype.accessSync=function(t,n){throw new d(h.ENOTSUP)},nt.prototype.createReadStream=function(t,n){throw new d(h.ENOTSUP)},nt.prototype.createWriteStream=function(t,n){throw new d(h.ENOTSUP)},nt.prototype.wrapCallbacks=function(t){mt=t},nt.prototype.getFdForFile=function(t){var n=this.nextFd++;return this.fdMap[n]=t,n},nt.prototype.fd2file=function(t){var n=this.fdMap[t];if(n)return n;throw new d(h.EBADF,"Invalid file descriptor.")},nt.prototype.closeFd=function(t){delete this.fdMap[t]},nt.Stats=J;var gt=new nt,It={},$t=nt.prototype;Object.keys($t).forEach(function(r){typeof gt[r]=="function"?It[r]=function(){return gt[r].apply(gt,arguments)}:It[r]=gt[r]}),It.changeFSModule=function(r){gt=r},It.getFSModule=function(){return gt},It.FS=nt;function kt(r,t,n,e,i){return r<t||n<t?r>n?n+1:r+1:e===i?t:t+1}function Jt(r,t){if(r===t)return 0;if(r.length>t.length){var n=r;r=t,t=n}for(var e=r.length,i=t.length;e>0&&r.charCodeAt(e-1)===t.charCodeAt(i-1);)e--,i--;for(var s=0;s<e&&r.charCodeAt(s)===t.charCodeAt(s);)s++;if(e-=s,i-=s,e===0||i===1)return i;for(var u=new Array(e<<1),l=0;l<e;)u[e+l]=r.charCodeAt(s+l),u[l]=++l;var m,I,H,G,st;for(m=0;m+3<i;)for(var wt=t.charCodeAt(s+(I=m)),_t=t.charCodeAt(s+(H=m+1)),At=t.charCodeAt(s+(G=m+2)),Wt=t.charCodeAt(s+(st=m+3)),te=m+=4,xe=0;xe<e;){var We=u[e+xe],yn=u[xe];I=kt(yn,I,H,wt,We),H=kt(I,H,G,_t,We),G=kt(H,G,st,At,We),te=kt(G,st,te,Wt,We),u[xe++]=te,st=G,G=H,H=I,I=yn}for(var vn=0;m<i;){var pr=t.charCodeAt(s+(I=m));vn=++m;for(var In=0;In<e;In++){var xn=u[In];u[In]=vn=xn<I||vn<I?xn>vn?vn+1:xn+1:pr===u[e+In]?I:I+1,I=xn}}return vn}function jt(r,t,n){r&&console.warn("["+t+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+t+".Create("+JSON.stringify(n)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}var Pt=typeof navigator<"u"&&!!(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||navigator.userAgent.indexOf("Trident")!==-1),Se=typeof window>"u";function tt(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function $(r,t,n){n.existsSync(r)||($(w.dirname(r),t,n),n.mkdirSync(r,t))}function dt(r){var t=Ft(r),n=t.byteOffset,e=t.byteLength;return n===0&&e===t.buffer.byteLength?t.buffer:t.buffer.slice(n,n+e)}function Ft(r){return r instanceof Uint8Array?r:new Uint8Array(r)}function Gt(r){return r instanceof A?r:r instanceof Uint8Array?Ht(r):A.from(r)}function Ht(r){return r instanceof A?r:r.byteOffset===0&&r.byteLength===r.buffer.byteLength?Vt(r.buffer):A.from(r.buffer,r.byteOffset,r.byteLength)}function Vt(r){return A.from(r)}function ee(r,t,n){if(t===void 0&&(t=0),n===void 0&&(n=r.length),t<0||n<0||n>r.length||t>n)throw new TypeError("Invalid slice bounds on buffer of length "+r.length+": ["+t+", "+n+"]");if(r.length===0)return se();var e=Ft(r),i=r[0],s=(i+1)%255;return r[0]=s,e[0]===s?(e[0]=i,Ht(e.slice(t,n))):(r[0]=i,Ht(e.subarray(t,n)))}var pe=null;function se(){return pe||(pe=A.alloc(0))}function k(r,t){A.isBuffer(r)?t():t(new d(h.EINVAL,"option must be a Buffer."))}function z(r,t,n){var e=r.Options,i=r.Name,s=0,u=!1,l=!1;function m(st){u||(st&&(u=!0,n(st)),s--,s===0&&l&&n())}var I=function(st){if(e.hasOwnProperty(st)){var wt=e[st],_t=t[st];if(_t==null){if(!wt.optional){var At=Object.keys(t).filter(function(te){return!(te in e)}).map(function(te){return{str:te,distance:Jt(st,te)}}).filter(function(te){return te.distance<5}).sort(function(te,xe){return te.distance-xe.distance});return u?{}:(u=!0,{v:n(new d(h.EINVAL,"["+i+"] Required option '"+st+"' not provided."+(At.length>0?" You provided unrecognized option '"+At[0].str+"'; perhaps you meant to type '"+st+"'.":"")+`
Option description: `+wt.description))})}}else{var Wt=!1;if(Array.isArray(wt.type)?Wt=wt.type.indexOf(typeof _t)!==-1:Wt=typeof _t===wt.type,Wt)wt.validator&&(s++,wt.validator(_t,m));else return u?{}:(u=!0,{v:n(new d(h.EINVAL,"["+i+"] Value provided for option "+st+" is not the proper type. Expected "+(Array.isArray(wt.type)?"one of {"+wt.type.join(", ")+"}":wt.type)+", but received "+typeof _t+`
Option description: `+wt.description))})}}};for(var H in e){var G=I(H);if(G)return G.v}l=!0,s===0&&!u&&n()}var ft=Object.freeze({deprecationMessage:jt,isIE:Pt,isWebWorker:Se,fail:tt,mkdirpSync:$,buffer2ArrayBuffer:dt,buffer2Uint8array:Ft,arrayish2Buffer:Gt,uint8Array2Buffer:Ht,arrayBuffer2Buffer:Vt,copyingSlice:ee,emptyBuffer:se,bufferValidator:k,checkOptions:z}),St=function(t){this.fs=t,this.nodefs=t.getNodeFS(),this.FS=t.getFS(),this.PATH=t.getPATH(),this.ERRNO_CODES=t.getERRNO_CODES()};St.prototype.open=function(t){var n=this.fs.realPath(t.node),e=this.FS;try{e.isFile(t.node.mode)&&(t.nfd=this.nodefs.openSync(n,this.fs.flagsToPermissionString(t.flags)))}catch(i){throw i.code?new e.ErrnoError(this.ERRNO_CODES[i.code]):i}},St.prototype.close=function(t){var n=this.FS;try{n.isFile(t.node.mode)&&t.nfd&&this.nodefs.closeSync(t.nfd)}catch(e){throw e.code?new n.ErrnoError(this.ERRNO_CODES[e.code]):e}},St.prototype.read=function(t,n,e,i,s){try{return this.nodefs.readSync(t.nfd,Ht(n),e,i,s)}catch(u){throw new this.FS.ErrnoError(this.ERRNO_CODES[u.code])}},St.prototype.write=function(t,n,e,i,s){try{return this.nodefs.writeSync(t.nfd,Ht(n),e,i,s)}catch(u){throw new this.FS.ErrnoError(this.ERRNO_CODES[u.code])}},St.prototype.llseek=function(t,n,e){var i=n;if(e===1)i+=t.position;else if(e===2&&this.FS.isFile(t.node.mode))try{var s=this.nodefs.fstatSync(t.nfd);i+=s.size}catch(u){throw new this.FS.ErrnoError(this.ERRNO_CODES[u.code])}if(i<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return t.position=i,i};var Lt=function(t){this.fs=t,this.nodefs=t.getNodeFS(),this.FS=t.getFS(),this.PATH=t.getPATH(),this.ERRNO_CODES=t.getERRNO_CODES()};Lt.prototype.getattr=function(t){var n=this.fs.realPath(t),e;try{e=this.nodefs.lstatSync(n)}catch(i){throw i.code?new this.FS.ErrnoError(this.ERRNO_CODES[i.code]):i}return{dev:e.dev,ino:e.ino,mode:e.mode,nlink:e.nlink,uid:e.uid,gid:e.gid,rdev:e.rdev,size:e.size,atime:e.atime,mtime:e.mtime,ctime:e.ctime,blksize:e.blksize,blocks:e.blocks}},Lt.prototype.setattr=function(t,n){var e=this.fs.realPath(t);try{if(n.mode!==void 0&&(this.nodefs.chmodSync(e,n.mode),t.mode=n.mode),n.timestamp!==void 0){var i=new Date(n.timestamp);this.nodefs.utimesSync(e,i,i)}}catch(s){if(!s.code)throw s;if(s.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[s.code])}if(n.size!==void 0)try{this.nodefs.truncateSync(e,n.size)}catch(s){throw s.code?new this.FS.ErrnoError(this.ERRNO_CODES[s.code]):s}},Lt.prototype.lookup=function(t,n){var e=this.PATH.join2(this.fs.realPath(t),n),i=this.fs.getMode(e);return this.fs.createNode(t,n,i)},Lt.prototype.mknod=function(t,n,e,i){var s=this.fs.createNode(t,n,e,i),u=this.fs.realPath(s);try{this.FS.isDir(s.mode)?this.nodefs.mkdirSync(u,s.mode):this.nodefs.writeFileSync(u,"",{mode:s.mode})}catch(l){throw l.code?new this.FS.ErrnoError(this.ERRNO_CODES[l.code]):l}return s},Lt.prototype.rename=function(t,n,e){var i=this.fs.realPath(t),s=this.PATH.join2(this.fs.realPath(n),e);try{this.nodefs.renameSync(i,s),t.name=e,t.parent=n}catch(u){throw u.code?new this.FS.ErrnoError(this.ERRNO_CODES[u.code]):u}},Lt.prototype.unlink=function(t,n){var e=this.PATH.join2(this.fs.realPath(t),n);try{this.nodefs.unlinkSync(e)}catch(i){throw i.code?new this.FS.ErrnoError(this.ERRNO_CODES[i.code]):i}},Lt.prototype.rmdir=function(t,n){var e=this.PATH.join2(this.fs.realPath(t),n);try{this.nodefs.rmdirSync(e)}catch(i){throw i.code?new this.FS.ErrnoError(this.ERRNO_CODES[i.code]):i}},Lt.prototype.readdir=function(t){var n=this.fs.realPath(t);try{var e=this.nodefs.readdirSync(n);return e.push(".",".."),e}catch(i){throw i.code?new this.FS.ErrnoError(this.ERRNO_CODES[i.code]):i}},Lt.prototype.symlink=function(t,n,e){var i=this.PATH.join2(this.fs.realPath(t),n);try{this.nodefs.symlinkSync(e,i)}catch(s){throw s.code?new this.FS.ErrnoError(this.ERRNO_CODES[s.code]):s}},Lt.prototype.readlink=function(t){var n=this.fs.realPath(t);try{return this.nodefs.readlinkSync(n)}catch(e){throw e.code?new this.FS.ErrnoError(this.ERRNO_CODES[e.code]):e}};var Ut=function(t,n,e,i){t===void 0&&(t=self.FS),n===void 0&&(n=self.PATH),e===void 0&&(e=self.ERRNO_CODES),i===void 0&&(i=It),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=i,this.FS=t,this.PATH=n,this.ERRNO_CODES=e,this.node_ops=new Lt(this),this.stream_ops=new St(this)};Ut.prototype.mount=function(t){return this.createNode(null,"/",this.getMode(t.opts.root),0)},Ut.prototype.createNode=function(t,n,e,i){var s=this.FS;if(!s.isDir(e)&&!s.isFile(e)&&!s.isLink(e))throw new s.ErrnoError(this.ERRNO_CODES.EINVAL);var u=s.createNode(t,n,e);return u.node_ops=this.node_ops,u.stream_ops=this.stream_ops,u},Ut.prototype.getMode=function(t){var n;try{n=this.nodefs.lstatSync(t)}catch(e){throw e.code?new this.FS.ErrnoError(this.ERRNO_CODES[e.code]):e}return n.mode},Ut.prototype.realPath=function(t){for(var n=[];t.parent!==t;)n.push(t.name),t=t.parent;return n.push(t.mount.opts.root),n.reverse(),this.PATH.join.apply(null,n)},Ut.prototype.flagsToPermissionString=function(t){var n=typeof t=="string"?parseInt(t,10):t;return n&=8191,n in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[n]:t},Ut.prototype.getNodeFS=function(){return this.nodefs},Ut.prototype.getFS=function(){return this.FS},Ut.prototype.getPATH=function(){return this.PATH},Ut.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var yt=function(){};yt.prototype.supportsLinks=function(){return!1},yt.prototype.diskSpace=function(t,n){n(0,0)},yt.prototype.openFile=function(t,n,e){throw new d(h.ENOTSUP)},yt.prototype.createFile=function(t,n,e,i){throw new d(h.ENOTSUP)},yt.prototype.open=function(t,n,e,i){var s=this,u=function(l,m){if(l)switch(n.pathNotExistsAction()){case B.CREATE_FILE:return s.stat(w.dirname(t),!1,function(I,H){I?i(I):H&&!H.isDirectory()?i(d.ENOTDIR(w.dirname(t))):s.createFile(t,n,e,i)});case B.THROW_EXCEPTION:return i(d.ENOENT(t));default:return i(new d(h.EINVAL,"Invalid FileFlag object."))}else{if(m&&m.isDirectory())return i(d.EISDIR(t));switch(n.pathExistsAction()){case B.THROW_EXCEPTION:return i(d.EEXIST(t));case B.TRUNCATE_FILE:return s.openFile(t,n,function(I,H){I?i(I):H?H.truncate(0,function(){H.sync(function(){i(null,H)})}):tt()});case B.NOP:return s.openFile(t,n,i);default:return i(new d(h.EINVAL,"Invalid FileFlag object."))}}};this.stat(t,!1,u)},yt.prototype.rename=function(t,n,e){e(new d(h.ENOTSUP))},yt.prototype.renameSync=function(t,n){throw new d(h.ENOTSUP)},yt.prototype.stat=function(t,n,e){e(new d(h.ENOTSUP))},yt.prototype.statSync=function(t,n){throw new d(h.ENOTSUP)},yt.prototype.openFileSync=function(t,n,e){throw new d(h.ENOTSUP)},yt.prototype.createFileSync=function(t,n,e){throw new d(h.ENOTSUP)},yt.prototype.openSync=function(t,n,e){var i;try{i=this.statSync(t,!1)}catch{switch(n.pathNotExistsAction()){case B.CREATE_FILE:var s=this.statSync(w.dirname(t),!1);if(!s.isDirectory())throw d.ENOTDIR(w.dirname(t));return this.createFileSync(t,n,e);case B.THROW_EXCEPTION:throw d.ENOENT(t);default:throw new d(h.EINVAL,"Invalid FileFlag object.")}}if(i.isDirectory())throw d.EISDIR(t);switch(n.pathExistsAction()){case B.THROW_EXCEPTION:throw d.EEXIST(t);case B.TRUNCATE_FILE:return this.unlinkSync(t),this.createFileSync(t,n,i.mode);case B.NOP:return this.openFileSync(t,n,e);default:throw new d(h.EINVAL,"Invalid FileFlag object.")}},yt.prototype.unlink=function(t,n){n(new d(h.ENOTSUP))},yt.prototype.unlinkSync=function(t){throw new d(h.ENOTSUP)},yt.prototype.rmdir=function(t,n){n(new d(h.ENOTSUP))},yt.prototype.rmdirSync=function(t){throw new d(h.ENOTSUP)},yt.prototype.mkdir=function(t,n,e){e(new d(h.ENOTSUP))},yt.prototype.mkdirSync=function(t,n){throw new d(h.ENOTSUP)},yt.prototype.readdir=function(t,n){n(new d(h.ENOTSUP))},yt.prototype.readdirSync=function(t){throw new d(h.ENOTSUP)},yt.prototype.exists=function(t,n){this.stat(t,null,function(e){n(!e)})},yt.prototype.existsSync=function(t){try{return this.statSync(t,!0),!0}catch{return!1}},yt.prototype.realpath=function(t,n,e){if(this.supportsLinks())for(var i=t.split(w.sep),s=0;s<i.length;s++){var u=i.slice(0,s+1);i[s]=w.join.apply(null,u)}else this.exists(t,function(l){l?e(null,t):e(d.ENOENT(t))})},yt.prototype.realpathSync=function(t,n){if(this.supportsLinks()){for(var e=t.split(w.sep),i=0;i<e.length;i++){var s=e.slice(0,i+1);e[i]=w.join.apply(w,s)}return e.join(w.sep)}else{if(this.existsSync(t))return t;throw d.ENOENT(t)}},yt.prototype.truncate=function(t,n,e){this.open(t,X.getFileFlag("r+"),420,(function(i,s){if(i)return e(i);s.truncate(n,(function(u){s.close((function(l){e(u||l)}))}))}))},yt.prototype.truncateSync=function(t,n){var e=this.openSync(t,X.getFileFlag("r+"),420);try{e.truncateSync(n)}catch(i){throw i}finally{e.closeSync()}},yt.prototype.readFile=function(t,n,e,i){var s=i;this.open(t,e,420,function(u,l){if(u)return i(u);i=function(m,I){l.close(function(H){return m||(m=H),s(m,I)})},l.stat(function(m,I){if(m)return i(m);var H=A.alloc(I.size);l.read(H,0,I.size,0,function(G){if(G)return i(G);if(n===null)return i(G,H);try{i(null,H.toString(n))}catch(st){i(st)}})})})},yt.prototype.readFileSync=function(t,n,e){var i=this.openSync(t,e,420);try{var s=i.statSync(),u=A.alloc(s.size);return i.readSync(u,0,s.size,0),i.closeSync(),n===null?u:u.toString(n)}finally{i.closeSync()}},yt.prototype.writeFile=function(t,n,e,i,s,u){var l=u;this.open(t,i,420,function(m,I){if(m)return u(m);u=function(H){I.close(function(G){l(H||G)})};try{typeof n=="string"&&(n=A.from(n,e))}catch(H){return u(H)}I.write(n,0,n.length,0,u)})},yt.prototype.writeFileSync=function(t,n,e,i,s){var u=this.openSync(t,i,s);try{typeof n=="string"&&(n=A.from(n,e)),u.writeSync(n,0,n.length,0)}finally{u.closeSync()}},yt.prototype.appendFile=function(t,n,e,i,s,u){var l=u;this.open(t,i,s,function(m,I){if(m)return u(m);u=function(H){I.close(function(G){l(H||G)})},typeof n=="string"&&(n=A.from(n,e)),I.write(n,0,n.length,null,u)})},yt.prototype.appendFileSync=function(t,n,e,i,s){var u=this.openSync(t,i,s);try{typeof n=="string"&&(n=A.from(n,e)),u.writeSync(n,0,n.length,null)}finally{u.closeSync()}},yt.prototype.chmod=function(t,n,e,i){i(new d(h.ENOTSUP))},yt.prototype.chmodSync=function(t,n,e){throw new d(h.ENOTSUP)},yt.prototype.chown=function(t,n,e,i,s){s(new d(h.ENOTSUP))},yt.prototype.chownSync=function(t,n,e,i){throw new d(h.ENOTSUP)},yt.prototype.utimes=function(t,n,e,i){i(new d(h.ENOTSUP))},yt.prototype.utimesSync=function(t,n,e){throw new d(h.ENOTSUP)},yt.prototype.link=function(t,n,e){e(new d(h.ENOTSUP))},yt.prototype.linkSync=function(t,n){throw new d(h.ENOTSUP)},yt.prototype.symlink=function(t,n,e,i){i(new d(h.ENOTSUP))},yt.prototype.symlinkSync=function(t,n,e){throw new d(h.ENOTSUP)},yt.prototype.readlink=function(t,n){n(new d(h.ENOTSUP))},yt.prototype.readlinkSync=function(t){throw new d(h.ENOTSUP)};var me=(function(r){function t(){r.apply(this,arguments)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.supportsSynch=function(){return!0},t.prototype.rename=function(e,i,s){try{this.renameSync(e,i),s()}catch(u){s(u)}},t.prototype.stat=function(e,i,s){try{s(null,this.statSync(e,i))}catch(u){s(u)}},t.prototype.open=function(e,i,s,u){try{u(null,this.openSync(e,i,s))}catch(l){u(l)}},t.prototype.unlink=function(e,i){try{this.unlinkSync(e),i()}catch(s){i(s)}},t.prototype.rmdir=function(e,i){try{this.rmdirSync(e),i()}catch(s){i(s)}},t.prototype.mkdir=function(e,i,s){try{this.mkdirSync(e,i),s()}catch(u){s(u)}},t.prototype.readdir=function(e,i){try{i(null,this.readdirSync(e))}catch(s){i(s)}},t.prototype.chmod=function(e,i,s,u){try{this.chmodSync(e,i,s),u()}catch(l){u(l)}},t.prototype.chown=function(e,i,s,u,l){try{this.chownSync(e,i,s,u),l()}catch(m){l(m)}},t.prototype.utimes=function(e,i,s,u){try{this.utimesSync(e,i,s),u()}catch(l){u(l)}},t.prototype.link=function(e,i,s){try{this.linkSync(e,i),s()}catch(u){s(u)}},t.prototype.symlink=function(e,i,s,u){try{this.symlinkSync(e,i,s),u()}catch(l){u(l)}},t.prototype.readlink=function(e,i){try{i(null,this.readlinkSync(e))}catch(s){i(s)}},t})(yt),zt=function(){};zt.prototype.sync=function(t){t(new d(h.ENOTSUP))},zt.prototype.syncSync=function(){throw new d(h.ENOTSUP)},zt.prototype.datasync=function(t){this.sync(t)},zt.prototype.datasyncSync=function(){return this.syncSync()},zt.prototype.chown=function(t,n,e){e(new d(h.ENOTSUP))},zt.prototype.chownSync=function(t,n){throw new d(h.ENOTSUP)},zt.prototype.chmod=function(t,n){n(new d(h.ENOTSUP))},zt.prototype.chmodSync=function(t){throw new d(h.ENOTSUP)},zt.prototype.utimes=function(t,n,e){e(new d(h.ENOTSUP))},zt.prototype.utimesSync=function(t,n){throw new d(h.ENOTSUP)};var Te=(function(r){function t(n,e,i,s,u){if(r.call(this),this._pos=0,this._dirty=!1,this._fs=n,this._path=e,this._flag=i,this._stat=s,u?this._buffer=u:this._buffer=se(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.getBuffer=function(){return this._buffer},t.prototype.getStats=function(){return this._stat},t.prototype.getFlag=function(){return this._flag},t.prototype.getPath=function(){return this._path},t.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},t.prototype.advancePos=function(e){return this._pos+=e},t.prototype.setPos=function(e){return this._pos=e},t.prototype.sync=function(e){try{this.syncSync(),e()}catch(i){e(i)}},t.prototype.syncSync=function(){throw new d(h.ENOTSUP)},t.prototype.close=function(e){try{this.closeSync(),e()}catch(i){e(i)}},t.prototype.closeSync=function(){throw new d(h.ENOTSUP)},t.prototype.stat=function(e){try{e(null,this._stat.clone())}catch(i){e(i)}},t.prototype.statSync=function(){return this._stat.clone()},t.prototype.truncate=function(e,i){try{this.truncateSync(e),this._flag.isSynchronous()&&!It.getRootFS().supportsSynch()&&this.sync(i),i()}catch(s){return i(s)}},t.prototype.truncateSync=function(e){if(this._dirty=!0,!this._flag.isWriteable())throw new d(h.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,e>this._buffer.length){var i=A.alloc(e-this._buffer.length,0);this.writeSync(i,0,i.length,this._buffer.length),this._flag.isSynchronous()&&It.getRootFS().supportsSynch()&&this.syncSync();return}this._stat.size=e;var s=A.alloc(e);this._buffer.copy(s,0,0,e),this._buffer=s,this._flag.isSynchronous()&&It.getRootFS().supportsSynch()&&this.syncSync()},t.prototype.write=function(e,i,s,u,l){try{l(null,this.writeSync(e,i,s,u),e)}catch(m){l(m)}},t.prototype.writeSync=function(e,i,s,u){if(this._dirty=!0,u==null&&(u=this.getPos()),!this._flag.isWriteable())throw new d(h.EPERM,"File not opened with a writeable mode.");var l=u+s;if(l>this._stat.size&&(this._stat.size=l,l>this._buffer.length)){var m=A.alloc(l);this._buffer.copy(m),this._buffer=m}var I=e.copy(this._buffer,u,i,i+s);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),I):(this.setPos(u+I),I)},t.prototype.read=function(e,i,s,u,l){try{l(null,this.readSync(e,i,s,u),e)}catch(m){l(m)}},t.prototype.readSync=function(e,i,s,u){if(!this._flag.isReadable())throw new d(h.EPERM,"File not opened with a readable mode.");u==null&&(u=this.getPos());var l=u+s;l>this._stat.size&&(s=this._stat.size-u);var m=this._buffer.copy(e,i,u,u+s);return this._stat.atime=new Date,this._pos=u+s,m},t.prototype.chmod=function(e,i){try{this.chmodSync(e),i()}catch(s){i(s)}},t.prototype.chmodSync=function(e){if(!this._fs.supportsProps())throw new d(h.ENOTSUP);this._dirty=!0,this._stat.chmod(e),this.syncSync()},t.prototype.isDirty=function(){return this._dirty},t.prototype.resetDirty=function(){this._dirty=!1},t})(zt),Le=(function(r){function t(n,e,i,s,u){r.call(this,n,e,i,s,u)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){e()},t.prototype.syncSync=function(){},t.prototype.close=function(e){e()},t.prototype.closeSync=function(){},t})(Te),He=(function(r){function t(n,e,i,s,u){r.call(this,n,e,i,s,u)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},t.prototype.closeSync=function(){this.syncSync()},t})(Te),D=(function(r){function t(n,e,i){if(i===void 0&&(i=!0),r.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=n,this._async=e,!n.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");jt(i,t.Name,{sync:"sync file system instance",async:"async file system instance"})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){try{var s=new t(e.sync,e.async,!1);s.initialize(function(u){u?i(u):i(null,s)},!1)}catch(u){i(u)}},t.isAvailable=function(){return!0},t.prototype.getName=function(){return t.Name},t.prototype._syncSync=function(e){this._sync.writeFileSync(e.getPath(),e.getBuffer(),null,X.getFileFlag("w"),e.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[e.getPath(),e.getBuffer(),null,e.getFlag(),e.getStats().mode]})},t.prototype.initialize=function(e,i){var s=this;i===void 0&&(i=!0),i&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var u=this._initializeCallbacks,l=function(G){s._isInitialized=!G,s._initializeCallbacks=[],u.forEach(function(st){return st(G)})};if(this._isInitialized)e();else if(u.push(e)===1){var m=function(G,st,wt){G!=="/"&&s._sync.mkdirSync(G,st),s._async.readdir(G,function(_t,At){var Wt=0;function te(xe){xe?wt(xe):Wt<At.length?(H(w.join(G,At[Wt]),te),Wt++):wt()}_t?wt(_t):te()})},I=function(G,st,wt){s._async.readFile(G,null,X.getFileFlag("r"),function(_t,At){if(_t)wt(_t);else try{s._sync.writeFileSync(G,At,null,X.getFileFlag("w"),st)}catch(Wt){_t=Wt}finally{wt(_t)}})},H=function(G,st){s._async.stat(G,!1,function(wt,_t){wt?st(wt):_t.isDirectory()?m(G,_t.mode,st):I(G,_t.mode,st)})};m("/",0,l)}},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},t.prototype.renameSync=function(e,i){this.checkInitialized(),this._sync.renameSync(e,i),this.enqueueOp({apiMethod:"rename",arguments:[e,i]})},t.prototype.statSync=function(e,i){return this.checkInitialized(),this._sync.statSync(e,i)},t.prototype.openSync=function(e,i,s){this.checkInitialized();var u=this._sync.openSync(e,i,s);return u.closeSync(),new He(this,e,i,this._sync.statSync(e,!1),this._sync.readFileSync(e,null,X.getFileFlag("r")))},t.prototype.unlinkSync=function(e){this.checkInitialized(),this._sync.unlinkSync(e),this.enqueueOp({apiMethod:"unlink",arguments:[e]})},t.prototype.rmdirSync=function(e){this.checkInitialized(),this._sync.rmdirSync(e),this.enqueueOp({apiMethod:"rmdir",arguments:[e]})},t.prototype.mkdirSync=function(e,i){this.checkInitialized(),this._sync.mkdirSync(e,i),this.enqueueOp({apiMethod:"mkdir",arguments:[e,i]})},t.prototype.readdirSync=function(e){return this.checkInitialized(),this._sync.readdirSync(e)},t.prototype.existsSync=function(e){return this.checkInitialized(),this._sync.existsSync(e)},t.prototype.chmodSync=function(e,i,s){this.checkInitialized(),this._sync.chmodSync(e,i,s),this.enqueueOp({apiMethod:"chmod",arguments:[e,i,s]})},t.prototype.chownSync=function(e,i,s,u){this.checkInitialized(),this._sync.chownSync(e,i,s,u),this.enqueueOp({apiMethod:"chown",arguments:[e,i,s,u]})},t.prototype.utimesSync=function(e,i,s){this.checkInitialized(),this._sync.utimesSync(e,i,s),this.enqueueOp({apiMethod:"utimes",arguments:[e,i,s]})},t.prototype.checkInitialized=function(){if(!this._isInitialized)throw new d(h.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},t.prototype.enqueueOp=function(e){var i=this;if(this._queue.push(e),!this._queueRunning){this._queueRunning=!0;var s=function(u){if(u&&console.error("WARNING: File system has desynchronized. Received following error: "+u+`
$`),i._queue.length>0){var l=i._queue.shift(),m=l.arguments;m.push(s),i._async[l.apiMethod].apply(i._async,m)}else i._queueRunning=!1};s()}},t})(me);D.Name="AsyncMirror",D.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};function y(r,t,n){switch(n.length){case 0:return r.call(t);case 1:return r.call(t,n[0]);case 2:return r.call(t,n[0],n[1]);case 3:return r.call(t,n[0],n[1],n[2])}return r.apply(t,n)}var v=Math.max;function C(r,t,n){return t=v(t===void 0?r.length-1:t,0),function(){for(var e=arguments,i=-1,s=v(e.length-t,0),u=Array(s);++i<s;)u[i]=e[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=e[i];return l[t]=n(u),y(r,this,l)}}function Q(r){return r}function ot(r,t){return C(r,t,Q)}var ht=function(r){return ot(function(t){var n=t.pop();r.call(this,t,n)})};function Qt(r){return ot(function(t,n){var e=ht(function(i,s){var u=this;return r(t,function(l,m){l.apply(u,i.concat(m))},s)});return n.length?e.apply(this,n):e})}var re=typeof q=="object"&&q&&q.Object===Object&&q,ue=typeof self=="object"&&self&&self.Object===Object&&self,we=re||ue||Function("return this")(),ie=we.Symbol,Je=Object.prototype,gn=Je.hasOwnProperty,nn=Je.toString,sn=ie?ie.toStringTag:void 0;function Gn(r){var t=gn.call(r,sn),n=r[sn];try{r[sn]=void 0;var e=!0}catch{}var i=nn.call(r);return e&&(t?r[sn]=n:delete r[sn]),i}var mn=Object.prototype,wn=mn.toString;function rt(r){return wn.call(r)}var xt="[object Null]",x="[object Undefined]",Rt=ie?ie.toStringTag:void 0;function fe(r){return r==null?r===void 0?x:xt:Rt&&Rt in Object(r)?Gn(r):rt(r)}function bt(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}var Ae="[object AsyncFunction]",Ot="[object Function]",Oe="[object GeneratorFunction]",ut="[object Proxy]";function ct(r){if(!bt(r))return!1;var t=fe(r);return t==Ot||t==Oe||t==Ae||t==ut}var Tn=9007199254740991;function le(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Tn}function Dt(r){return r!=null&&le(r.length)&&!ct(r)}var Ce={};function Pe(){}function ae(r){return function(){if(r!==null){var t=r;r=null,t.apply(this,arguments)}}}var oe=typeof Symbol=="function"&&Symbol.iterator,Fe=function(r){return oe&&r[oe]&&r[oe]()};function Ne(r,t){for(var n=-1,e=Array(r);++n<r;)e[n]=t(n);return e}function de(r){return r!=null&&typeof r=="object"}var Mt="[object Arguments]";function cn(r){return de(r)&&fe(r)==Mt}var _e=Object.prototype,Ve=_e.hasOwnProperty,ke=_e.propertyIsEnumerable,Me=cn((function(){return arguments})())?cn:function(r){return de(r)&&Ve.call(r,"callee")&&!ke.call(r,"callee")},Xe=Array.isArray;function Kn(){return!1}var Vr=typeof M=="object"&&M&&!M.nodeType&&M,Xr=Vr&&typeof R=="object"&&R&&!R.nodeType&&R,Yr=Xr&&Xr.exports===Vr,Zr=Yr?we.Buffer:void 0,qr=Zr?Zr.isBuffer:void 0,Gr=qr||Kn,Jn=9007199254740991,Kr=/^(?:0|[1-9]\d*)$/;function mr(r,t){return t=t??Jn,!!t&&(typeof r=="number"||Kr.test(r))&&r>-1&&r%1==0&&r<t}var Jr="[object Arguments]",Pi="[object Array]",wr="[object Boolean]",Mi="[object Date]",_r="[object Error]",zi="[object Function]",ji="[object Map]",Ui="[object Number]",Bi="[object Object]",Wi="[object RegExp]",Qr="[object Set]",Qn="[object String]",On="[object WeakMap]",Sr="[object ArrayBuffer]",$n="[object DataView]",un="[object Float32Array]",Ln="[object Float64Array]",Hi="[object Int8Array]",$r="[object Int16Array]",ti="[object Int32Array]",Er="[object Uint8Array]",Vi="[object Uint8ClampedArray]",Xi="[object Uint16Array]",ei="[object Uint32Array]",ye={};ye[un]=ye[Ln]=ye[Hi]=ye[$r]=ye[ti]=ye[Er]=ye[Vi]=ye[Xi]=ye[ei]=!0,ye[Jr]=ye[Pi]=ye[Sr]=ye[wr]=ye[$n]=ye[Mi]=ye[_r]=ye[zi]=ye[ji]=ye[Ui]=ye[Bi]=ye[Wi]=ye[Qr]=ye[Qn]=ye[On]=!1;function Yi(r){return de(r)&&le(r.length)&&!!ye[fe(r)]}function ni(r){return function(t){return r(t)}}var br=typeof M=="object"&&M&&!M.nodeType&&M,ri=br&&typeof R=="object"&&R&&!R.nodeType&&R,Ir=ri&&ri.exports===br,xr=Ir&&re.process,Tr=(function(){try{return xr&&xr.binding&&xr.binding("util")}catch{}})(),ii=Tr&&Tr.isTypedArray,tr=ii?ni(ii):Yi,Zi=Object.prototype,oi=Zi.hasOwnProperty;function ai(r,t){var n=Xe(r),e=!n&&Me(r),i=!n&&!e&&Gr(r),s=!n&&!e&&!i&&tr(r),u=n||e||i||s,l=u?Ne(r.length,String):[],m=l.length;for(var I in r)oi.call(r,I)&&!(u&&(I=="length"||i&&(I=="offset"||I=="parent")||s&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||mr(I,m)))&&l.push(I);return l}var qi=Object.prototype;function si(r){var t=r&&r.constructor,n=typeof t=="function"&&t.prototype||qi;return r===n}function ci(r,t){return function(n){return r(t(n))}}var Gi=ci(Object.keys,Object),An=Object.prototype,er=An.hasOwnProperty;function Ki(r){if(!si(r))return Gi(r);var t=[];for(var n in Object(r))er.call(r,n)&&n!="constructor"&&t.push(n);return t}function Or(r){return Dt(r)?ai(r):Ki(r)}function ui(r){var t=-1,n=r.length;return function(){return++t<n?{value:r[t],key:t}:null}}function Ji(r){var t=-1;return function(){var e=r.next();return e.done?null:(t++,{value:e.value,key:t})}}function kr(r){var t=Or(r),n=-1,e=t.length;return function(){var s=t[++n];return n<e?{value:r[s],key:s}:null}}function fi(r){if(Dt(r))return ui(r);var t=Fe(r);return t?Ji(t):kr(r)}function Rr(r){return function(){if(r===null)throw new Error("Callback was already called.");var t=r;r=null,t.apply(this,arguments)}}function nr(r){return function(t,n,e){if(e=ae(e||Pe),r<=0||!t)return e(null);var i=fi(t),s=!1,u=0;function l(I,H){if(u-=1,I)s=!0,e(I);else{if(H===Ce||s&&u<=0)return s=!0,e(null);m()}}function m(){for(;u<r&&!s;){var I=i();if(I===null){s=!0,u<=0&&e(null);return}u+=1,n(I.value,I.key,Rr(l))}}m()}}function li(r,t,n,e){nr(t)(r,n,e)}function Fr(r,t){return function(n,e,i){return r(n,t,e,i)}}function fn(r,t,n){n=ae(n||Pe);var e=0,i=0,s=r.length;s===0&&n(null);function u(l,m){l?n(l):(++i===s||m===Ce)&&n(null)}for(;e<s;e++)t(r[e],e,Rr(u))}var Qi=Fr(li,1/0),hi=function(r,t,n){var e=Dt(r)?fn:Qi;e(r,t,n)};function $i(r){return function(t,n,e){return r(hi,t,n,e)}}function Dr(r,t,n,e){e=e||Pe,t=t||[];var i=[],s=0;r(t,function(u,l,m){var I=s++;n(u,function(H,G){i[I]=G,m(H)})},function(u){e(u,i)})}var pi=$i(Dr);Qt(pi);function ze(r){return function(t,n,e,i){return r(nr(n),t,e,i)}}var to=ze(Dr),eo=Fr(to,1);Qt(eo),ot(function(r,t){return ot(function(n){return r.apply(null,t.concat(n))})});function no(r,t){for(var n=-1,e=r==null?0:r.length;++n<e&&t(r[n],n,r)!==!1;);return r}var di=typeof setImmediate=="function"&&setImmediate,yi=typeof U=="object"&&typeof U.nextTick=="function";function vi(r){setTimeout(r,0)}function gi(r){return ot(function(t,n){r(function(){t.apply(null,n)})})}var rr;di?rr=setImmediate:yi?rr=U.nextTick:rr=vi,gi(rr);var mi=Fr(li,1);function ir(r,t,n,e){e=ae(e||Pe),mi(r,function(i,s,u){n(t,i,function(l,m){t=m,u(l)})},function(i){e(i,t)})}var _n=ot(function(t){return ot(function(n){var e=this,i=n[n.length-1];typeof i=="function"?n.pop():i=Pe,ir(t,n,function(s,u,l){u.apply(e,s.concat(ot(function(m,I){l(m,I)})))},function(s,u){i.apply(e,[s].concat(u))})})});ot(function(r){return _n.apply(null,r.reverse())}),ot(function(r){var t=[null].concat(r);return ht(function(n,e){return e.apply(this,t)})});function Cn(r){return ot(function(t,n){t.apply(null,n.concat(ot(function(e,i){typeof console=="object"&&(e?console.error&&console.error(e):console[r]&&no(i,function(s){console[r](s)}))})))})}Cn("dir");function ro(r){return function(t,n,e){return r(t,e)}}function Nr(r,t,n){hi(r,ro(t),n)}Cn("log");var Pn;yi?Pn=U.nextTick:di?Pn=setImmediate:Pn=vi,gi(Pn);var je;function Mn(){je||(je={},je[Dropbox.ApiError.NETWORK_ERROR]=h.EIO,je[Dropbox.ApiError.INVALID_PARAM]=h.EINVAL,je[Dropbox.ApiError.INVALID_TOKEN]=h.EPERM,je[Dropbox.ApiError.OAUTH_ERROR]=h.EPERM,je[Dropbox.ApiError.NOT_FOUND]=h.ENOENT,je[Dropbox.ApiError.INVALID_METHOD]=h.EINVAL,je[Dropbox.ApiError.NOT_ACCEPTABLE]=h.EINVAL,je[Dropbox.ApiError.CONFLICT]=h.EINVAL,je[Dropbox.ApiError.RATE_LIMITED]=h.EBUSY,je[Dropbox.ApiError.SERVER_ERROR]=h.EBUSY,je[Dropbox.ApiError.OVER_QUOTA]=h.ENOSPC)}function io(r){return r&&r.stat.isFile}function oo(r){return r&&r.stat.isFolder}function ao(r){return r==null||typeof r=="object"&&typeof r.byteLength=="number"}var De=function(t){this._cache={},this._client=t};De.prototype.readdir=function(t,n){var e=this,i=this.getCachedDirInfo(t);this._wrap(function(s){i!==null&&i.contents?e._client.readdir(t,{contentHash:i.stat.contentHash},s):e._client.readdir(t,s)},function(s,u,l,m){s?s.status===Dropbox.ApiError.NO_CONTENT&&i!==null?n(null,i.contents.slice(0)):n(s):(e.updateCachedDirInfo(t,l,u.slice(0)),m.forEach(function(I){e.updateCachedInfo(w.join(t,I.name),I)}),n(null,u))})},De.prototype.remove=function(t,n){var e=this;this._wrap(function(i){e._client.remove(t,i)},function(i,s){i||e.updateCachedInfo(t,s),n(i)})},De.prototype.move=function(t,n,e){var i=this;this._wrap(function(s){i._client.move(t,n,s)},function(s,u){s||(i.deleteCachedInfo(t),i.updateCachedInfo(n,u)),e(s)})},De.prototype.stat=function(t,n){var e=this;this._wrap(function(i){e._client.stat(t,i)},function(i,s){i||e.updateCachedInfo(t,s),n(i,s)})},De.prototype.readFile=function(t,n){var e=this,i=this.getCachedFileInfo(t);i!==null&&i.contents!==null?this.stat(t,function(s,u){s?n(s):u.contentHash===i.stat.contentHash?n(s,i.contents.slice(0),i.stat):e.readFile(t,n)}):this._wrap(function(s){e._client.readFile(t,{arrayBuffer:!0},s)},function(s,u,l){s||e.updateCachedInfo(t,l,u.slice(0)),n(s,u,l)})},De.prototype.writeFile=function(t,n,e){var i=this;this._wrap(function(s){i._client.writeFile(t,n,s)},function(s,u){s||i.updateCachedInfo(t,u,n.slice(0)),e(s,u)})},De.prototype.mkdir=function(t,n){var e=this;this._wrap(function(i){e._client.mkdir(t,i)},function(i,s){i||e.updateCachedInfo(t,s,[]),n(i)})},De.prototype._wrap=function(t,n){var e=0,i=function(s){var u=2;if(s&&3>++e)switch(s.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){t(i)},u*1e3);break;default:n.apply(null,arguments);break}else n.apply(null,arguments)};t(i)},De.prototype.getCachedInfo=function(t){return this._cache[t.toLowerCase()]},De.prototype.putCachedInfo=function(t,n){this._cache[t.toLowerCase()]=n},De.prototype.deleteCachedInfo=function(t){delete this._cache[t.toLowerCase()]},De.prototype.getCachedDirInfo=function(t){var n=this.getCachedInfo(t);return oo(n)?n:null},De.prototype.getCachedFileInfo=function(t){var n=this.getCachedInfo(t);return io(n)?n:null},De.prototype.updateCachedDirInfo=function(t,n,e){e===void 0&&(e=null);var i=this.getCachedInfo(t);n.contentHash!==null&&(i===void 0||i.stat.contentHash!==n.contentHash)&&this.putCachedInfo(t,{stat:n,contents:e})},De.prototype.updateCachedFileInfo=function(t,n,e){e===void 0&&(e=null);var i=this.getCachedInfo(t);n.versionTag!==null&&(i===void 0||i.stat.versionTag!==n.versionTag)&&this.putCachedInfo(t,{stat:n,contents:e})},De.prototype.updateCachedInfo=function(t,n,e){e===void 0&&(e=null),n.isFile&&ao(e)?this.updateCachedFileInfo(t,n,e):n.isFolder&&Array.isArray(e)&&this.updateCachedDirInfo(t,n,e)};var so=(function(r){function t(n,e,i,s,u){r.call(this,n,e,i,s,u)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var i=this;if(this.isDirty()){var s=this.getBuffer(),u=dt(s);this._fs._writeFileStrict(this.getPath(),u,function(l){l||i.resetDirty(),e(l)})}else e()},t.prototype.close=function(e){this.sync(e)},t})(Te),or=(function(r){function t(n,e){e===void 0&&(e=!0),r.call(this),this._client=new De(n),jt(e,t.Name,{client:"authenticated dropbox client instance"}),Mn()}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){i(null,new t(e.client,!1))},t.isAvailable=function(){return typeof Dropbox<"u"},t.prototype.getName=function(){return t.Name},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!1},t.prototype.empty=function(e){var i=this;this._client.readdir("/",function(s,u){if(s)e(i.convert(s,"/"));else{var l=function(I,H){var G=w.join("/",I);i._client.remove(G,function(st){H(st?i.convert(st,G):null)})},m=function(I){I?e(I):e()};Nr(u,l,m)}})},t.prototype.rename=function(e,i,s){var u=this;this._client.move(e,i,function(l){l?u._client.stat(i,function(m,I){if(m||I.isFolder){var H=l.response.error.indexOf(e)>-1?e:i;s(u.convert(l,H))}else u._client.remove(i,function(G){G?s(u.convert(G,i)):u.rename(e,i,s)})}):s()})},t.prototype.stat=function(e,i,s){var u=this;this._client.stat(e,function(l,m){if(l)s(u.convert(l,e));else if(m&&m.isRemoved)s(d.FileError(h.ENOENT,e));else{var I=new J(u._statType(m),m.size);return s(null,I)}})},t.prototype.open=function(e,i,s,u){var l=this;this._client.readFile(e,function(m,I,H){if(m)if(i.isReadable())u(l.convert(m,e));else if(m.status===Dropbox.ApiError.NOT_FOUND){var G=new ArrayBuffer(0);return l._writeFileStrict(e,G,function(_t,At){if(_t)u(_t);else{var Wt=l._makeFile(e,i,At,Vt(G));u(null,Wt)}})}else return u(l.convert(m,e));else{var st;I===null?st=se():st=Vt(I);var wt=l._makeFile(e,i,H,st);return u(null,wt)}})},t.prototype._writeFileStrict=function(e,i,s){var u=this,l=w.dirname(e);this.stat(l,!1,function(m,I){m?s(d.FileError(h.ENOENT,l)):u._client.writeFile(e,i,function(H,G){H?s(u.convert(H,e)):s(null,G)})})},t.prototype._statType=function(e){return e.isFile?K.FILE:K.DIRECTORY},t.prototype._makeFile=function(e,i,s,u){var l=this._statType(s),m=new J(l,s.size);return new so(this,e,i,m,u)},t.prototype._remove=function(e,i,s){var u=this;this._client.stat(e,function(l,m){l?i(u.convert(l,e)):m.isFile&&!s?i(d.FileError(h.ENOTDIR,e)):!m.isFile&&s?i(d.FileError(h.EISDIR,e)):u._client.remove(e,function(I){i(I?u.convert(I,e):null)})})},t.prototype.unlink=function(e,i){this._remove(e,i,!0)},t.prototype.rmdir=function(e,i){this._remove(e,i,!1)},t.prototype.mkdir=function(e,i,s){var u=this,l=w.dirname(e);this._client.stat(l,function(m,I){m?s(u.convert(m,l)):u._client.mkdir(e,function(H){s(H?d.FileError(h.EEXIST,e):null)})})},t.prototype.readdir=function(e,i){var s=this;this._client.readdir(e,function(u,l){return u?i(s.convert(u)):i(null,l)})},t.prototype.convert=function(e,i){i===void 0&&(i=null);var s=je[e.status];return s===void 0&&(s=h.EIO),i?d.FileError(s,i):new d(s)},t})(yt);or.Name="Dropbox",or.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(r,t){r.isAuthenticated&&r.isAuthenticated()?t():t(new d(h.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};function ve(r,t){t===void 0&&(t="");for(var n=r.errno,e=r.node,i=[];e&&(i.unshift(e.name),e!==e.parent);)e=e.parent;return new d(n,O[n],i.length>0?"/"+i.join("/"):t)}var co=(function(r){function t(n,e,i,s){r.call(this),this._fs=n,this._FS=e,this._path=i,this._stream=s}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.getPos=function(){},t.prototype.close=function(e){var i=null;try{this.closeSync()}catch(s){i=s}finally{e(i)}},t.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(e){throw ve(e,this._path)}},t.prototype.stat=function(e){try{e(null,this.statSync())}catch(i){e(i)}},t.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(e){throw ve(e,this._path)}},t.prototype.truncate=function(e,i){var s=null;try{this.truncateSync(e)}catch(u){s=u}finally{i(s)}},t.prototype.truncateSync=function(e){try{this._FS.ftruncate(this._stream.fd,e)}catch(i){throw ve(i,this._path)}},t.prototype.write=function(e,i,s,u,l){try{l(null,this.writeSync(e,i,s,u),e)}catch(m){l(m)}},t.prototype.writeSync=function(e,i,s,u){try{var l=Ft(e),m=u===null?void 0:u;return this._FS.write(this._stream,l,i,s,m)}catch(I){throw ve(I,this._path)}},t.prototype.read=function(e,i,s,u,l){try{l(null,this.readSync(e,i,s,u),e)}catch(m){l(m)}},t.prototype.readSync=function(e,i,s,u){try{var l=Ft(e),m=u===null?void 0:u;return this._FS.read(this._stream,l,i,s,m)}catch(I){throw ve(I,this._path)}},t.prototype.sync=function(e){e()},t.prototype.syncSync=function(){},t.prototype.chown=function(e,i,s){var u=null;try{this.chownSync(e,i)}catch(l){u=l}finally{s(u)}},t.prototype.chownSync=function(e,i){try{this._FS.fchown(this._stream.fd,e,i)}catch(s){throw ve(s,this._path)}},t.prototype.chmod=function(e,i){var s=null;try{this.chmodSync(e)}catch(u){s=u}finally{i(s)}},t.prototype.chmodSync=function(e){try{this._FS.fchmod(this._stream.fd,e)}catch(i){throw ve(i,this._path)}},t.prototype.utimes=function(e,i,s){var u=null;try{this.utimesSync(e,i)}catch(l){u=l}finally{s(u)}},t.prototype.utimesSync=function(e,i){this._fs.utimesSync(this._path,e,i)},t})(zt),Sn=(function(r){function t(n){r.call(this),this._FS=n}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){i(null,new t(e.FS))},t.isAvailable=function(){return!0},t.prototype.getName=function(){return this._FS.DB_NAME()},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsLinks=function(){return!0},t.prototype.supportsProps=function(){return!0},t.prototype.supportsSynch=function(){return!0},t.prototype.renameSync=function(e,i){try{this._FS.rename(e,i)}catch(s){throw s.errno===h.ENOENT?ve(s,this.existsSync(e)?i:e):ve(s)}},t.prototype.statSync=function(e,i){try{var s=i?this._FS.lstat(e):this._FS.stat(e),u=this.modeToFileType(s.mode);return new J(u,s.size,s.mode,s.atime,s.mtime,s.ctime)}catch(l){throw ve(l,e)}},t.prototype.openSync=function(e,i,s){try{var u=this._FS.open(e,i.getFlagString(),s);if(this._FS.isDir(u.node.mode))throw this._FS.close(u),d.EISDIR(e);return new co(this,this._FS,e,u)}catch(l){throw ve(l,e)}},t.prototype.unlinkSync=function(e){try{this._FS.unlink(e)}catch(i){throw ve(i,e)}},t.prototype.rmdirSync=function(e){try{this._FS.rmdir(e)}catch(i){throw ve(i,e)}},t.prototype.mkdirSync=function(e,i){try{this._FS.mkdir(e,i)}catch(s){throw ve(s,e)}},t.prototype.readdirSync=function(e){try{return this._FS.readdir(e).filter(function(i){return i!=="."&&i!==".."})}catch(i){throw ve(i,e)}},t.prototype.truncateSync=function(e,i){try{this._FS.truncate(e,i)}catch(s){throw ve(s,e)}},t.prototype.readFileSync=function(e,i,s){try{var u=this._FS.readFile(e,{flags:s.getFlagString()}),l=Ht(u);return i?l.toString(i):l}catch(m){throw ve(m,e)}},t.prototype.writeFileSync=function(e,i,s,u,l){try{s&&(i=A.from(i,s));var m=Ft(i);this._FS.writeFile(e,m,{flags:u.getFlagString(),encoding:"binary"}),this._FS.chmod(e,l)}catch(I){throw ve(I,e)}},t.prototype.chmodSync=function(e,i,s){try{i?this._FS.lchmod(e,s):this._FS.chmod(e,s)}catch(u){throw ve(u,e)}},t.prototype.chownSync=function(e,i,s,u){try{i?this._FS.lchown(e,s,u):this._FS.chown(e,s,u)}catch(l){throw ve(l,e)}},t.prototype.symlinkSync=function(e,i,s){try{this._FS.symlink(e,i)}catch(u){throw ve(u)}},t.prototype.readlinkSync=function(e){try{return this._FS.readlink(e)}catch(i){throw ve(i,e)}},t.prototype.utimesSync=function(e,i,s){try{this._FS.utime(e,i.getTime(),s.getTime())}catch(u){throw ve(u,e)}},t.prototype.modeToFileType=function(e){if(this._FS.isDir(e))return K.DIRECTORY;if(this._FS.isFile(e))return K.FILE;if(this._FS.isLink(e))return K.SYMLINK;throw d.EPERM("Invalid mode: "+e)},t})(me);Sn.Name="EmscriptenFileSystem",Sn.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var kn=(function(r){function t(n,e){r.call(this),this._folder=n,this._wrapped=e}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){i(null,new t(e.folder,e.wrapped))},t.isAvailable=function(){return!0},t.prototype.initialize=function(e){var i=this;this._wrapped.exists(this._folder,function(s){s?e():i._wrapped.isReadOnly()?e(d.ENOENT(i._folder)):i._wrapped.mkdir(i._folder,511,e)})},t.prototype.getName=function(){return this._wrapped.getName()},t.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},t.prototype.supportsProps=function(){return this._wrapped.supportsProps()},t.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},t.prototype.supportsLinks=function(){return!1},t})(yt);kn.Name="FolderAdapter",kn.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}};function ar(r,t){if(t!==null&&typeof t=="object"){var n=t,e=n.path;e&&(e="/"+w.relative(r,e),n.message=n.message.replace(n.path,e),n.path=e)}return t}function uo(r,t){return typeof t=="function"?function(n){arguments.length>0&&(arguments[0]=ar(r,n)),t.apply(null,arguments)}:t}function wi(r,t,n){return r.slice(r.length-4)!=="Sync"?function(){return arguments.length>0&&(arguments[0]=w.join(this._folder,arguments[0]),n&&(arguments[1]=w.join(this._folder,arguments[1])),arguments[arguments.length-1]=uo(this._folder,arguments[arguments.length-1])),this._wrapped[r].apply(this._wrapped,arguments)}:function(){try{return t&&(arguments[0]=w.join(this._folder,arguments[0])),n&&(arguments[1]=w.join(this._folder,arguments[1])),this._wrapped[r].apply(this._wrapped,arguments)}catch(e){throw ar(this._folder,e)}}}["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(r){kn.prototype[r]=wi(r,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(r){kn.prototype[r]=wi(r,!0,!0)});var zn;typeof window<"u"?zn=window:typeof self<"u"?zn=self:zn=q;var ge=zn;function ln(r){return r.isDirectory}var sr=ge.webkitRequestFileSystem||ge.requestFileSystem||null;function Lr(r,t,n,e){if(typeof navigator.webkitPersistentStorage<"u")switch(r){case ge.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(t,n,e);break;case ge.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(t,n,e);break;default:e(new TypeError("Invalid storage type: "+r));break}else ge.webkitStorageInfo.requestQuota(r,t,n,e)}function fo(r){return Array.prototype.slice.call(r||[],0)}function rn(r,t,n){switch(r.name){case"PathExistsError":return d.EEXIST(t);case"QuotaExceededError":return d.FileError(h.ENOSPC,t);case"NotFoundError":return d.ENOENT(t);case"SecurityError":return d.FileError(h.EACCES,t);case"InvalidModificationError":return d.FileError(h.EPERM,t);case"TypeMismatchError":return d.FileError(n?h.ENOTDIR:h.EISDIR,t);default:return d.FileError(h.EINVAL,t)}}var lo=(function(r){function t(n,e,i,s,u,l){r.call(this,n,i,s,u,l),this._entry=e}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var i=this;if(!this.isDirty())return e();this._entry.createWriter(function(s){var u=i.getBuffer(),l=new Blob([dt(u)]),m=l.size;s.onwriteend=function(I){s.onwriteend=null,s.onerror=null,s.truncate(m),i.resetDirty(),e()},s.onerror=function(I){e(rn(I,i.getPath(),!1))},s.write(l)})},t.prototype.close=function(e){this.sync(e)},t})(Te),cr=(function(r){function t(n,e,i){n===void 0&&(n=5),e===void 0&&(e=ge.PERSISTENT),i===void 0&&(i=!0),r.call(this),this.size=1024*1024*n,this.type=e,jt(i,t.Name,{size:n,type:e})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){var s=new t(e.size,e.type,!1);s.allocate(function(u){return u?i(u):i(null,s)},!1)},t.isAvailable=function(){return!!sr},t.prototype.getName=function(){return t.Name},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!1},t.prototype.allocate=function(e,i){var s=this;e===void 0&&(e=function(){}),i===void 0&&(i=!0),i&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var u=function(m){s.fs=m,e()},l=function(m){e(rn(m,"/",!0))};this.type===ge.PERSISTENT?Lr(this.type,this.size,function(m){sr(s.type,m,u,l)},l):sr(this.type,this.size,u,l)},t.prototype.empty=function(e){this._readdir("/",function(i,s){if(i)console.error("Failed to empty FS"),e(i);else{var u=function(m){i?(console.error("Failed to empty FS"),e(i)):e()},l=function(m,I){var H=function(){I()},G=function(st){I(rn(st,m.fullPath,!m.isDirectory))};ln(m)?m.removeRecursively(H,G):m.remove(H,G)};Nr(s,l,u)}})},t.prototype.rename=function(e,i,s){var u=this,l=2,m=0,I=this.fs.root,H=e,G=function(wt){--l<=0&&s(rn(wt,H,!1))},st=function(wt){if(++m===2)return s(new d(h.EINVAL,"Something was identified as both a file and a directory. This should never happen."));if(e===i)return s();H=w.dirname(i),I.getDirectory(H,{},function(_t){H=w.basename(i),wt.moveTo(_t,H,function(At){s()},function(At){wt.isDirectory?(H=i,u.unlink(i,function(Wt){Wt?G(At):u.rename(e,i,s)})):G(At)})},G)};I.getFile(e,{},st,G),I.getDirectory(e,{},st,G)},t.prototype.stat=function(e,i,s){var u=this,l={create:!1},m=function(st){var wt=function(_t){var At=new J(K.FILE,_t.size);s(null,At)};st.file(wt,H)},I=function(st){var wt=4096,_t=new J(K.DIRECTORY,wt);s(null,_t)},H=function(st){s(rn(st,e,!1))},G=function(){u.fs.root.getDirectory(e,l,I,H)};this.fs.root.getFile(e,l,m,G)},t.prototype.open=function(e,i,s,u){var l=this,m=function(I){I.name==="InvalidModificationError"&&i.isExclusive()?u(d.EEXIST(e)):u(rn(I,e,!1))};this.fs.root.getFile(e,{create:i.pathNotExistsAction()===B.CREATE_FILE,exclusive:i.isExclusive()},function(I){I.file(function(H){var G=new FileReader;G.onloadend=function(st){var wt=l._makeFile(e,I,i,H,G.result);u(null,wt)},G.onerror=function(st){m(G.error)},G.readAsArrayBuffer(H)},m)},m)},t.prototype.unlink=function(e,i){this._remove(e,i,!0)},t.prototype.rmdir=function(e,i){var s=this;this.readdir(e,function(u,l){u?i(u):l.length>0?i(d.ENOTEMPTY(e)):s._remove(e,i,!1)})},t.prototype.mkdir=function(e,i,s){var u={create:!0,exclusive:!0},l=function(I){s()},m=function(I){s(rn(I,e,!0))};this.fs.root.getDirectory(e,u,l,m)},t.prototype.readdir=function(e,i){this._readdir(e,function(s,u){if(u){for(var l=[],m=0,I=u;m<I.length;m+=1){var H=I[m];l.push(H.name)}i(null,l)}else return i(s)})},t.prototype._makeFile=function(e,i,s,u,l){l===void 0&&(l=new ArrayBuffer(0));var m=new J(K.FILE,u.size),I=Vt(l);return new lo(this,i,e,s,m,I)},t.prototype._readdir=function(e,i){var s=function(u){i(rn(u,e,!0))};this.fs.root.getDirectory(e,{create:!1},function(u){var l=u.createReader(),m=[],I=function(){l.readEntries((function(H){H.length?(m=m.concat(fo(H)),I()):i(null,m)}),s)};I()},s)},t.prototype._remove=function(e,i,s){var u=function(I){var H=function(){i()},G=function(st){i(rn(st,e,!s))};I.remove(H,G)},l=function(I){i(rn(I,e,!s))},m={create:!1};s?this.fs.root.getFile(e,m,u,l):this.fs.root.getDirectory(e,m,u,l)},t})(yt);cr.Name="HTML5FS",cr.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var Ye=function(t,n,e,i,s,u){this.id=t,this.size=n,this.mode=e,this.atime=i,this.mtime=s,this.ctime=u};Ye.fromBuffer=function(t){if(t===void 0)throw new Error("NO");return new Ye(t.toString("ascii",30),t.readUInt32LE(0),t.readUInt16LE(4),t.readDoubleLE(6),t.readDoubleLE(14),t.readDoubleLE(22))},Ye.prototype.toStats=function(){return new J((this.mode&61440)===K.DIRECTORY?K.DIRECTORY:K.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},Ye.prototype.getSize=function(){return 30+this.id.length},Ye.prototype.toBuffer=function(t){return t===void 0&&(t=A.alloc(this.getSize())),t.writeUInt32LE(this.size,0),t.writeUInt16LE(this.mode,4),t.writeDoubleLE(this.atime,6),t.writeDoubleLE(this.mtime,14),t.writeDoubleLE(this.ctime,22),t.write(this.id,30,this.id.length,"ascii"),t},Ye.prototype.update=function(t){var n=!1;this.size!==t.size&&(this.size=t.size,n=!0),this.mode!==t.mode&&(this.mode=t.mode,n=!0);var e=t.atime.getTime();this.atime!==e&&(this.atime=e,n=!0);var i=t.mtime.getTime();this.mtime!==i&&(this.mtime=i,n=!0);var s=t.ctime.getTime();return this.ctime!==s&&(this.ctime=s,n=!0),n},Ye.prototype.isFile=function(){return(this.mode&61440)===K.FILE},Ye.prototype.isDirectory=function(){return(this.mode&61440)===K.DIRECTORY};var hn="/",Ar=null;function _i(){return Ar||(Ar=A.from("{}"))}function ur(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var t=Math.random()*16|0,n=r==="x"?t:t&3|8;return n.toString(16)})}function Ge(r,t){return r?(t(r),!1):!0}function a(r,t,n){return r?(t.abort(function(){n(r)}),!1):!0}var o=function(t){this.store=t,this.originalData={},this.modifiedKeys=[]};o.prototype.get=function(t){var n=this.store.get(t);return this.stashOldValue(t,n),n},o.prototype.put=function(t,n,e){return this.markModified(t),this.store.put(t,n,e)},o.prototype.del=function(t){this.markModified(t),this.store.del(t)},o.prototype.commit=function(){},o.prototype.abort=function(){for(var t=this,n=0,e=t.modifiedKeys;n<e.length;n+=1){var i=e[n],s=t.originalData[i];s?t.store.put(i,s,!0):t.store.del(i)}},o.prototype.stashOldValue=function(t,n){this.originalData.hasOwnProperty(t)||(this.originalData[t]=n)},o.prototype.markModified=function(t){this.modifiedKeys.indexOf(t)===-1&&(this.modifiedKeys.push(t),this.originalData.hasOwnProperty(t)||(this.originalData[t]=this.store.get(t)))};var c=(function(r){function t(n,e,i,s,u){r.call(this,n,e,i,s,u)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},t.prototype.closeSync=function(){this.syncSync()},t})(Te),f=(function(r){function t(n){r.call(this),this.store=n.store,this.makeRootDirectory()}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.isAvailable=function(){return!0},t.prototype.getName=function(){return this.store.name()},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},t.prototype.renameSync=function(e,i){var s=this.store.beginTransaction("readwrite"),u=w.dirname(e),l=w.basename(e),m=w.dirname(i),I=w.basename(i),H=this.findINode(s,u),G=this.getDirListing(s,u,H);if(!G[l])throw d.ENOENT(e);var st=G[l];if(delete G[l],(m+"/").indexOf(e+"/")===0)throw new d(h.EBUSY,u);var wt,_t;if(m===u?(wt=H,_t=G):(wt=this.findINode(s,m),_t=this.getDirListing(s,m,wt)),_t[I]){var At=this.getINode(s,i,_t[I]);if(At.isFile())try{s.del(At.id),s.del(_t[I])}catch(Wt){throw s.abort(),Wt}else throw d.EPERM(i)}_t[I]=st;try{s.put(H.id,A.from(JSON.stringify(G)),!0),s.put(wt.id,A.from(JSON.stringify(_t)),!0)}catch(Wt){throw s.abort(),Wt}s.commit()},t.prototype.statSync=function(e,i){return this.findINode(this.store.beginTransaction("readonly"),e).toStats()},t.prototype.createFileSync=function(e,i,s){var u=this.store.beginTransaction("readwrite"),l=se(),m=this.commitNewFile(u,e,K.FILE,s,l);return new c(this,e,i,m.toStats(),l)},t.prototype.openFileSync=function(e,i){var s=this.store.beginTransaction("readonly"),u=this.findINode(s,e),l=s.get(u.id);if(l===void 0)throw d.ENOENT(e);return new c(this,e,i,u.toStats(),l)},t.prototype.unlinkSync=function(e){this.removeEntry(e,!1)},t.prototype.rmdirSync=function(e){if(this.readdirSync(e).length>0)throw d.ENOTEMPTY(e);this.removeEntry(e,!0)},t.prototype.mkdirSync=function(e,i){var s=this.store.beginTransaction("readwrite"),u=A.from("{}");this.commitNewFile(s,e,K.DIRECTORY,i,u)},t.prototype.readdirSync=function(e){var i=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(i,e,this.findINode(i,e)))},t.prototype._syncSync=function(e,i,s){var u=this.store.beginTransaction("readwrite"),l=this._findINode(u,w.dirname(e),w.basename(e)),m=this.getINode(u,e,l),I=m.update(s);try{u.put(m.id,i,!0),I&&u.put(l,m.toBuffer(),!0)}catch(H){throw u.abort(),H}u.commit()},t.prototype.makeRootDirectory=function(){var e=this.store.beginTransaction("readwrite");if(e.get(hn)===void 0){var i=new Date().getTime(),s=new Ye(ur(),4096,511|K.DIRECTORY,i,i,i);e.put(s.id,_i(),!1),e.put(hn,s.toBuffer(),!1),e.commit()}},t.prototype._findINode=function(e,i,s){var u=this,l=function(m){var I=u.getDirListing(e,i,m);if(I[s])return I[s];throw d.ENOENT(w.resolve(i,s))};return i==="/"?s===""?hn:l(this.getINode(e,i,hn)):l(this.getINode(e,i+w.sep+s,this._findINode(e,w.dirname(i),w.basename(i))))},t.prototype.findINode=function(e,i){return this.getINode(e,i,this._findINode(e,w.dirname(i),w.basename(i)))},t.prototype.getINode=function(e,i,s){var u=e.get(s);if(u===void 0)throw d.ENOENT(i);return Ye.fromBuffer(u)},t.prototype.getDirListing=function(e,i,s){if(!s.isDirectory())throw d.ENOTDIR(i);var u=e.get(s.id);if(u===void 0)throw d.ENOENT(i);return JSON.parse(u.toString())},t.prototype.addNewNode=function(e,i){for(var s=0,u;s<5;)try{return u=ur(),e.put(u,i,!1),u}catch{}throw new d(h.EIO,"Unable to commit data to key-value store.")},t.prototype.commitNewFile=function(e,i,s,u,l){var m=w.dirname(i),I=w.basename(i),H=this.findINode(e,m),G=this.getDirListing(e,m,H),st=new Date().getTime();if(i==="/"||G[I])throw d.EEXIST(i);var wt;try{var _t=this.addNewNode(e,l);wt=new Ye(_t,l.length,u|s,st,st,st);var At=this.addNewNode(e,wt.toBuffer());G[I]=At,e.put(H.id,A.from(JSON.stringify(G)),!0)}catch(Wt){throw e.abort(),Wt}return e.commit(),wt},t.prototype.removeEntry=function(e,i){var s=this.store.beginTransaction("readwrite"),u=w.dirname(e),l=this.findINode(s,u),m=this.getDirListing(s,u,l),I=w.basename(e);if(!m[I])throw d.ENOENT(e);var H=m[I];delete m[I];var G=this.getINode(s,e,H);if(!i&&G.isDirectory())throw d.EISDIR(e);if(i&&!G.isDirectory())throw d.ENOTDIR(e);try{s.del(G.id),s.del(H),s.put(l.id,A.from(JSON.stringify(m)),!0)}catch(st){throw s.abort(),st}s.commit()},t})(me),p=(function(r){function t(n,e,i,s,u){r.call(this,n,e,i,s,u)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var i=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(s){s||i.resetDirty(),e(s)}):e()},t.prototype.close=function(e){this.sync(e)},t})(Te),g=(function(r){function t(){r.apply(this,arguments)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.isAvailable=function(){return!0},t.prototype.init=function(e,i){this.store=e,this.makeRootDirectory(i)},t.prototype.getName=function(){return this.store.name()},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!1},t.prototype.empty=function(e){var i=this;this.store.clear(function(s){Ge(s,e)&&i.makeRootDirectory(e)})},t.prototype.rename=function(e,i,s){var u=this,l=this.store.beginTransaction("readwrite"),m=w.dirname(e),I=w.basename(e),H=w.dirname(i),G=w.basename(i),st={},wt={},_t=!1;if((H+"/").indexOf(e+"/")===0)return s(new d(h.EBUSY,m));var At=function(){if(!(_t||!wt.hasOwnProperty(m)||!wt.hasOwnProperty(H))){var te=wt[m],xe=st[m],We=wt[H],yn=st[H];if(!te[I])s(d.ENOENT(e));else{var vn=te[I];delete te[I];var pr=function(){We[G]=vn,l.put(xe.id,A.from(JSON.stringify(te)),!0,function(In){a(In,l,s)&&(m===H?l.commit(s):l.put(yn.id,A.from(JSON.stringify(We)),!0,function(xn){a(xn,l,s)&&l.commit(s)}))})};We[G]?u.getINode(l,i,We[G],function(In,xn){a(In,l,s)&&(xn.isFile()?l.del(xn.id,function(ga){a(ga,l,s)&&l.del(We[G],function(Ss){a(Ss,l,s)&&pr()})}):l.abort(function(ga){s(d.EPERM(i))}))}):pr()}}},Wt=function(te){u.findINodeAndDirListing(l,te,function(xe,We,yn){xe?_t||(_t=!0,l.abort(function(){s(xe)})):(st[te]=We,wt[te]=yn,At())})};Wt(m),m!==H&&Wt(H)},t.prototype.stat=function(e,i,s){var u=this.store.beginTransaction("readonly");this.findINode(u,e,function(l,m){Ge(l,s)&&s(null,m.toStats())})},t.prototype.createFile=function(e,i,s,u){var l=this,m=this.store.beginTransaction("readwrite"),I=se();this.commitNewFile(m,e,K.FILE,s,I,function(H,G){Ge(H,u)&&u(null,new p(l,e,i,G.toStats(),I))})},t.prototype.openFile=function(e,i,s){var u=this,l=this.store.beginTransaction("readonly");this.findINode(l,e,function(m,I){Ge(m,s)&&l.get(I.id,function(H,G){Ge(H,s)&&(G===void 0?s(d.ENOENT(e)):s(null,new p(u,e,i,I.toStats(),G)))})})},t.prototype.unlink=function(e,i){this.removeEntry(e,!1,i)},t.prototype.rmdir=function(e,i){var s=this;this.readdir(e,function(u,l){u?i(u):l.length>0?i(d.ENOTEMPTY(e)):s.removeEntry(e,!0,i)})},t.prototype.mkdir=function(e,i,s){var u=this.store.beginTransaction("readwrite"),l=A.from("{}");this.commitNewFile(u,e,K.DIRECTORY,i,l,s)},t.prototype.readdir=function(e,i){var s=this,u=this.store.beginTransaction("readonly");this.findINode(u,e,function(l,m){Ge(l,i)&&s.getDirListing(u,e,m,function(I,H){Ge(I,i)&&i(null,Object.keys(H))})})},t.prototype._sync=function(e,i,s,u){var l=this,m=this.store.beginTransaction("readwrite");this._findINode(m,w.dirname(e),w.basename(e),function(I,H){a(I,m,u)&&l.getINode(m,e,H,function(G,st){if(a(G,m,u)){var wt=st.update(s);m.put(st.id,i,!0,function(_t){a(_t,m,u)&&(wt?m.put(H,st.toBuffer(),!0,function(At){a(At,m,u)&&m.commit(u)}):m.commit(u))})}})})},t.prototype.makeRootDirectory=function(e){var i=this.store.beginTransaction("readwrite");i.get(hn,function(s,u){if(s||u===void 0){var l=new Date().getTime(),m=new Ye(ur(),4096,511|K.DIRECTORY,l,l,l);i.put(m.id,_i(),!1,function(I){a(I,i,e)&&i.put(hn,m.toBuffer(),!1,function(H){H?i.abort(function(){e(H)}):i.commit(e)})})}else i.commit(e)})},t.prototype._findINode=function(e,i,s,u){var l=this,m=function(I,H,G){I?u(I):G[s]?u(null,G[s]):u(d.ENOENT(w.resolve(i,s)))};i==="/"?s===""?u(null,hn):this.getINode(e,i,hn,function(I,H){Ge(I,u)&&l.getDirListing(e,i,H,function(G,st){m(G,H,st)})}):this.findINodeAndDirListing(e,i,m)},t.prototype.findINode=function(e,i,s){var u=this;this._findINode(e,w.dirname(i),w.basename(i),function(l,m){Ge(l,s)&&u.getINode(e,i,m,s)})},t.prototype.getINode=function(e,i,s,u){e.get(s,function(l,m){Ge(l,u)&&(m===void 0?u(d.ENOENT(i)):u(null,Ye.fromBuffer(m)))})},t.prototype.getDirListing=function(e,i,s,u){s.isDirectory()?e.get(s.id,function(l,m){if(Ge(l,u))try{u(null,JSON.parse(m.toString()))}catch{u(d.ENOENT(i))}}):u(d.ENOTDIR(i))},t.prototype.findINodeAndDirListing=function(e,i,s){var u=this;this.findINode(e,i,function(l,m){Ge(l,s)&&u.getDirListing(e,i,m,function(I,H){Ge(I,s)&&s(null,m,H)})})},t.prototype.addNewNode=function(e,i,s){var u=0,l,m=function(){++u===5?s(new d(h.EIO,"Unable to commit data to key-value store.")):(l=ur(),e.put(l,i,!1,function(I,H){I||!H?m():s(null,l)}))};m()},t.prototype.commitNewFile=function(e,i,s,u,l,m){var I=this,H=w.dirname(i),G=w.basename(i),st=new Date().getTime();if(i==="/")return m(d.EEXIST(i));this.findINodeAndDirListing(e,H,function(wt,_t,At){a(wt,e,m)&&(At[G]?e.abort(function(){m(d.EEXIST(i))}):I.addNewNode(e,l,function(Wt,te){if(a(Wt,e,m)){var xe=new Ye(te,l.length,u|s,st,st,st);I.addNewNode(e,xe.toBuffer(),function(We,yn){a(We,e,m)&&(At[G]=yn,e.put(_t.id,A.from(JSON.stringify(At)),!0,function(vn){a(vn,e,m)&&e.commit(function(pr){a(pr,e,m)&&m(null,xe)})}))})}}))})},t.prototype.removeEntry=function(e,i,s){var u=this,l=this.store.beginTransaction("readwrite"),m=w.dirname(e),I=w.basename(e);this.findINodeAndDirListing(l,m,function(H,G,st){if(a(H,l,s))if(!st[I])l.abort(function(){s(d.ENOENT(e))});else{var wt=st[I];delete st[I],u.getINode(l,e,wt,function(_t,At){a(_t,l,s)&&(!i&&At.isDirectory()?l.abort(function(){s(d.EISDIR(e))}):i&&!At.isDirectory()?l.abort(function(){s(d.ENOTDIR(e))}):l.del(At.id,function(Wt){a(Wt,l,s)&&l.del(wt,function(te){a(te,l,s)&&l.put(G.id,A.from(JSON.stringify(st)),!0,function(xe){a(xe,l,s)&&l.commit(s)})})}))})}})},t})(yt),S=function(){this.store={}};S.prototype.name=function(){return b.Name},S.prototype.clear=function(){this.store={}},S.prototype.beginTransaction=function(t){return new o(this)},S.prototype.get=function(t){return this.store[t]},S.prototype.put=function(t,n,e){return!e&&this.store.hasOwnProperty(t)?!1:(this.store[t]=n,!0)},S.prototype.del=function(t){delete this.store[t]};var b=(function(r){function t(){r.call(this,{store:new S})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){i(null,new t)},t})(f);b.Name="InMemory",b.Options={};var F=ge.indexedDB||ge.mozIndexedDB||ge.webkitIndexedDB||ge.msIndexedDB;function W(r,t){switch(t===void 0&&(t=r.toString()),r.name){case"NotFoundError":return new d(h.ENOENT,t);case"QuotaExceededError":return new d(h.ENOSPC,t);default:return new d(h.EIO,t)}}function N(r,t,n){return t===void 0&&(t=h.EIO),n===void 0&&(n=null),function(e){e.preventDefault(),r(new d(t,n!==null?n:void 0))}}var Z=function(t,n){this.tx=t,this.store=n};Z.prototype.get=function(t,n){try{var e=this.store.get(t);e.onerror=N(n),e.onsuccess=function(i){var s=i.target.result;s===void 0?n(null,s):n(null,Vt(s))}}catch(i){n(W(i))}};var it=(function(r){function t(n,e){r.call(this,n,e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.put=function(e,i,s,u){try{var l=dt(i),m;s?m=this.store.put(l,e):m=this.store.add(l,e),m.onerror=N(u),m.onsuccess=function(I){u(null,!0)}}catch(I){u(W(I))}},t.prototype.del=function(e,i){try{var s=this.store.delete(e);s.onerror=N(i),s.onsuccess=function(u){i()}}catch(u){i(W(u))}},t.prototype.commit=function(e){setTimeout(e,0)},t.prototype.abort=function(e){var i=null;try{this.tx.abort()}catch(s){i=W(s)}finally{e(i)}},t})(Z),pt=function(t,n){var e=this;n===void 0&&(n="browserfs"),this.storeName=n;var i=F.open(this.storeName,1);i.onupgradeneeded=function(s){var u=s.target.result;u.objectStoreNames.contains(e.storeName)&&u.deleteObjectStore(e.storeName),u.createObjectStore(e.storeName)},i.onsuccess=function(s){e.db=s.target.result,t(null,e)},i.onerror=N(t,h.EACCES)};pt.prototype.name=function(){return lt.Name+" - "+this.storeName},pt.prototype.clear=function(t){try{var n=this.db.transaction(this.storeName,"readwrite"),e=n.objectStore(this.storeName),i=e.clear();i.onsuccess=function(s){setTimeout(t,0)},i.onerror=N(t)}catch(s){t(W(s))}},pt.prototype.beginTransaction=function(t){t===void 0&&(t="readonly");var n=this.db.transaction(this.storeName,t),e=n.objectStore(this.storeName);if(t==="readwrite")return new it(n,e);if(t==="readonly")return new Z(n,e);throw new d(h.EINVAL,"Invalid transaction type.")};var lt=(function(r){function t(n,e,i){var s=this;i===void 0&&(i=!0),r.call(this),this.store=new pt(function(u){u?n(u):s.init(s.store,function(l){n(l,s)})},e),jt(i,t.Name,{storeName:e})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){new t(i,e.storeName,!1)},t.isAvailable=function(){try{return typeof F<"u"&&F.open("__browserfs_test__")!==null}catch{return!1}},t})(g);lt.Name="IndexedDB",lt.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var vt=!1,Tt;try{ge.localStorage.setItem("__test__","\uD800"),vt=ge.localStorage.getItem("__test__")==="\uD800"}catch{vt=!1}Tt=vt?"binary_string":"binary_string_ie",A.isEncoding(Tt)||(Tt="base64");var Et=function(){};Et.prototype.name=function(){return Nt.Name},Et.prototype.clear=function(){ge.localStorage.clear()},Et.prototype.beginTransaction=function(t){return new o(this)},Et.prototype.get=function(t){try{var n=ge.localStorage.getItem(t);if(n!==null)return A.from(n,Tt)}catch{}},Et.prototype.put=function(t,n,e){try{return!e&&ge.localStorage.getItem(t)!==null?!1:(ge.localStorage.setItem(t,n.toString(Tt)),!0)}catch{throw new d(h.ENOSPC,"LocalStorage is full.")}},Et.prototype.del=function(t){try{ge.localStorage.removeItem(t)}catch(n){throw new d(h.EIO,"Unable to delete key "+t+": "+n)}};var Nt=(function(r){function t(){r.call(this,{store:new Et})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){i(null,new t)},t.isAvailable=function(){return typeof ge.localStorage<"u"},t})(f);Nt.Name="LocalStorage",Nt.Options={};var Yt=(function(r){function t(){r.call(this),this.mountList=[],this.mntMap={},this.rootFs=new b}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){var s=new t;Object.keys(e).forEach(function(u){s.mount(u,e[u])}),i(null,s)},t.isAvailable=function(){return!0},t.prototype.mount=function(e,i){if(e[0]!=="/"&&(e="/"+e),e=w.resolve(e),this.mntMap[e])throw new d(h.EINVAL,"Mount point "+e+" is already taken.");$(e,511,this.rootFs),this.mntMap[e]=i,this.mountList.push(e),this.mountList=this.mountList.sort(function(s,u){return u.length-s.length})},t.prototype.umount=function(e){var i=this;if(e[0]!=="/"&&(e="/"+e),e=w.resolve(e),!this.mntMap[e])throw new d(h.EINVAL,"Mount point "+e+" is already unmounted.");for(delete this.mntMap[e],this.mountList.splice(this.mountList.indexOf(e),1);e!=="/"&&i.rootFs.readdirSync(e).length===0;)i.rootFs.rmdirSync(e),e=w.dirname(e)},t.prototype._getFs=function(e){for(var i=this,s=this.mountList,u=s.length,l=0;l<u;l++){var m=s[l];if(m.length<=e.length&&e.indexOf(m)===0)return e=e.substr(m.length>1?m.length:0),e===""&&(e="/"),{fs:i.mntMap[m],path:e}}return{fs:this.rootFs,path:e}},t.prototype.getName=function(){return t.Name},t.prototype.diskSpace=function(e,i){i(0,0)},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.standardizeError=function(e,i,s){var u=e.message.indexOf(i);return u!==-1&&(e.message=e.message.substr(0,u)+s+e.message.substr(u+i.length),e.path=s),e},t.prototype.rename=function(e,i,s){var u=this,l=this._getFs(e),m=this._getFs(i);return l.fs===m.fs?l.fs.rename(l.path,m.path,function(I){I&&u.standardizeError(u.standardizeError(I,l.path,e),m.path,i),s(I)}):It.readFile(e,function(I,H){if(I)return s(I);It.writeFile(i,H,function(G){if(G)return s(G);It.unlink(e,s)})})},t.prototype.renameSync=function(e,i){var s=this._getFs(e),u=this._getFs(i);if(s.fs===u.fs)try{return s.fs.renameSync(s.path,u.path)}catch(m){throw this.standardizeError(this.standardizeError(m,s.path,e),u.path,i),m}var l=It.readFileSync(e);return It.writeFileSync(i,l),It.unlinkSync(e)},t.prototype.readdirSync=function(e){var i=this._getFs(e),s=null;if(i.fs!==this.rootFs)try{s=this.rootFs.readdirSync(e)}catch{}try{var u=i.fs.readdirSync(i.path);return s===null?u:u.concat(s.filter(function(l){return u.indexOf(l)===-1}))}catch(l){if(s===null)throw this.standardizeError(l,i.path,e);return s}},t.prototype.readdir=function(e,i){var s=this,u=this._getFs(e);u.fs.readdir(u.path,function(l,m){if(u.fs!==s.rootFs)try{var I=s.rootFs.readdirSync(e);m?m=m.concat(I.filter(function(H){return m.indexOf(H)===-1})):m=I}catch{if(l)return i(s.standardizeError(l,u.path,e))}else if(l)return i(s.standardizeError(l,u.path,e));i(null,m)})},t.prototype.rmdirSync=function(e){var i=this._getFs(e);if(this._containsMountPt(e))throw d.ENOTEMPTY(e);try{i.fs.rmdirSync(i.path)}catch(s){throw this.standardizeError(s,i.path,e)}},t.prototype.rmdir=function(e,i){var s=this,u=this._getFs(e);this._containsMountPt(e)?i(d.ENOTEMPTY(e)):u.fs.rmdir(u.path,function(l){i(l?s.standardizeError(l,u.path,e):null)})},t.prototype._containsMountPt=function(e){for(var i=this.mountList,s=i.length,u=0;u<s;u++){var l=i[u];if(l.length>=e.length&&l.slice(0,e.length)===e)return!0}return!1},t})(yt);Yt.Name="MountableFileSystem",Yt.Options={};function ne(r,t,n){return t?function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var s=e[0],u=this._getFs(s);e[0]=u.path;try{return u.fs[r].apply(u.fs,e)}catch(l){throw this.standardizeError(l,u.path,s),l}}:function(){for(var e=this,i=[],s=arguments.length;s--;)i[s]=arguments[s];var u=i[0],l=this._getFs(u);if(i[0]=l.path,typeof i[i.length-1]=="function"){var m=i[i.length-1];i[i.length-1]=function(){for(var I=[],H=arguments.length;H--;)I[H]=arguments[H];I.length>0&&I[0]instanceof d&&e.standardizeError(I[0],l.path,u),m.apply(null,I)}}return l.fs[r].apply(l.fs,i)}}for(var Bt=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],Kt=0;Kt<Bt.length;Kt++)for(var Ue=Bt[Kt],he=0,Ze=Ue;he<Ze.length;he+=1){var qe=Ze[he];Yt.prototype[qe]=ne(qe,!1),Yt.prototype[qe+"Sync"]=ne(qe+"Sync",!0)}var Ke;if(typeof setImmediate<"u")Ke=setImmediate;else{var Be=ge,on=[],Ao="zero-timeout-message",Ka=function(){if(typeof Be.importScripts<"u"||!Be.postMessage)return!1;var r=!0,t=Be.onmessage;return Be.onmessage=function(){r=!1},Be.postMessage("","*"),Be.onmessage=t,r};if(Ka()){Ke=function(r){on.push(r),Be.postMessage(Ao,"*")};var Co=function(r){if(r.source===self&&r.data===Ao&&(r.stopPropagation?r.stopPropagation():r.cancelBubble=!0,on.length>0)){var t=on.shift();return t()}};Be.addEventListener?Be.addEventListener("message",Co,!0):Be.attachEvent("onmessage",Co)}else if(Be.MessageChannel){var Po=new Be.MessageChannel;Po.port1.onmessage=function(r){if(on.length>0)return on.shift()()},Ke=function(r){on.push(r),Po.port2.postMessage("")}}else Ke=function(r){return setTimeout(r,0)}}var ho=Ke,Cr=function(){this._locked=!1,this._waiters=[]};Cr.prototype.lock=function(t){if(this._locked){this._waiters.push(t);return}this._locked=!0,t()},Cr.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var t=this._waiters.shift();if(t){ho(t);return}this._locked=!1},Cr.prototype.tryLock=function(){return this._locked?!1:(this._locked=!0,!0)},Cr.prototype.isLocked=function(){return this._locked};var qt=function(t){this._fs=t,this._mu=new Cr};qt.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},qt.prototype.getFSUnlocked=function(){return this._fs},qt.prototype.initialize=function(t){this._fs.initialize(t)},qt.prototype.diskSpace=function(t,n){this._fs.diskSpace(t,n)},qt.prototype.isReadOnly=function(){return this._fs.isReadOnly()},qt.prototype.supportsLinks=function(){return this._fs.supportsLinks()},qt.prototype.supportsProps=function(){return this._fs.supportsProps()},qt.prototype.supportsSynch=function(){return this._fs.supportsSynch()},qt.prototype.rename=function(t,n,e){var i=this;this._mu.lock(function(){i._fs.rename(t,n,function(s){i._mu.unlock(),e(s)})})},qt.prototype.renameSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(t,n)},qt.prototype.stat=function(t,n,e){var i=this;this._mu.lock(function(){i._fs.stat(t,n,function(s,u){i._mu.unlock(),e(s,u)})})},qt.prototype.statSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(t,n)},qt.prototype.open=function(t,n,e,i){var s=this;this._mu.lock(function(){s._fs.open(t,n,e,function(u,l){s._mu.unlock(),i(u,l)})})},qt.prototype.openSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(t,n,e)},qt.prototype.unlink=function(t,n){var e=this;this._mu.lock(function(){e._fs.unlink(t,function(i){e._mu.unlock(),n(i)})})},qt.prototype.unlinkSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(t)},qt.prototype.rmdir=function(t,n){var e=this;this._mu.lock(function(){e._fs.rmdir(t,function(i){e._mu.unlock(),n(i)})})},qt.prototype.rmdirSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(t)},qt.prototype.mkdir=function(t,n,e){var i=this;this._mu.lock(function(){i._fs.mkdir(t,n,function(s){i._mu.unlock(),e(s)})})},qt.prototype.mkdirSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(t,n)},qt.prototype.readdir=function(t,n){var e=this;this._mu.lock(function(){e._fs.readdir(t,function(i,s){e._mu.unlock(),n(i,s)})})},qt.prototype.readdirSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(t)},qt.prototype.exists=function(t,n){var e=this;this._mu.lock(function(){e._fs.exists(t,function(i){e._mu.unlock(),n(i)})})},qt.prototype.existsSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(t)},qt.prototype.realpath=function(t,n,e){var i=this;this._mu.lock(function(){i._fs.realpath(t,n,function(s,u){i._mu.unlock(),e(s,u)})})},qt.prototype.realpathSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(t,n)},qt.prototype.truncate=function(t,n,e){var i=this;this._mu.lock(function(){i._fs.truncate(t,n,function(s){i._mu.unlock(),e(s)})})},qt.prototype.truncateSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(t,n)},qt.prototype.readFile=function(t,n,e,i){var s=this;this._mu.lock(function(){s._fs.readFile(t,n,e,function(u,l){s._mu.unlock(),i(u,l)})})},qt.prototype.readFileSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(t,n,e)},qt.prototype.writeFile=function(t,n,e,i,s,u){var l=this;this._mu.lock(function(){l._fs.writeFile(t,n,e,i,s,function(m){l._mu.unlock(),u(m)})})},qt.prototype.writeFileSync=function(t,n,e,i,s){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(t,n,e,i,s)},qt.prototype.appendFile=function(t,n,e,i,s,u){var l=this;this._mu.lock(function(){l._fs.appendFile(t,n,e,i,s,function(m){l._mu.unlock(),u(m)})})},qt.prototype.appendFileSync=function(t,n,e,i,s){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(t,n,e,i,s)},qt.prototype.chmod=function(t,n,e,i){var s=this;this._mu.lock(function(){s._fs.chmod(t,n,e,function(u){s._mu.unlock(),i(u)})})},qt.prototype.chmodSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(t,n,e)},qt.prototype.chown=function(t,n,e,i,s){var u=this;this._mu.lock(function(){u._fs.chown(t,n,e,i,function(l){u._mu.unlock(),s(l)})})},qt.prototype.chownSync=function(t,n,e,i){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(t,n,e,i)},qt.prototype.utimes=function(t,n,e,i){var s=this;this._mu.lock(function(){s._fs.utimes(t,n,e,function(u){s._mu.unlock(),i(u)})})},qt.prototype.utimesSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(t,n,e)},qt.prototype.link=function(t,n,e){var i=this;this._mu.lock(function(){i._fs.link(t,n,function(s){i._mu.unlock(),e(s)})})},qt.prototype.linkSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(t,n)},qt.prototype.symlink=function(t,n,e,i){var s=this;this._mu.lock(function(){s._fs.symlink(t,n,e,function(u){s._mu.unlock(),i(u)})})},qt.prototype.symlinkSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(t,n,e)},qt.prototype.readlink=function(t,n){var e=this;this._mu.lock(function(){e._fs.readlink(t,function(i,s){e._mu.unlock(),n(i,s)})})},qt.prototype.readlinkSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(t)};var En="/.deletedFiles.log";function Mo(r){return 146|r}function tn(r){return X.getFileFlag(r)}var zo=(function(r){function t(n,e,i,s,u){r.call(this,n,e,i,s,u)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var i=this;if(!this.isDirty()){e(null);return}this._fs._syncAsync(this,function(s){i.resetDirty(),e(s)})},t.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},t.prototype.close=function(e){this.sync(e)},t.prototype.closeSync=function(){this.syncSync()},t})(Te),jo=(function(r){function t(n,e){if(r.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=n,this._readable=e,this._writable.isReadOnly())throw new d(h.EINVAL,"Writable file system must be writable.")}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.isAvailable=function(){return!0},t.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},t.prototype._syncAsync=function(e,i){var s=this;this.createParentDirectoriesAsync(e.getPath(),function(u){if(u)return i(u);s._writable.writeFile(e.getPath(),e.getBuffer(),null,tn("w"),e.getStats().mode,i)})},t.prototype._syncSync=function(e){this.createParentDirectories(e.getPath()),this._writable.writeFileSync(e.getPath(),e.getBuffer(),null,tn("w"),e.getStats().mode)},t.prototype.getName=function(){return Pr.Name},t.prototype.initialize=function(e){var i=this,s=this._initializeCallbacks,u=function(l){i._isInitialized=!l,i._initializeCallbacks=[],s.forEach((function(m){return m(l)}))};if(this._isInitialized)return e();s.push(e),s.length===1&&this._writable.readFile(En,"utf8",tn("r"),function(l,m){if(l){if(l.errno!==h.ENOENT)return u(l)}else i._deleteLog=m;i._reparseDeletionLog(),u()})},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},t.prototype.getDeletionLog=function(){return this._deleteLog},t.prototype.restoreDeletionLog=function(e){this._deleteLog=e,this._reparseDeletionLog(),this.updateLog("")},t.prototype.rename=function(e,i,s){var u=this;if(!(!this.checkInitAsync(s)||this.checkPathAsync(e,s)||this.checkPathAsync(i,s))){if(e===En||i===En)return s(d.EPERM("Cannot rename deletion log."));if(e===i)return s();this.stat(e,!1,function(l,m){return l?s(l):u.stat(i,!1,function(I,H){var G=u;function st(_t){var At=_t.shift();if(!At)return s();var Wt=w.resolve(e,At),te=w.resolve(i,At);G.rename(Wt,te,function(xe){if(xe)return s(xe);st(_t)})}var wt=511;if(m.isDirectory()){if(I)return I.errno!==h.ENOENT?s(I):u._writable.exists(e,function(_t){if(_t)return u._writable.rename(e,i,s);u._writable.mkdir(i,wt,function(At){if(At)return s(At);u._readable.readdir(e,function(Wt,te){if(Wt)return s();st(te)})})});if(wt=H.mode,!H.isDirectory())return s(d.ENOTDIR(i));u.readdir(i,function(_t,At){if(At&&At.length)return s(d.ENOTEMPTY(i));u._readable.readdir(e,function(Wt,te){if(Wt)return s();st(te)})})}if(H&&H.isDirectory())return s(d.EISDIR(i));u.readFile(e,null,tn("r"),function(_t,At){return _t?s(_t):u.writeFile(i,At,null,tn("w"),m.mode,function(Wt){return Wt?s(Wt):u.unlink(e,s)})})})})}},t.prototype.renameSync=function(e,i){var s=this;if(this.checkInitialized(),this.checkPath(e),this.checkPath(i),e===En||i===En)throw d.EPERM("Cannot rename deletion log.");var u=this.statSync(e,!1);if(u.isDirectory()){if(e===i)return;var l=511;if(this.existsSync(i)){var m=this.statSync(i,!1);if(l=m.mode,m.isDirectory()){if(this.readdirSync(i).length>0)throw d.ENOTEMPTY(i)}else throw d.ENOTDIR(i)}this._writable.existsSync(e)?this._writable.renameSync(e,i):this._writable.existsSync(i)||this._writable.mkdirSync(i,l),this._readable.existsSync(e)&&this._readable.readdirSync(e).forEach(function(I){s.renameSync(w.resolve(e,I),w.resolve(i,I))})}else{if(this.existsSync(i)&&this.statSync(i,!1).isDirectory())throw d.EISDIR(i);this.writeFileSync(i,this.readFileSync(e,null,tn("r")),null,tn("w"),u.mode)}e!==i&&this.existsSync(e)&&this.unlinkSync(e)},t.prototype.stat=function(e,i,s){var u=this;this.checkInitAsync(s)&&this._writable.stat(e,i,function(l,m){l&&l.errno===h.ENOENT?(u._deletedFiles[e]&&s(d.ENOENT(e)),u._readable.stat(e,i,function(I,H){H&&(H=H.clone(),H.mode=Mo(H.mode)),s(I,H)})):s(l,m)})},t.prototype.statSync=function(e,i){this.checkInitialized();try{return this._writable.statSync(e,i)}catch{if(this._deletedFiles[e])throw d.ENOENT(e);var s=this._readable.statSync(e,i).clone();return s.mode=Mo(s.mode),s}},t.prototype.open=function(e,i,s,u){var l=this;!this.checkInitAsync(u)||this.checkPathAsync(e,u)||this.stat(e,!1,function(m,I){if(I)switch(i.pathExistsAction()){case B.TRUNCATE_FILE:return l.createParentDirectoriesAsync(e,function(H){if(H)return u(H);l._writable.open(e,i,s,u)});case B.NOP:return l._writable.exists(e,function(H){H?l._writable.open(e,i,s,u):(I=I.clone(),I.mode=s,l._readable.readFile(e,null,tn("r"),function(G,st){if(G)return u(G);I.size===-1&&(I.size=st.length);var wt=new zo(l,e,i,I,st);u(null,wt)}))});default:return u(d.EEXIST(e))}else return i.pathNotExistsAction()===B.CREATE_FILE?l.createParentDirectoriesAsync(e,function(H){return H?u(H):l._writable.open(e,i,s,u)}):u(d.ENOENT(e))})},t.prototype.openSync=function(e,i,s){if(this.checkInitialized(),this.checkPath(e),e===En)throw d.EPERM("Cannot open deletion log.");if(this.existsSync(e))switch(i.pathExistsAction()){case B.TRUNCATE_FILE:return this.createParentDirectories(e),this._writable.openSync(e,i,s);case B.NOP:if(this._writable.existsSync(e))return this._writable.openSync(e,i,s);var u=this._readable.readFileSync(e,null,tn("r")),l=this._readable.statSync(e,!1).clone();return l.mode=s,new zo(this,e,i,l,u);default:throw d.EEXIST(e)}else{if(i.pathNotExistsAction()===B.CREATE_FILE)return this.createParentDirectories(e),this._writable.openSync(e,i,s);throw d.ENOENT(e)}},t.prototype.unlink=function(e,i){var s=this;!this.checkInitAsync(i)||this.checkPathAsync(e,i)||this.exists(e,function(u){if(!u)return i(d.ENOENT(e));s._writable.exists(e,function(l){if(l)return s._writable.unlink(e,function(m){if(m)return i(m);s.exists(e,function(I){I&&s.deletePath(e),i(null)})});s.deletePath(e),i(null)})})},t.prototype.unlinkSync=function(e){if(this.checkInitialized(),this.checkPath(e),this.existsSync(e))this._writable.existsSync(e)&&this._writable.unlinkSync(e),this.existsSync(e)&&this.deletePath(e);else throw d.ENOENT(e)},t.prototype.rmdir=function(e,i){var s=this;if(this.checkInitAsync(i)){var u=function(){s.readdir(e,function(l,m){if(l)return i(l);if(m.length)return i(d.ENOTEMPTY(e));s.deletePath(e),i(null)})};this.exists(e,function(l){if(!l)return i(d.ENOENT(e));s._writable.exists(e,function(m){m?s._writable.rmdir(e,function(I){if(I)return i(I);s._readable.exists(e,function(H){H?u():i()})}):u()})})}},t.prototype.rmdirSync=function(e){if(this.checkInitialized(),this.existsSync(e)){if(this._writable.existsSync(e)&&this._writable.rmdirSync(e),this.existsSync(e)){if(this.readdirSync(e).length>0)throw d.ENOTEMPTY(e);this.deletePath(e)}}else throw d.ENOENT(e)},t.prototype.mkdir=function(e,i,s){var u=this;this.checkInitAsync(s)&&this.exists(e,function(l){if(l)return s(d.EEXIST(e));u.createParentDirectoriesAsync(e,function(m){if(m)return s(m);u._writable.mkdir(e,i,s)})})},t.prototype.mkdirSync=function(e,i){if(this.checkInitialized(),this.existsSync(e))throw d.EEXIST(e);this.createParentDirectories(e),this._writable.mkdirSync(e,i)},t.prototype.readdir=function(e,i){var s=this;this.checkInitAsync(i)&&this.stat(e,!1,function(u,l){if(u)return i(u);if(!l.isDirectory())return i(d.ENOTDIR(e));s._writable.readdir(e,function(m,I){if(m&&m.code!=="ENOENT")return i(m);(m||!I)&&(I=[]),s._readable.readdir(e,function(H,G){(H||!G)&&(G=[]);var st={},wt=I.concat(G.filter(function(_t){return!s._deletedFiles[e+"/"+_t]})).filter(function(_t){var At=!st[_t];return st[_t]=!0,At});i(null,wt)})})})},t.prototype.readdirSync=function(e){var i=this;this.checkInitialized();var s=this.statSync(e,!1);if(!s.isDirectory())throw d.ENOTDIR(e);var u=[];try{u=u.concat(this._writable.readdirSync(e))}catch{}try{u=u.concat(this._readable.readdirSync(e).filter(function(m){return!i._deletedFiles[e+"/"+m]}))}catch{}var l={};return u.filter(function(m){var I=!l[m];return l[m]=!0,I})},t.prototype.exists=function(e,i){var s=this;this.checkInitialized(),this._writable.exists(e,function(u){if(u)return i(!0);s._readable.exists(e,function(l){i(l&&s._deletedFiles[e]!==!0)})})},t.prototype.existsSync=function(e){return this.checkInitialized(),this._writable.existsSync(e)||this._readable.existsSync(e)&&this._deletedFiles[e]!==!0},t.prototype.chmod=function(e,i,s,u){var l=this;this.checkInitAsync(u)&&this.operateOnWritableAsync(e,function(m){if(m)return u(m);l._writable.chmod(e,i,s,u)})},t.prototype.chmodSync=function(e,i,s){var u=this;this.checkInitialized(),this.operateOnWritable(e,function(){u._writable.chmodSync(e,i,s)})},t.prototype.chown=function(e,i,s,u,l){var m=this;this.checkInitAsync(l)&&this.operateOnWritableAsync(e,function(I){if(I)return l(I);m._writable.chown(e,i,s,u,l)})},t.prototype.chownSync=function(e,i,s,u){var l=this;this.checkInitialized(),this.operateOnWritable(e,function(){l._writable.chownSync(e,i,s,u)})},t.prototype.utimes=function(e,i,s,u){var l=this;this.checkInitAsync(u)&&this.operateOnWritableAsync(e,function(m){if(m)return u(m);l._writable.utimes(e,i,s,u)})},t.prototype.utimesSync=function(e,i,s){var u=this;this.checkInitialized(),this.operateOnWritable(e,function(){u._writable.utimesSync(e,i,s)})},t.prototype.deletePath=function(e){this._deletedFiles[e]=!0,this.updateLog("d"+e+`
`)},t.prototype.updateLog=function(e){var i=this;this._deleteLog+=e,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(En,this._deleteLog,"utf8",X.getFileFlag("w"),420,function(s){i._deleteLogUpdatePending=!1,s?i._deleteLogError=s:i._deleteLogUpdateNeeded&&(i._deleteLogUpdateNeeded=!1,i.updateLog(""))}))},t.prototype._reparseDeletionLog=function(){var e=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(i){e._deletedFiles[i.slice(1)]=i.slice(0,1)==="d"})},t.prototype.checkInitialized=function(){if(this._isInitialized){if(this._deleteLogError!==null){var e=this._deleteLogError;throw this._deleteLogError=null,e}}else throw new d(h.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")},t.prototype.checkInitAsync=function(e){if(this._isInitialized){if(this._deleteLogError!==null){var i=this._deleteLogError;return this._deleteLogError=null,e(i),!1}}else return e(new d(h.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;return!0},t.prototype.checkPath=function(e){if(e===En)throw d.EPERM(e)},t.prototype.checkPathAsync=function(e,i){return e===En?(i(d.EPERM(e)),!0):!1},t.prototype.createParentDirectoriesAsync=function(e,i){var s=w.dirname(e),u=[],l=this;this._writable.stat(s,!1,m);function m(H,G){H?(u.push(s),s=w.dirname(s),l._writable.stat(s,!1,m)):I()}function I(){if(!u.length)return i();var H=u.pop();l._readable.stat(H,!1,function(G,st){if(!st)return i();l._writable.mkdir(H,st.mode,function(wt){if(wt)return i(wt);I()})})}},t.prototype.createParentDirectories=function(e){for(var i=this,s=w.dirname(e),u=[];!this._writable.existsSync(s);)u.push(s),s=w.dirname(s);u=u.reverse(),u.forEach(function(l){i._writable.mkdirSync(l,i.statSync(l,!1).mode)})},t.prototype.operateOnWritable=function(e,i){if(this.existsSync(e))this._writable.existsSync(e)||this.copyToWritable(e),i();else throw d.ENOENT(e)},t.prototype.operateOnWritableAsync=function(e,i){var s=this;this.exists(e,function(u){if(!u)return i(d.ENOENT(e));s._writable.exists(e,function(l){if(l)i();else return s.copyToWritableAsync(e,i)})})},t.prototype.copyToWritable=function(e){var i=this.statSync(e,!1);i.isDirectory()?this._writable.mkdirSync(e,i.mode):this.writeFileSync(e,this._readable.readFileSync(e,null,tn("r")),null,tn("w"),this.statSync(e,!1).mode)},t.prototype.copyToWritableAsync=function(e,i){var s=this;this.stat(e,!1,function(u,l){if(u)return i(u);if(l.isDirectory())return s._writable.mkdir(e,l.mode,i);s._readable.readFile(e,null,tn("r"),function(m,I){if(m)return i(m);s.writeFile(e,I,null,tn("w"),l.mode,i)})})},t})(yt),Pr=(function(r){function t(n,e,i){i===void 0&&(i=!0),r.call(this,new jo(n,e)),jt(i,t.Name,{readable:"readable file system",writable:"writable file system"})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){try{var s=new t(e.writable,e.readable,!1);s.initialize(function(u){i(u,s)},!1)}catch(u){i(u)}},t.isAvailable=function(){return jo.isAvailable()},t.prototype.initialize=function(e,i){i===void 0&&(i=!0),i&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),r.prototype.initialize.call(this,e)},t.prototype.getOverlayedFileSystems=function(){return r.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},t.prototype.unwrap=function(){return r.prototype.getFSUnlocked.call(this)},t})(qt);Pr.Name="OverlayFS",Pr.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}};var Ie;(function(r){r[r.CB=0]="CB",r[r.FD=1]="FD",r[r.API_ERROR=2]="API_ERROR",r[r.STATS=3]="STATS",r[r.PROBE=4]="PROBE",r[r.FILEFLAG=5]="FILEFLAG",r[r.BUFFER=6]="BUFFER",r[r.ERROR=7]="ERROR"})(Ie||(Ie={}));var po=function(){this._callbacks={},this._nextId=0};po.prototype.toRemoteArg=function(t){var n=this._nextId++;return this._callbacks[n]=t,{type:Ie.CB,id:n}},po.prototype.toLocalArg=function(t){var n=this._callbacks[t];return delete this._callbacks[t],n};var Si=function(){this._fileDescriptors={},this._nextId=0};Si.prototype.toRemoteArg=function(t,n,e,i){var s=this._nextId++,u,l;this._fileDescriptors[s]=t,t.stat(function(m,I){m?i(m):(l=jn(I.toBuffer()),e.isReadable()?t.read(A.alloc(I.size),0,I.size,0,function(H,G,st){H?i(H):(u=jn(st),i(null,{type:Ie.FD,id:s,data:u,stat:l,path:n,flag:e.getFlagString()}))}):i(null,{type:Ie.FD,id:s,data:new ArrayBuffer(0),stat:l,path:n,flag:e.getFlagString()}))})},Si.prototype.applyFdAPIRequest=function(t,n){var e=this,i=t.args[0];this._applyFdChanges(i,function(s,u){s?n(s):u[t.method](function(l){t.method==="close"&&delete e._fileDescriptors[i.id],n(l)})})},Si.prototype._applyFdChanges=function(t,n){var e=this._fileDescriptors[t.id],i=Un(t.data),s=J.fromBuffer(Un(t.stat)),u=X.getFileFlag(t.flag);u.isWriteable()?e.write(i,0,i.length,u.isAppendable()?e.getPos():0,function(l){function m(){e.stat(function(I,H){I?n(I):H.mode!==s.mode?e.chmod(s.mode,function(G){n(G,e)}):n(I,e)})}l?n(l):u.isAppendable()?m():e.truncate(i.length,function(){m()})}):n(null,e)};function Ei(r){return{type:Ie.API_ERROR,errorData:jn(r.writeToBuffer())}}function Uo(r){return d.fromBuffer(Un(r.errorData))}function Bo(r){return{type:Ie.ERROR,name:r.name,message:r.message,stack:r.stack}}function Wo(r){var t=ge[r.name];typeof t!="function"&&(t=Error);var n=new t(r.message);return n.stack=r.stack,n}function Ho(r){return{type:Ie.STATS,statsData:jn(r.toBuffer())}}function Vo(r){return J.fromBuffer(Un(r.statsData))}function Xo(r){return{type:Ie.FILEFLAG,flagStr:r.getFlagString()}}function Yo(r){return X.getFileFlag(r.flagStr)}function jn(r){return dt(r)}function Un(r){return Vt(r)}function Zo(r){return{type:Ie.BUFFER,data:jn(r)}}function qo(r){return Un(r.data)}function Ja(r){return r&&typeof r=="object"&&r.hasOwnProperty("browserfsMessage")&&r.browserfsMessage}function Qa(r){return r&&typeof r=="object"&&r.hasOwnProperty("browserfsMessage")&&r.browserfsMessage}var Go=(function(r){function t(n,e,i,s,u,l){r.call(this,n,e,i,s,l),this._remoteFdId=u}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.getRemoteFdId=function(){return this._remoteFdId},t.prototype.toRemoteArg=function(){return{type:Ie.FD,id:this._remoteFdId,data:jn(this.getBuffer()),stat:jn(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},t.prototype.sync=function(e){this._syncClose("sync",e)},t.prototype.close=function(e){this._syncClose("close",e)},t.prototype._syncClose=function(e,i){var s=this;this.isDirty()?this._fs.syncClose(e,this,function(u){u||s.resetDirty(),i(u)}):i()},t})(Te),bi=(function(r){function t(n,e){var i=this;e===void 0&&(e=!0),r.call(this),this._callbackConverter=new po,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=n,jt(e,t.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(s){var u=s.data;if(Qa(u)){var l,m=u.args,I=new Array(m.length);for(l=0;l<I.length;l++)I[l]=i._argRemote2Local(m[l]);i._callbackConverter.toLocalArg(u.cbId).apply(null,I)}})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){var s=new t(e.worker,!1);s.initialize(function(){i(null,s)})},t.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},t.attachRemoteListener=function(e){var i=new Si;function s(l,m,I){typeof l==="object"?l instanceof J?I(null,Ho(l)):l instanceof d?I(null,Ei(l)):l instanceof zt?I(null,i.toRemoteArg(l,m[0],m[1],I)):l instanceof X?I(null,Xo(l)):l instanceof A?I(null,Zo(l)):l instanceof Error?I(null,Bo(l)):I(null,l):I(null,l)}function u(l,m){if(!l)return l;switch(typeof l){case"object":if(typeof l.type=="number"){var I=l;switch(I.type){case Ie.CB:var H=l.id;return function(){var G=arguments,st,wt=new Array(arguments.length),_t,At=arguments.length;function Wt(te){At>0&&(At=-1,_t={browserfsMessage:!0,cbId:H,args:[Ei(te)]},e.postMessage(_t))}for(st=0;st<arguments.length;st++)(function(te,xe){s(xe,m,function(We,yn){wt[te]=yn,We?Wt(We):--At===0&&(_t={browserfsMessage:!0,cbId:H,args:wt},e.postMessage(_t))})})(st,G[st]);arguments.length===0&&(_t={browserfsMessage:!0,cbId:H,args:wt},e.postMessage(_t))};case Ie.API_ERROR:return Uo(I);case Ie.STATS:return Vo(I);case Ie.FILEFLAG:return Yo(I);case Ie.BUFFER:return qo(I);case Ie.ERROR:return Wo(I);default:return l}}else return l;default:return l}}e.addEventListener("message",function(l){var m=l.data;if(Ja(m)){var I=m.args,H=new Array(I.length);switch(m.method){case"close":case"sync":(function(){var wt=I[1];i.applyFdAPIRequest(m,function(_t){var At={browserfsMessage:!0,cbId:wt.id,args:_t?[Ei(_t)]:[]};e.postMessage(At)})})();break;case"probe":(function(){var wt=It.getRootFS(),_t=I[1],At={type:Ie.PROBE,isReadOnly:wt.isReadOnly(),supportsLinks:wt.supportsLinks(),supportsProps:wt.supportsProps()},Wt={browserfsMessage:!0,cbId:_t.id,args:[At]};e.postMessage(Wt)})();break;default:for(var G=0;G<I.length;G++)H[G]=u(I[G],H);var st=It.getRootFS();st[m.method].apply(st,H);break}}})},t.prototype.getName=function(){return t.Name},t.prototype.initialize=function(e){var i=this;if(this._isInitialized)e();else{var s={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(se()),this._callbackConverter.toRemoteArg(function(u){i._isInitialized=!0,i._isReadOnly=u.isReadOnly,i._supportLinks=u.supportsLinks,i._supportProps=u.supportsProps,e()})]};this._worker.postMessage(s)}},t.prototype.isReadOnly=function(){return this._isReadOnly},t.prototype.supportsSynch=function(){return!1},t.prototype.supportsLinks=function(){return this._supportLinks},t.prototype.supportsProps=function(){return this._supportProps},t.prototype.rename=function(e,i,s){this._rpc("rename",arguments)},t.prototype.stat=function(e,i,s){this._rpc("stat",arguments)},t.prototype.open=function(e,i,s,u){this._rpc("open",arguments)},t.prototype.unlink=function(e,i){this._rpc("unlink",arguments)},t.prototype.rmdir=function(e,i){this._rpc("rmdir",arguments)},t.prototype.mkdir=function(e,i,s){this._rpc("mkdir",arguments)},t.prototype.readdir=function(e,i){this._rpc("readdir",arguments)},t.prototype.exists=function(e,i){this._rpc("exists",arguments)},t.prototype.realpath=function(e,i,s){this._rpc("realpath",arguments)},t.prototype.truncate=function(e,i,s){this._rpc("truncate",arguments)},t.prototype.readFile=function(e,i,s,u){this._rpc("readFile",arguments)},t.prototype.writeFile=function(e,i,s,u,l,m){this._rpc("writeFile",arguments)},t.prototype.appendFile=function(e,i,s,u,l,m){this._rpc("appendFile",arguments)},t.prototype.chmod=function(e,i,s,u){this._rpc("chmod",arguments)},t.prototype.chown=function(e,i,s,u,l){this._rpc("chown",arguments)},t.prototype.utimes=function(e,i,s,u){this._rpc("utimes",arguments)},t.prototype.link=function(e,i,s){this._rpc("link",arguments)},t.prototype.symlink=function(e,i,s,u){this._rpc("symlink",arguments)},t.prototype.readlink=function(e,i){this._rpc("readlink",arguments)},t.prototype.syncClose=function(e,i,s){this._worker.postMessage({browserfsMessage:!0,method:e,args:[i.toRemoteArg(),this._callbackConverter.toRemoteArg(s)]})},t.prototype._argRemote2Local=function(e){if(!e)return e;switch(typeof e){case"object":if(typeof e.type=="number"){var i=e;switch(i.type){case Ie.API_ERROR:return Uo(i);case Ie.FD:var s=i;return new Go(this,s.path,X.getFileFlag(s.flag),J.fromBuffer(Un(s.stat)),s.id,Un(s.data));case Ie.STATS:return Vo(i);case Ie.FILEFLAG:return Yo(i);case Ie.BUFFER:return qo(i);case Ie.ERROR:return Wo(i);default:return e}}else return e;default:return e}},t.prototype._rpc=function(e,i){for(var s=this,u=new Array(i.length),l=0;l<i.length;l++)u[l]=s._argLocal2Remote(i[l]);var m={browserfsMessage:!0,method:e,args:u};this._worker.postMessage(m)},t.prototype._argLocal2Remote=function(e){if(!e)return e;switch(typeof e){case"object":return e instanceof J?Ho(e):e instanceof d?Ei(e):e instanceof Go?e.toRemoteArg():e instanceof X?Xo(e):e instanceof A?Zo(e):e instanceof Error?Bo(e):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(e);default:return e}},t})(yt);bi.Name="WorkerFS",bi.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(r,t){r.postMessage?t():t(new d(h.EINVAL,"option must be a Web Worker instance."))}}};function $a(r,t,n){var e=new XMLHttpRequest;e.open("GET",r,!0);var i=!0;switch(t){case"buffer":e.responseType="arraybuffer";break;case"json":try{e.responseType="json",i=e.responseType==="json"}catch{i=!1}break;default:return n(new d(h.EINVAL,"Invalid download type: "+t))}e.onreadystatechange=function(s){if(e.readyState===4)if(e.status===200)switch(t){case"buffer":return n(null,e.response?A.from(e.response):se());case"json":return i?n(null,e.response):n(null,JSON.parse(e.responseText))}else return n(new d(e.status,"XHR error."))},e.send()}function ts(r,t){var n=new XMLHttpRequest;n.open("GET",r,!1);var e=null,i=null;if(n.overrideMimeType("text/plain; charset=x-user-defined"),n.onreadystatechange=function(s){if(n.readyState===4)if(n.status===200)switch(t){case"buffer":var u=n.responseText;e=A.alloc(u.length);for(var l=0;l<u.length;l++)e[l]=u.charCodeAt(l);return;case"json":e=JSON.parse(n.responseText);return}else{i=new d(n.status,"XHR error.");return}},n.send(),i)throw i;return e}function es(r,t){var n=new XMLHttpRequest;switch(n.open("GET",r,!1),t){case"buffer":n.responseType="arraybuffer";break;case"json":break;default:throw new d(h.EINVAL,"Invalid download type: "+t)}var e,i;if(n.onreadystatechange=function(s){if(n.readyState===4)if(n.status===200)switch(t){case"buffer":e=A.from(n.response);break;case"json":e=JSON.parse(n.response);break}else i=new d(n.status,"XHR error.")},n.send(),i)throw i;return e}function Ko(r,t,n){var e=new XMLHttpRequest;e.open("HEAD",t,r),e.onreadystatechange=function(i){if(e.readyState===4)if(e.status===200)try{return n(null,parseInt(e.getResponseHeader("Content-Length")||"-1",10))}catch{return n(new d(h.EIO,"XHR HEAD error: Could not read content-length."))}else return n(new d(e.status,"XHR HEAD error."))},e.send()}var Jo=$a,ns=Pt&&typeof Blob<"u"?es:ts;function rs(r){var t=-1;return Ko(!1,r,function(n,e){if(n)throw n;t=e}),t}function is(r,t){Ko(!0,r,t)}var an=function(){this._index={},this.addPath("/",new Qe)};an.fromListing=function(t){var n=new an,e=new Qe;n._index["/"]=e;for(var i=[["",t,e]];i.length>0;){var s=void 0,u=i.pop(),l=u[0],m=u[1],I=u[2];for(var H in m)if(m.hasOwnProperty(H)){var G=m[H],st=l+"/"+H;G?(n._index[st]=s=new Qe,i.push([st,G,s])):s=new fr(new J(K.FILE,-1,365)),I&&(I._ls[H]=s)}}return n},an.prototype.fileIterator=function(t){var n=this;for(var e in n._index)if(n._index.hasOwnProperty(e))for(var i=n._index[e],s=i.getListing(),u=0,l=s;u<l.length;u+=1){var m=l[u],I=i.getItem(m);bn(I)&&t(I.getData())}},an.prototype.addPath=function(t,n){if(!n)throw new Error("Inode must be specified");if(t[0]!=="/")throw new Error("Path must be absolute, got: "+t);if(this._index.hasOwnProperty(t))return this._index[t]===n;var e=this._split_path(t),i=e[0],s=e[1],u=this._index[i];return u===void 0&&t!=="/"&&(u=new Qe,!this.addPath(i,u))||t!=="/"&&!u.addItem(s,n)?!1:(Rn(n)&&(this._index[t]=n),!0)},an.prototype.addPathFast=function(t,n){var e=t.lastIndexOf("/"),i=e===0?"/":t.substring(0,e),s=t.substring(e+1),u=this._index[i];return u===void 0&&(u=new Qe,this.addPathFast(i,u)),u.addItem(s,n)?(n.isDir()&&(this._index[t]=n),!0):!1},an.prototype.removePath=function(t){var n=this,e=this._split_path(t),i=e[0],s=e[1],u=this._index[i];if(u===void 0)return null;var l=u.remItem(s);if(l===null)return null;if(Rn(l)){for(var m=l.getListing(),I=0,H=m;I<H.length;I+=1){var G=H[I];n.removePath(t+"/"+G)}t!=="/"&&delete this._index[t]}return l},an.prototype.ls=function(t){var n=this._index[t];return n===void 0?null:n.getListing()},an.prototype.getInode=function(t){var n=this._split_path(t),e=n[0],i=n[1],s=this._index[e];return s===void 0?null:e===t?s:s.getItem(i)},an.prototype._split_path=function(t){var n=w.dirname(t),e=t.substr(n.length+(n==="/"?0:1));return[n,e]};var fr=function(t){this.data=t};fr.prototype.isFile=function(){return!0},fr.prototype.isDir=function(){return!1},fr.prototype.getData=function(){return this.data},fr.prototype.setData=function(t){this.data=t};var Qe=function(t){t===void 0&&(t=null),this.data=t,this._ls={}};Qe.prototype.isFile=function(){return!1},Qe.prototype.isDir=function(){return!0},Qe.prototype.getData=function(){return this.data},Qe.prototype.getStats=function(){return new J(K.DIRECTORY,4096,365)},Qe.prototype.getListing=function(){return Object.keys(this._ls)},Qe.prototype.getItem=function(t){var n=this._ls[t];return n||null},Qe.prototype.addItem=function(t,n){return t in this._ls?!1:(this._ls[t]=n,!0)},Qe.prototype.remItem=function(t){var n=this._ls[t];return n===void 0?null:(delete this._ls[t],n)};function bn(r){return!!r&&r.isFile()}function Rn(r){return!!r&&r.isDir()}function os(r,t,n){try{n(null,r.toString(t))}catch(e){n(e)}}var Ii=(function(r){function t(n,e,i){e===void 0&&(e=""),i===void 0&&(i=!0),r.call(this),n||(n="index.json"),e.length>0&&e.charAt(e.length-1)!=="/"&&(e=e+"/"),this.prefixUrl=e;var s=null;if(typeof n=="string"){if(s=this._requestFileSync(n,"json"),!s)throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else s=n;jt(i,t.Name,{index:typeof n=="string"?n:"file index as an object",baseUrl:e}),this._index=an.fromListing(s)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){e.index===void 0&&(e.index="index.json"),typeof e.index=="string"?t.FromURL(e.index,i,e.baseUrl,!1):i(null,new t(e.index,e.baseUrl,!1))},t.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},t.FromURL=function(e,i,s,u){s===void 0&&(s=e.slice(0,e.lastIndexOf("/")+1)),u===void 0&&(u=!0),u&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+e+'", baseUrl: "'+s+`" }, cb)' instead.`),Jo(e,"json",function(l,m){l?i(l):i(null,new t(m,s,!1))})},t.prototype.empty=function(){this._index.fileIterator(function(e){e.fileData=null})},t.prototype.getName=function(){return t.Name},t.prototype.diskSpace=function(e,i){i(0,0)},t.prototype.isReadOnly=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.preloadFile=function(e,i){var s=this._index.getInode(e);if(bn(s)){if(s===null)throw d.ENOENT(e);var u=s.getData();u.size=i.length,u.fileData=i}else throw d.EISDIR(e)},t.prototype.stat=function(e,i,s){var u=this._index.getInode(e);if(u===null)return s(d.ENOENT(e));var l;bn(u)?(l=u.getData(),l.size<0?this._requestFileSizeAsync(e,function(m,I){if(m)return s(m);l.size=I,s(null,l.clone())}):s(null,l.clone())):Rn(u)?(l=u.getStats(),s(null,l)):s(d.FileError(h.EINVAL,e))},t.prototype.statSync=function(e,i){var s=this._index.getInode(e);if(s===null)throw d.ENOENT(e);var u;if(bn(s))u=s.getData(),u.size<0&&(u.size=this._requestFileSizeSync(e));else if(Rn(s))u=s.getStats();else throw d.FileError(h.EINVAL,e);return u},t.prototype.open=function(e,i,s,u){if(i.isWriteable())return u(new d(h.EPERM,e));var l=this,m=this._index.getInode(e);if(m===null)return u(d.ENOENT(e));if(bn(m)){var I=m.getData();switch(i.pathExistsAction()){case B.THROW_EXCEPTION:case B.TRUNCATE_FILE:return u(d.EEXIST(e));case B.NOP:if(I.fileData)return u(null,new Le(l,e,i,I.clone(),I.fileData));this._requestFileAsync(e,"buffer",function(H,G){return H?u(H):(I.size=G.length,I.fileData=G,u(null,new Le(l,e,i,I.clone(),G)))});break;default:return u(new d(h.EINVAL,"Invalid FileMode object."))}}else return u(d.EISDIR(e))},t.prototype.openSync=function(e,i,s){if(i.isWriteable())throw new d(h.EPERM,e);var u=this._index.getInode(e);if(u===null)throw d.ENOENT(e);if(bn(u)){var l=u.getData();switch(i.pathExistsAction()){case B.THROW_EXCEPTION:case B.TRUNCATE_FILE:throw d.EEXIST(e);case B.NOP:if(l.fileData)return new Le(this,e,i,l.clone(),l.fileData);var m=this._requestFileSync(e,"buffer");return l.size=m.length,l.fileData=m,new Le(this,e,i,l.clone(),m);default:throw new d(h.EINVAL,"Invalid FileMode object.")}}else throw d.EISDIR(e)},t.prototype.readdir=function(e,i){try{i(null,this.readdirSync(e))}catch(s){i(s)}},t.prototype.readdirSync=function(e){var i=this._index.getInode(e);if(i===null)throw d.ENOENT(e);if(Rn(i))return i.getListing();throw d.ENOTDIR(e)},t.prototype.readFile=function(e,i,s,u){var l=u;this.open(e,s,420,function(m,I){if(m)return u(m);u=function(st,wt){I.close(function(_t){return st||(st=_t),l(st,wt)})};var H=I,G=H.getBuffer();i===null?u(m,ee(G)):os(G,i,u)})},t.prototype.readFileSync=function(e,i,s){var u=this.openSync(e,s,420);try{var l=u,m=l.getBuffer();return i===null?ee(m):m.toString(i)}finally{u.closeSync()}},t.prototype.getXhrPath=function(e){return e.charAt(0)==="/"&&(e=e.slice(1)),this.prefixUrl+e},t.prototype._requestFileAsync=function(e,i,s){Jo(this.getXhrPath(e),i,s)},t.prototype._requestFileSync=function(e,i){return ns(this.getXhrPath(e),i)},t.prototype._requestFileSizeAsync=function(e,i){is(this.getXhrPath(e),i)},t.prototype._requestFileSizeSync=function(e){return rs(this.getXhrPath(e))},t})(yt);Ii.Name="XmlHttpRequest",Ii.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var Bn=function(){};Bn.str2byte=function(t,n){for(var e=t.length>n.length?n.length:t.length,i=0;i<e;i++){var s=t.charCodeAt(i);if(s>127){var u=Bn.extendedChars.indexOf(t.charAt(i));u>-1&&(s=u+128)}n[s]=i}return e},Bn.byte2str=function(t){for(var n=new Array(t.length),e=0;e<t.length;e++){var i=t[e];i>127?n[e]=Bn.extendedChars[i-128]:n[e]=String.fromCharCode(i)}return n.join("")},Bn.byteLength=function(t){return t.length},Bn.extendedChars=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","_","_","_","","","","","","","","","+","+","","","+","+","-","-","+","-","+","","","+","+","-","-","","-","+","","","","","","","i","","","","+","+","_","_","","","_","","","","","","","","","","","","","","","","","","","_","","","","","","","","","","","","_"," "];var as=L(31).inflateRaw,Qo={},$o;(function(r){r[r.MSDOS=0]="MSDOS",r[r.AMIGA=1]="AMIGA",r[r.OPENVMS=2]="OPENVMS",r[r.UNIX=3]="UNIX",r[r.VM_CMS=4]="VM_CMS",r[r.ATARI_ST=5]="ATARI_ST",r[r.OS2_HPFS=6]="OS2_HPFS",r[r.MAC=7]="MAC",r[r.Z_SYSTEM=8]="Z_SYSTEM",r[r.CP_M=9]="CP_M",r[r.NTFS=10]="NTFS",r[r.MVS=11]="MVS",r[r.VSE=12]="VSE",r[r.ACORN_RISC=13]="ACORN_RISC",r[r.VFAT=14]="VFAT",r[r.ALT_MVS=15]="ALT_MVS",r[r.BEOS=16]="BEOS",r[r.TANDEM=17]="TANDEM",r[r.OS_400=18]="OS_400",r[r.OSX=19]="OSX"})($o||($o={}));var lr;(function(r){r[r.STORED=0]="STORED",r[r.SHRUNK=1]="SHRUNK",r[r.REDUCED_1=2]="REDUCED_1",r[r.REDUCED_2=3]="REDUCED_2",r[r.REDUCED_3=4]="REDUCED_3",r[r.REDUCED_4=5]="REDUCED_4",r[r.IMPLODE=6]="IMPLODE",r[r.DEFLATE=8]="DEFLATE",r[r.DEFLATE64=9]="DEFLATE64",r[r.TERSE_OLD=10]="TERSE_OLD",r[r.BZIP2=12]="BZIP2",r[r.LZMA=14]="LZMA",r[r.TERSE_NEW=18]="TERSE_NEW",r[r.LZ77=19]="LZ77",r[r.WAVPACK=97]="WAVPACK",r[r.PPMD=98]="PPMD"})(lr||(lr={}));function ta(r,t){var n=t&31,e=(t>>5&15)-1,i=(t>>9)+1980,s=r&31,u=r>>5&63,l=r>>11;return new Date(i,e,n,l,u,s)}function xi(r,t,n,e){return e===0?"":t?r.toString("utf8",n,n+e):Bn.byte2str(r.slice(n,n+e))}var en=function(t){if(this.data=t,t.readUInt32LE(0)!==67324752)throw new d(h.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};en.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},en.prototype.flags=function(){return this.data.readUInt16LE(6)},en.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},en.prototype.lastModFileTime=function(){return ta(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},en.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},en.prototype.crc32=function(){return this.data.readUInt32LE(14)},en.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},en.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},en.prototype.fileName=function(){return xi(this.data,this.useUTF8(),30,this.fileNameLength())},en.prototype.extraField=function(){var t=30+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},en.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},en.prototype.useUTF8=function(){return(this.flags()&2048)===2048};var Mr=function(t,n,e){this.header=t,this.record=n,this.data=e};Mr.prototype.decompress=function(){var t=this.header.compressionMethod(),n=Qo[t];if(n)return n(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var e=lr[t];throw e||(e="Unknown: "+t),new d(h.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+e)},Mr.prototype.getHeader=function(){return this.header},Mr.prototype.getRecord=function(){return this.record},Mr.prototype.getRawData=function(){return this.data};var ce=function(t,n){if(this.zipData=t,this.data=n,this.data.readUInt32LE(0)!==33639248)throw new d(h.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};ce.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},ce.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},ce.prototype.flag=function(){return this.data.readUInt16LE(8)},ce.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},ce.prototype.lastModFileTime=function(){return ta(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},ce.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},ce.prototype.crc32=function(){return this.data.readUInt32LE(16)},ce.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},ce.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},ce.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},ce.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},ce.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},ce.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},ce.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},ce.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},ce.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},ce.prototype.produceFilename=function(){var t=xi(this.data,this.useUTF8(),46,this.fileNameLength());return t.replace(/\\/g,"/")},ce.prototype.fileName=function(){return this._filename},ce.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},ce.prototype.extraField=function(){var t=44+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},ce.prototype.fileComment=function(){var t=46+this.fileNameLength()+this.extraFieldLength();return xi(this.data,this.useUTF8(),t,this.fileCommentLength())},ce.prototype.rawFileComment=function(){var t=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(t,t+this.fileCommentLength())},ce.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},ce.prototype.isDirectory=function(){var t=this.fileName();return!!(this.externalAttributes()&16)||t.charAt(t.length-1)==="/"},ce.prototype.isFile=function(){return!this.isDirectory()},ce.prototype.useUTF8=function(){return(this.flag()&2048)===2048},ce.prototype.isEncrypted=function(){return(this.flag()&1)===1},ce.prototype.getFileData=function(){var t=this.headerRelativeOffset(),n=new en(this.zipData.slice(t));return new Mr(n,this,this.zipData.slice(t+n.totalSize()))},ce.prototype.getData=function(){return this.getFileData().decompress()},ce.prototype.getRawData=function(){return this.getFileData().getRawData()},ce.prototype.getStats=function(){return new J(K.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var pn=function(t){if(this.data=t,this.data.readUInt32LE(0)!==101010256)throw new d(h.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};pn.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},pn.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},pn.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},pn.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},pn.prototype.cdSize=function(){return this.data.readUInt32LE(12)},pn.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},pn.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},pn.prototype.cdZipComment=function(){return xi(this.data,!0,22,this.cdZipCommentLength())},pn.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var ea=function(t,n,e,i){this.index=t,this.directoryEntries=n,this.eocd=e,this.data=i},Wn=(function(r){function t(n,e,i){e===void 0&&(e=""),i===void 0&&(i=!0),r.call(this),this.name=e,this._index=new an,this._directoryEntries=[],this._eocd=null,jt(i,t.Name,{zipData:"zip data as a Buffer",name:e}),n instanceof ea?(this._index=n.index,this._directoryEntries=n.directoryEntries,this._eocd=n.eocd,this.data=n.data):(this.data=n,this.populateIndex())}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){try{t.computeIndex(e.zipData,function(s){var u=new t(s,e.name,!1);i(null,u)},!1)}catch(s){i(s)}},t.isAvailable=function(){return!0},t.RegisterDecompressionMethod=function(e,i){Qo[e]=i},t.computeIndex=function(e,i,s){s===void 0&&(s=!0),s&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var u=new an,l=t.getEOCD(e);if(l.diskNumber()!==l.cdDiskNumber())throw new d(h.EINVAL,"ZipFS does not support spanned zip files.");var m=l.cdOffset();if(m===4294967295)throw new d(h.EINVAL,"ZipFS does not support Zip64.");var I=m+l.cdSize();t.computeIndexResponsive(e,u,m,I,i,[],l)},t.getEOCD=function(e){for(var i=22,s=Math.min(i+65535,e.length-1),u=i;u<s;u++)if(e.readUInt32LE(e.length-u)===101010256)return new pn(e.slice(e.length-u));throw new d(h.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},t.addToIndex=function(e,i){var s=e.fileName();if(s.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");s.charAt(s.length-1)==="/"&&(s=s.substr(0,s.length-1)),e.isDirectory()?i.addPathFast("/"+s,new Qe(e)):i.addPathFast("/"+s,new fr(e))},t.computeIndexResponsive=function(e,i,s,u,l,m,I){if(s<u){for(var H=0;H++<200&&s<u;){var G=new ce(e,e.slice(s));t.addToIndex(G,i),s+=G.totalSize(),m.push(G)}ho(function(){t.computeIndexResponsive(e,i,s,u,l,m,I)})}else l(new ea(i,m,I,e))},t.prototype.getName=function(){return t.Name+(this.name!==""?" "+this.name:"")},t.prototype.getCentralDirectoryEntry=function(e){var i=this._index.getInode(e);if(i===null)throw d.ENOENT(e);if(bn(i))return i.getData();if(Rn(i))return i.getData();throw d.EPERM("Invalid inode: "+i)},t.prototype.getCentralDirectoryEntryAt=function(e){var i=this._directoryEntries[e];if(!i)throw new RangeError("Invalid directory index: "+e+".");return i},t.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},t.prototype.getEndOfCentralDirectory=function(){return this._eocd},t.prototype.diskSpace=function(e,i){i(this.data.length,0)},t.prototype.isReadOnly=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.statSync=function(e,i){var s=this._index.getInode(e);if(s===null)throw d.ENOENT(e);var u;if(bn(s))u=s.getData().getStats();else if(Rn(s))u=s.getStats();else throw new d(h.EINVAL,"Invalid inode.");return u},t.prototype.openSync=function(e,i,s){if(i.isWriteable())throw new d(h.EPERM,e);var u=this._index.getInode(e);if(u)if(bn(u)){var l=u.getData(),m=l.getStats();switch(i.pathExistsAction()){case B.THROW_EXCEPTION:case B.TRUNCATE_FILE:throw d.EEXIST(e);case B.NOP:return new Le(this,e,i,m,l.getData());default:throw new d(h.EINVAL,"Invalid FileMode object.")}}else throw d.EISDIR(e);else throw d.ENOENT(e)},t.prototype.readdirSync=function(e){var i=this._index.getInode(e);if(i){if(Rn(i))return i.getListing();throw d.ENOTDIR(e)}else throw d.ENOENT(e)},t.prototype.readFileSync=function(e,i,s){var u=this.openSync(e,s,420);try{var l=u,m=l.getBuffer();return i===null?ee(m):m.toString(i)}finally{u.closeSync()}},t.prototype.populateIndex=function(){var e=this,i=this._eocd=t.getEOCD(this.data);if(i.diskNumber()!==i.cdDiskNumber())throw new d(h.EINVAL,"ZipFS does not support spanned zip files.");var s=i.cdOffset();if(s===4294967295)throw new d(h.EINVAL,"ZipFS does not support Zip64.");for(var u=s+i.cdSize();s<u;){var l=new ce(e.data,e.data.slice(s));s+=l.totalSize(),t.addToIndex(l,e._index),e._directoryEntries.push(l)}},t})(me);Wn.Name="ZipFS",Wn.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:k},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},Wn.CompressionMethod=lr,Wn.RegisterDecompressionMethod(lr.DEFLATE,function(r,t,n){return Gt(as(r.slice(0,t),{chunkSize:n}))}),Wn.RegisterDecompressionMethod(lr.STORED,function(r,t,n){return ee(r,0,n)});var ss="IEEE_P1282";function $e(r,t,n){return r.toString("ascii",t,t+n).trim()}function yo(r,t,n){if(n===1)return String.fromCharCode(r[t]);for(var e=Math.floor(n/2),i=new Array(e),s=0;s<e;s++){var u=t+(s<<1);i[s]=String.fromCharCode(r[u+1]|r[u]<<8)}return i.join("")}function dn(r,t){var n=parseInt($e(r,t,4),10),e=parseInt($e(r,t+4,2),10),i=parseInt($e(r,t+6,2),10),s=parseInt($e(r,t+8,2),10),u=parseInt($e(r,t+10,2),10),l=parseInt($e(r,t+12,2),10),m=parseInt($e(r,t+14,2),10);return new Date(n,e,i,s,u,l,m*100)}function Hn(r,t){var n=r[t],e=r[t+1],i=r[t+2],s=r[t+3],u=r[t+4],l=r[t+5];return new Date(n,e-1,i,s,u,l)}function cs(r,t){var n=r.slice(t),e=new Re(n);switch(e.signatureWord()){case 17221:return new aa(n);case 20548:return new ls(n);case 21328:return new sa(n);case 21332:return new ca(n);case 17746:return new ua(n);case 17747:return new hs(n);case 20568:return new la(n);case 20558:return new ps(n);case 21324:return new vo(n);case 20045:return new ha(n);case 17228:return new go(n);case 20556:return new ds(n);case 21061:return new pa(n);case 21574:return new da(n);case 21318:return new ys(n);case 21074:return new fa(n);default:return e}}function na(r,t,n,e){n=n-4;for(var i=new Array;t<n;){var s=cs(r,t),u=s.length();if(u===0)return i;if(t+=u,s instanceof ca)break;s instanceof aa?i=i.concat(s.getEntries(e)):i.push(s)}return i}var hr=function(t){this._data=t};hr.prototype.type=function(){return this._data[0]},hr.prototype.standardIdentifier=function(){return $e(this._data,1,5)},hr.prototype.version=function(){return this._data[6]},hr.prototype.data=function(){return this._data.slice(7,2048)};var ra=(function(r){function t(n){r.call(this,n),this._root=null}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.systemIdentifier=function(){return this._getString32(8)},t.prototype.volumeIdentifier=function(){return this._getString32(40)},t.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},t.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},t.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},t.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},t.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},t.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},t.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},t.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},t.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},t.prototype.rootDirectoryEntry=function(e){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(e)),this._root},t.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},t.prototype.publisherIdentifier=function(){return this._getString(318,128)},t.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},t.prototype.applicationIdentifier=function(){return this._getString(574,128)},t.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},t.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},t.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},t.prototype.volumeCreationDate=function(){return dn(this._data,813)},t.prototype.volumeModificationDate=function(){return dn(this._data,830)},t.prototype.volumeExpirationDate=function(){return dn(this._data,847)},t.prototype.volumeEffectiveDate=function(){return dn(this._data,864)},t.prototype.fileStructureVersion=function(){return this._data[881]},t.prototype.applicationUsed=function(){return this._data.slice(883,1395)},t.prototype.reserved=function(){return this._data.slice(1395,2048)},t.prototype._getString32=function(e){return this._getString(e,32)},t})(hr),us=(function(r){function t(n){if(r.call(this,n),this.type()!==1)throw new d(h.EIO,"Invalid primary volume descriptor.")}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.name=function(){return"ISO9660"},t.prototype._constructRootDirectoryRecord=function(e){return new ia(e,-1)},t.prototype._getString=function(e,i){return this._getString(e,i)},t})(ra),fs=(function(r){function t(n){if(r.call(this,n),this.type()!==2)throw new d(h.EIO,"Invalid supplementary volume descriptor.");var e=this.escapeSequence(),i=e[2];if(e[0]!==37||e[1]!==47||i!==64&&i!==67&&i!==69)throw new d(h.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+e.toString())}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.name=function(){return"Joliet"},t.prototype.escapeSequence=function(){return this._data.slice(88,120)},t.prototype._constructRootDirectoryRecord=function(e){return new oa(e,-1)},t.prototype._getString=function(e,i){return yo(this._data,e,i)},t})(ra),Ee=function(t,n){this._suEntries=null,this._fileOrDir=null,this._data=t,this._rockRidgeOffset=n};Ee.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},Ee.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},Ee.prototype.rootCheckForRockRidge=function(t){var n=this.getDirectory(t);this._rockRidgeOffset=n.getDotEntry(t)._getRockRidgeOffset(t),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},Ee.prototype.length=function(){return this._data[0]},Ee.prototype.extendedAttributeRecordLength=function(){return this._data[1]},Ee.prototype.lba=function(){return this._data.readUInt32LE(2)*2048},Ee.prototype.dataLength=function(){return this._data.readUInt32LE(10)},Ee.prototype.recordingDate=function(){return Hn(this._data,18)},Ee.prototype.fileFlags=function(){return this._data[25]},Ee.prototype.fileUnitSize=function(){return this._data[26]},Ee.prototype.interleaveGapSize=function(){return this._data[27]},Ee.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},Ee.prototype.identifier=function(){return this._getString(33,this._data[32])},Ee.prototype.fileName=function(t){if(this.hasRockRidge()){var n=this._rockRidgeFilename(t);if(n!==null)return n}var e=this.identifier();if(this.isDirectory(t))return e;var i=e.indexOf(";");return i===-1?e:e[i-1]==="."?e.slice(0,i-1):e.slice(0,i)},Ee.prototype.isDirectory=function(t){var n=!!(this.fileFlags()&2);return!n&&this.hasRockRidge()&&(n=this.getSUEntries(t).filter(function(e){return e instanceof go}).length>0),n},Ee.prototype.isSymlink=function(t){return this.hasRockRidge()&&this.getSUEntries(t).filter(function(n){return n instanceof vo}).length>0},Ee.prototype.getSymlinkPath=function(t){for(var n="",e=this.getSUEntries(t),i=this._getGetString(),s=0,u=e;s<u.length;s+=1){var l=u[s];if(l instanceof vo){for(var m=l.componentRecords(),I=0,H=m;I<H.length;I+=1){var G=H[I],st=G.flags();st&2?n+="./":st&4?n+="../":st&8?n+="/":(n+=G.content(i),st&1||(n+="/"))}if(!l.continueFlag())break}}return n.length>1&&n[n.length-1]==="/"?n.slice(0,n.length-1):n},Ee.prototype.getFile=function(t){if(this.isDirectory(t))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=t.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},Ee.prototype.getDirectory=function(t){if(!this.isDirectory(t))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(t)),this._fileOrDir},Ee.prototype.getSUEntries=function(t){return this._suEntries||this._constructSUEntries(t),this._suEntries},Ee.prototype._rockRidgeFilename=function(t){var n=this.getSUEntries(t).filter(function(m){return m instanceof ha});if(n.length===0||n[0].flags()&6)return null;for(var e="",i=this._getGetString(),s=0,u=n;s<u.length;s+=1){var l=u[s];if(e+=l.name(i),!(l.flags()&1))break}return e},Ee.prototype._constructSUEntries=function(t){var n=33+this._data[32];n%2===1&&n++,n+=this._rockRidgeOffset,this._suEntries=na(this._data,n,this.length(),t)},Ee.prototype._getRockRidgeOffset=function(t){this._rockRidgeOffset=0;var n=this.getSUEntries(t);if(n.length>0){var e=n[0];if(e instanceof sa&&e.checkBytesPass())for(var i=1;i<n.length;i++){var s=n[i];if(s instanceof fa||s instanceof ua&&s.extensionIdentifier()===ss)return e.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var ia=(function(r){function t(n,e){r.call(this,n,e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype._getString=function(e,i){return $e(this._data,e,i)},t.prototype._constructDirectory=function(e){return new vs(this,e)},t.prototype._getGetString=function(){return $e},t})(Ee),oa=(function(r){function t(n,e){r.call(this,n,e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype._getString=function(e,i){return yo(this._data,e,i)},t.prototype._constructDirectory=function(e){return new gs(this,e)},t.prototype._getGetString=function(){return yo},t})(Ee),Re=function(t){this._data=t};Re.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},Re.prototype.signatureWordString=function(){return $e(this._data,0,2)},Re.prototype.length=function(){return this._data[2]},Re.prototype.suVersion=function(){return this._data[3]};var aa=(function(r){function t(n){r.call(this,n),this._entries=null}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},t.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},t.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},t.prototype.getEntries=function(e){if(!this._entries){var i=this.continuationLba()*2048+this.continuationLbaOffset();this._entries=na(e,i,this.continuationLength(),e)}return this._entries},t})(Re),ls=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t})(Re),sa=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},t.prototype.bytesSkipped=function(){return this._data[6]},t})(Re),ca=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t})(Re),ua=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.identifierLength=function(){return this._data[4]},t.prototype.descriptorLength=function(){return this._data[5]},t.prototype.sourceLength=function(){return this._data[6]},t.prototype.extensionVersion=function(){return this._data[7]},t.prototype.extensionIdentifier=function(){return $e(this._data,8,this.identifierLength())},t.prototype.extensionDescriptor=function(){return $e(this._data,8+this.identifierLength(),this.descriptorLength())},t.prototype.extensionSource=function(){return $e(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},t})(Re),hs=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.extensionSequence=function(){return this._data[4]},t})(Re),fa=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t})(Re),la=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.mode=function(){return this._data.readUInt32LE(4)},t.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},t.prototype.uid=function(){return this._data.readUInt32LE(20)},t.prototype.gid=function(){return this._data.readUInt32LE(28)},t.prototype.inode=function(){return this._data.readUInt32LE(36)},t})(Re),ps=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},t.prototype.devTLow=function(){return this._data.readUInt32LE(12)},t})(Re),vo=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.flags=function(){return this._data[4]},t.prototype.continueFlag=function(){return this.flags()&1},t.prototype.componentRecords=function(){for(var e=this,i=new Array,s=5;s<this.length();){var u=new zr(e._data.slice(s));i.push(u),s+=u.length()}return i},t})(Re),zr=function(t){this._data=t};zr.prototype.flags=function(){return this._data[0]},zr.prototype.length=function(){return 2+this.componentLength()},zr.prototype.componentLength=function(){return this._data[1]},zr.prototype.content=function(t){return t(this._data,2,this.componentLength())};var ha=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.flags=function(){return this._data[4]},t.prototype.name=function(e){return e(this._data,5,this.length()-5)},t})(Re),go=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},t})(Re),ds=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},t})(Re),pa=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t})(Re),da=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.flags=function(){return this._data[4]},t.prototype.creation=function(){return this.flags()&1?this._longFormDates()?dn(this._data,5):Hn(this._data,5):null},t.prototype.modify=function(){if(this.flags()&2){var e=this.flags()&1?1:0;return this._longFormDates?dn(this._data,5+e*17):Hn(this._data,5+e*7)}else return null},t.prototype.access=function(){if(this.flags()&4){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,this._longFormDates?dn(this._data,5+e*17):Hn(this._data,5+e*7)}else return null},t.prototype.backup=function(){if(this.flags()&16){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,e+=this.flags()&4?1:0,this._longFormDates?dn(this._data,5+e*17):Hn(this._data,5+e*7)}else return null},t.prototype.expiration=function(){if(this.flags()&32){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,e+=this.flags()&4?1:0,e+=this.flags()&16?1:0,this._longFormDates?dn(this._data,5+e*17):Hn(this._data,5+e*7)}else return null},t.prototype.effective=function(){if(this.flags()&64){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,e+=this.flags()&4?1:0,e+=this.flags()&16?1:0,e+=this.flags()&32?1:0,this._longFormDates?dn(this._data,5+e*17):Hn(this._data,5+e*7)}else return null},t.prototype._longFormDates=function(){return!!this.flags()},t})(Re),ys=(function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},t.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},t.prototype.tableDepth=function(){return this._data[20]},t})(Re),jr=function(t,n){var e=this;this._fileList=[],this._fileMap={},this._record=t;var i=t.lba(),s=i+t.dataLength();if(!(t.fileFlags()&2)){var u=t.getSUEntries(n).filter(function(H){return H instanceof go})[0];i=u.childDirectoryLba()*2048,s=1/0}for(;i<s;){var l=n[i];if(l===0){i++;continue}var m=e._constructDirectoryRecord(n.slice(i)),I=m.fileName(n);I!=="\0"&&I!==""?(!m.hasRockRidge()||m.getSUEntries(n).filter(function(H){return H instanceof pa}).length===0)&&(e._fileMap[I]=m,e._fileList.push(I)):s===1/0&&(s=i+m.dataLength()),i+=m.length()}};jr.prototype.getRecord=function(t){return this._fileMap[t]},jr.prototype.getFileList=function(){return this._fileList},jr.prototype.getDotEntry=function(t){return this._constructDirectoryRecord(t.slice(this._record.lba()))};var vs=(function(r){function t(n,e){r.call(this,n,e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype._constructDirectoryRecord=function(e){return new ia(e,this._record.getRockRidgeOffset())},t})(jr),gs=(function(r){function t(n,e){r.call(this,n,e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype._constructDirectoryRecord=function(e){return new oa(e,this._record.getRockRidgeOffset())},t})(jr),Ti=(function(r){function t(n,e,i){var s=this;e===void 0&&(e=""),i===void 0&&(i=!0),r.call(this),this._data=n,jt(i,t.Name,{data:"ISO data as a Buffer",name:e});for(var u=!1,l=16*2048,m=new Array;!u;){var I=n.slice(l),H=new hr(I);switch(H.type()){case 1:m.push(new us(I));break;case 2:m.push(new fs(I));break;case 255:u=!0;break}l+=2048}if(m.length===0)throw new d(h.EIO,"Unable to find a suitable volume descriptor.");m.forEach(function(G){(!s._pvd||s._pvd.type()!==2)&&(s._pvd=G)}),this._root=this._pvd.rootDirectoryEntry(n),this._name=e}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,i){var s,u;try{s=new t(e.data,e.name,!1)}catch(l){l=l}finally{i(u,s)}},t.isAvailable=function(){return!0},t.prototype.getName=function(){var e="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(e+="-RockRidge"),e},t.prototype.diskSpace=function(e,i){i(this._data.length,0)},t.prototype.isReadOnly=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.statSync=function(e,i){var s=this._getDirectoryRecord(e);if(s===null)throw d.ENOENT(e);return this._getStats(e,s)},t.prototype.openSync=function(e,i,s){if(i.isWriteable())throw new d(h.EPERM,e);var u=this._getDirectoryRecord(e);if(u){if(u.isSymlink(this._data))return this.openSync(w.resolve(e,u.getSymlinkPath(this._data)),i,s);if(u.isDirectory(this._data))throw d.EISDIR(e);var l=u.getFile(this._data),m=this._getStats(e,u);switch(i.pathExistsAction()){case B.THROW_EXCEPTION:case B.TRUNCATE_FILE:throw d.EEXIST(e);case B.NOP:return new Le(this,e,i,m,l);default:throw new d(h.EINVAL,"Invalid FileMode object.")}}else throw d.ENOENT(e)},t.prototype.readdirSync=function(e){var i=this._getDirectoryRecord(e);if(i){if(i.isDirectory(this._data))return i.getDirectory(this._data).getFileList().slice(0);throw d.ENOTDIR(e)}else throw d.ENOENT(e)},t.prototype.readFileSync=function(e,i,s){var u=this.openSync(e,s,420);try{var l=u,m=l.getBuffer();return i===null?ee(m):m.toString(i)}finally{u.closeSync()}},t.prototype._getDirectoryRecord=function(e){var i=this;if(e==="/")return this._root;for(var s=e.split("/").slice(1),u=this._root,l=0,m=s;l<m.length;l+=1){var I=m[l];if(u.isDirectory(i._data)){if(u=u.getDirectory(i._data).getRecord(I),!u)return null}else return null}return u},t.prototype._getStats=function(e,i){if(i.isSymlink(this._data)){var s=w.resolve(e,i.getSymlinkPath(this._data)),u=this._getDirectoryRecord(s);return u?this._getStats(s,u):null}else{var l=i.dataLength(),m=365,I=i.recordingDate(),H=I,G=I,st=I;if(i.hasRockRidge())for(var wt=i.getSUEntries(this._data),_t=0,At=wt;_t<At.length;_t+=1){var Wt=At[_t];if(Wt instanceof la)m=Wt.mode();else if(Wt instanceof da){var te=Wt.flags();te&4&&(H=Wt.access()),te&2&&(G=Wt.modify()),te&1&&(st=Wt.creation())}}return m=m&365,new J(i.isDirectory(this._data)?K.DIRECTORY:K.FILE,l,m,H,G,st)}},t})(me);Ti.Name="IsoFS",Ti.Options={data:{type:"object",description:"The ISO file in a buffer",validator:k}},[D,or,Sn,kn,cr,b,lt,Ti,Nt,Yt,Pr,bi,Ii,Wn].forEach(function(r){var t=r.Create;r.Create=function(n,e){var i=typeof n=="function",s=i?n:e,u=i?{}:n;function l(m){m?s(m):t.call(r,u,s)}z(r,u,l)}});var Oi={AsyncMirror:D,Dropbox:or,Emscripten:Sn,FolderAdapter:kn,HTML5FS:cr,InMemory:b,IndexedDB:lt,IsoFS:Ti,LocalStorage:Nt,MountableFileSystem:Yt,OverlayFS:Pr,WorkerFS:bi,XmlHttpRequest:Ii,ZipFS:Wn};U.initializeTTYs&&U.initializeTTYs();function ms(r){r.Buffer=A,r.process=U;var t=r.require?r.require:null;r.require=function(n){var e=ya(n);return e||t.apply(null,Array.prototype.slice.call(arguments,0))}}function ws(r,t){Oi[r]=t}function ya(r){switch(r){case"fs":return It;case"path":return w;case"buffer":return T;case"process":return U;case"bfs_utils":return ft;default:return Oi[r]}}function va(r){return It.initialize(r)}function _s(r,t){mo(r,function(n,e){e?(va(e),t()):t(n)})}function mo(r,t){var n=r.fs;if(!n)return t(new d(h.EPERM,'Missing "fs" property on configuration object.'));var e=r.options,i=0,s=!1;function u(){if(!s){s=!0;var I=Oi[n];I?I.Create(e,t):t(new d(h.EPERM,"File system "+n+" is not available in BrowserFS."))}}if(e!==null&&typeof e=="object"){var l=!1,m=Object.keys(e).filter(function(I){return I!=="fs"});m.forEach(function(I){var H=e[I];H!==null&&typeof H=="object"&&H.fs&&(i++,mo(H,function(G,st){if(i--,G){if(s)return;s=!0,t(G)}else e[I]=st,i===0&&l&&u()}))}),l=!0}i===0&&u()}"ab".substr(-1)!=="b"&&(String.prototype.substr=(function(r){return function(t,n){return t<0&&(t=this.length+t),r.call(this,t,n)}})(String.prototype.substr)),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(r,t){r===void 0&&(r=0),t===void 0&&(t=this.length);var n=this;return r<0&&(r=this.length+r,r<0&&(r=0)),t<0&&(t=this.length+t,t<0&&(t=0)),t<r&&(t=r),new Uint8Array(n.buffer,n.byteOffset+r,t-r)})),M.install=ms,M.registerFileSystem=ws,M.BFSRequire=ya,M.initialize=va,M.configure=_s,M.getFileSystem=mo,M.EmscriptenFS=Ut,M.FileSystem=Oi,M.Errors=Y,M.setImmediate=ho}).call(M,L(1),(function(){return this})(),L(5)(P),L(6))},function(P,M,L){P.exports=L(2).Buffer},function(P,M,L){(function(h){var q=L(3),R=L(4);M.Buffer=h,M.SlowBuffer=at,M.INSPECT_MAX_BYTES=50;var U=2147483647;M.kMaxLength=U,h.TYPED_ARRAY_SUPPORT=T(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function T(){try{var D=new Uint8Array(1);return D.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},D.foo()===42}catch{return!1}}function w(D){if(D>U)throw new RangeError("Invalid typed array length");var y=new Uint8Array(D);return y.__proto__=h.prototype,y}function h(D,y,v){if(typeof D=="number"){if(typeof y=="string")throw new Error("If encoding is specified then the first argument must be a string");return B(D)}return O(D,y,v)}typeof Symbol<"u"&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192;function O(D,y,v){if(typeof D=="number")throw new TypeError('"value" argument must not be a number');return Te(D)?J(D,y,v):typeof D=="string"?X(D,y):mt(D)}h.from=function(D,y,v){return O(D,y,v)},h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array;function d(D){if(typeof D!="number")throw new TypeError('"size" argument must be a number');if(D<0)throw new RangeError('"size" argument must not be negative')}function Y(D,y,v){return d(D),D<=0?w(D):y!==void 0?typeof v=="string"?w(D).fill(y,v):w(D).fill(y):w(D)}h.alloc=function(D,y,v){return Y(D,y,v)};function B(D){return d(D),w(D<0?0:et(D)|0)}h.allocUnsafe=function(D){return B(D)},h.allocUnsafeSlow=function(D){return B(D)};function X(D,y){if((typeof y!="string"||y==="")&&(y="utf8"),!h.isEncoding(y))throw new TypeError('"encoding" must be a valid string encoding');var v=Zt(D,y)|0,C=w(v),Q=C.write(D,y);return Q!==v&&(C=C.slice(0,Q)),C}function K(D){for(var y=D.length<0?0:et(D.length)|0,v=w(y),C=0;C<y;C+=1)v[C]=D[C]&255;return v}function J(D,y,v){if(y<0||D.byteLength<y)throw new RangeError("'offset' is out of bounds");if(D.byteLength<y+(v||0))throw new RangeError("'length' is out of bounds");var C;return y===void 0&&v===void 0?C=new Uint8Array(D):v===void 0?C=new Uint8Array(D,y):C=new Uint8Array(D,y,v),C.__proto__=h.prototype,C}function mt(D){if(h.isBuffer(D)){var y=et(D.length)|0,v=w(y);return v.length===0||D.copy(v,0,0,y),v}if(D){if(Le(D)||"length"in D)return typeof D.length!="number"||He(D.length)?w(0):K(D);if(D.type==="Buffer"&&Array.isArray(D.data))return K(D.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function et(D){if(D>=U)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+U.toString(16)+" bytes");return D|0}function at(D){return+D!=D&&(D=0),h.alloc(+D)}h.isBuffer=function(y){return y!=null&&y._isBuffer===!0},h.compare=function(y,v){if(!h.isBuffer(y)||!h.isBuffer(v))throw new TypeError("Arguments must be Buffers");if(y===v)return 0;for(var C=y.length,Q=v.length,ot=0,ht=Math.min(C,Q);ot<ht;++ot)if(y[ot]!==v[ot]){C=y[ot],Q=v[ot];break}return C<Q?-1:Q<C?1:0},h.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(y,v){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return h.alloc(0);var C;if(v===void 0)for(v=0,C=0;C<y.length;++C)v+=y[C].length;var Q=h.allocUnsafe(v),ot=0;for(C=0;C<y.length;++C){var ht=y[C];if(!h.isBuffer(ht))throw new TypeError('"list" argument must be an Array of Buffers');ht.copy(Q,ot),ot+=ht.length}return Q};function Zt(D,y){if(h.isBuffer(D))return D.length;if(Le(D)||Te(D))return D.byteLength;typeof D!="string"&&(D=""+D);var v=D.length;if(v===0)return 0;for(var C=!1;;)switch(y){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":case void 0:return Lt(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return me(D).length;default:if(C)return Lt(D).length;y=(""+y).toLowerCase(),C=!0}}h.byteLength=Zt;function V(D,y,v){var C=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,y>>>=0,v<=y))return"";for(D||(D="utf8");;)switch(D){case"hex":return Gt(this,y,v);case"utf8":case"utf-8":return Se(this,y,v);case"ascii":return dt(this,y,v);case"latin1":case"binary":return Ft(this,y,v);case"base64":return Pt(this,y,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ht(this,y,v);default:if(C)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase(),C=!0}}h.prototype._isBuffer=!0;function Xt(D,y,v){var C=D[y];D[y]=D[v],D[v]=C}h.prototype.swap16=function(){var y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var v=0;v<y;v+=2)Xt(this,v,v+1);return this},h.prototype.swap32=function(){var y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var v=0;v<y;v+=4)Xt(this,v,v+3),Xt(this,v+1,v+2);return this},h.prototype.swap64=function(){var y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var v=0;v<y;v+=8)Xt(this,v,v+7),Xt(this,v+1,v+6),Xt(this,v+2,v+5),Xt(this,v+3,v+4);return this},h.prototype.toString=function(){var y=this.length;return y===0?"":arguments.length===0?Se(this,0,y):V.apply(this,arguments)},h.prototype.equals=function(y){if(!h.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:h.compare(this,y)===0},h.prototype.inspect=function(){var y="",v=M.INSPECT_MAX_BYTES;return this.length>0&&(y=this.toString("hex",0,v).match(/.{2}/g).join(" "),this.length>v&&(y+=" ... ")),"<Buffer "+y+">"},h.prototype.compare=function(y,v,C,Q,ot){if(!h.isBuffer(y))throw new TypeError("Argument must be a Buffer");if(v===void 0&&(v=0),C===void 0&&(C=y?y.length:0),Q===void 0&&(Q=0),ot===void 0&&(ot=this.length),v<0||C>y.length||Q<0||ot>this.length)throw new RangeError("out of range index");if(Q>=ot&&v>=C)return 0;if(Q>=ot)return-1;if(v>=C)return 1;if(v>>>=0,C>>>=0,Q>>>=0,ot>>>=0,this===y)return 0;for(var ht=ot-Q,Qt=C-v,re=Math.min(ht,Qt),ue=this.slice(Q,ot),we=y.slice(v,C),ie=0;ie<re;++ie)if(ue[ie]!==we[ie]){ht=ue[ie],Qt=we[ie];break}return ht<Qt?-1:Qt<ht?1:0};function Ct(D,y,v,C,Q){if(D.length===0)return-1;if(typeof v=="string"?(C=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,He(v)&&(v=Q?0:D.length-1),v<0&&(v=D.length+v),v>=D.length){if(Q)return-1;v=D.length-1}else if(v<0)if(Q)v=0;else return-1;if(typeof y=="string"&&(y=h.from(y,C)),h.isBuffer(y))return y.length===0?-1:nt(D,y,v,C,Q);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?Q?Uint8Array.prototype.indexOf.call(D,y,v):Uint8Array.prototype.lastIndexOf.call(D,y,v):nt(D,[y],v,C,Q);throw new TypeError("val must be string, number or Buffer")}function nt(D,y,v,C,Q){var ot=1,ht=D.length,Qt=y.length;if(C!==void 0&&(C=String(C).toLowerCase(),C==="ucs2"||C==="ucs-2"||C==="utf16le"||C==="utf-16le")){if(D.length<2||y.length<2)return-1;ot=2,ht/=2,Qt/=2,v/=2}function re(gn,nn){return ot===1?gn[nn]:gn.readUInt16BE(nn*ot)}var ue;if(Q){var we=-1;for(ue=v;ue<ht;ue++)if(re(D,ue)===re(y,we===-1?0:ue-we)){if(we===-1&&(we=ue),ue-we+1===Qt)return we*ot}else we!==-1&&(ue-=ue-we),we=-1}else for(v+Qt>ht&&(v=ht-Qt),ue=v;ue>=0;ue--){for(var ie=!0,Je=0;Je<Qt;Je++)if(re(D,ue+Je)!==re(y,Je)){ie=!1;break}if(ie)return ue}return-1}h.prototype.includes=function(y,v,C){return this.indexOf(y,v,C)!==-1},h.prototype.indexOf=function(y,v,C){return Ct(this,y,v,C,!0)},h.prototype.lastIndexOf=function(y,v,C){return Ct(this,y,v,C,!1)};function gt(D,y,v,C){v=Number(v)||0;var Q=D.length-v;C?(C=Number(C),C>Q&&(C=Q)):C=Q;var ot=y.length;if(ot%2!==0)throw new TypeError("Invalid hex string");C>ot/2&&(C=ot/2);for(var ht=0;ht<C;++ht){var Qt=parseInt(y.substr(ht*2,2),16);if(He(Qt))return ht;D[v+ht]=Qt}return ht}function It(D,y,v,C){return zt(Lt(y,D.length-v),D,v,C)}function $t(D,y,v,C){return zt(Ut(y),D,v,C)}function kt(D,y,v,C){return $t(D,y,v,C)}function Jt(D,y,v,C){return zt(me(y),D,v,C)}function jt(D,y,v,C){return zt(yt(y,D.length-v),D,v,C)}h.prototype.write=function(y,v,C,Q){if(v===void 0)Q="utf8",C=this.length,v=0;else if(C===void 0&&typeof v=="string")Q=v,C=this.length,v=0;else if(isFinite(v))v=v>>>0,isFinite(C)?(C=C>>>0,Q===void 0&&(Q="utf8")):(Q=C,C=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ot=this.length-v;if((C===void 0||C>ot)&&(C=ot),y.length>0&&(C<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");Q||(Q="utf8");for(var ht=!1;;)switch(Q){case"hex":return gt(this,y,v,C);case"utf8":case"utf-8":return It(this,y,v,C);case"ascii":return $t(this,y,v,C);case"latin1":case"binary":return kt(this,y,v,C);case"base64":return Jt(this,y,v,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jt(this,y,v,C);default:if(ht)throw new TypeError("Unknown encoding: "+Q);Q=(""+Q).toLowerCase(),ht=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Pt(D,y,v){return y===0&&v===D.length?q.fromByteArray(D):q.fromByteArray(D.slice(y,v))}function Se(D,y,v){v=Math.min(D.length,v);for(var C=[],Q=y;Q<v;){var ot=D[Q],ht=null,Qt=ot>239?4:ot>223?3:ot>191?2:1;if(Q+Qt<=v){var re,ue,we,ie;switch(Qt){case 1:ot<128&&(ht=ot);break;case 2:re=D[Q+1],(re&192)===128&&(ie=(ot&31)<<6|re&63,ie>127&&(ht=ie));break;case 3:re=D[Q+1],ue=D[Q+2],(re&192)===128&&(ue&192)===128&&(ie=(ot&15)<<12|(re&63)<<6|ue&63,ie>2047&&(ie<55296||ie>57343)&&(ht=ie));break;case 4:re=D[Q+1],ue=D[Q+2],we=D[Q+3],(re&192)===128&&(ue&192)===128&&(we&192)===128&&(ie=(ot&15)<<18|(re&63)<<12|(ue&63)<<6|we&63,ie>65535&&ie<1114112&&(ht=ie))}}ht===null?(ht=65533,Qt=1):ht>65535&&(ht-=65536,C.push(ht>>>10&1023|55296),ht=56320|ht&1023),C.push(ht),Q+=Qt}return $(C)}var tt=4096;function $(D){var y=D.length;if(y<=tt)return String.fromCharCode.apply(String,D);for(var v="",C=0;C<y;)v+=String.fromCharCode.apply(String,D.slice(C,C+=tt));return v}function dt(D,y,v){var C="";v=Math.min(D.length,v);for(var Q=y;Q<v;++Q)C+=String.fromCharCode(D[Q]&127);return C}function Ft(D,y,v){var C="";v=Math.min(D.length,v);for(var Q=y;Q<v;++Q)C+=String.fromCharCode(D[Q]);return C}function Gt(D,y,v){var C=D.length;(!y||y<0)&&(y=0),(!v||v<0||v>C)&&(v=C);for(var Q="",ot=y;ot<v;++ot)Q+=St(D[ot]);return Q}function Ht(D,y,v){for(var C=D.slice(y,v),Q="",ot=0;ot<C.length;ot+=2)Q+=String.fromCharCode(C[ot]+C[ot+1]*256);return Q}h.prototype.slice=function(y,v){var C=this.length;y=~~y,v=v===void 0?C:~~v,y<0?(y+=C,y<0&&(y=0)):y>C&&(y=C),v<0?(v+=C,v<0&&(v=0)):v>C&&(v=C),v<y&&(v=y);var Q=this.subarray(y,v);return Q.__proto__=h.prototype,Q};function Vt(D,y,v){if(D%1!==0||D<0)throw new RangeError("offset is not uint");if(D+y>v)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUIntLE=function(y,v,C){y=y>>>0,v=v>>>0,C||Vt(y,v,this.length);for(var Q=this[y],ot=1,ht=0;++ht<v&&(ot*=256);)Q+=this[y+ht]*ot;return Q},h.prototype.readUIntBE=function(y,v,C){y=y>>>0,v=v>>>0,C||Vt(y,v,this.length);for(var Q=this[y+--v],ot=1;v>0&&(ot*=256);)Q+=this[y+--v]*ot;return Q},h.prototype.readUInt8=function(y,v){return y=y>>>0,v||Vt(y,1,this.length),this[y]},h.prototype.readUInt16LE=function(y,v){return y=y>>>0,v||Vt(y,2,this.length),this[y]|this[y+1]<<8},h.prototype.readUInt16BE=function(y,v){return y=y>>>0,v||Vt(y,2,this.length),this[y]<<8|this[y+1]},h.prototype.readUInt32LE=function(y,v){return y=y>>>0,v||Vt(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},h.prototype.readUInt32BE=function(y,v){return y=y>>>0,v||Vt(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},h.prototype.readIntLE=function(y,v,C){y=y>>>0,v=v>>>0,C||Vt(y,v,this.length);for(var Q=this[y],ot=1,ht=0;++ht<v&&(ot*=256);)Q+=this[y+ht]*ot;return ot*=128,Q>=ot&&(Q-=Math.pow(2,8*v)),Q},h.prototype.readIntBE=function(y,v,C){y=y>>>0,v=v>>>0,C||Vt(y,v,this.length);for(var Q=v,ot=1,ht=this[y+--Q];Q>0&&(ot*=256);)ht+=this[y+--Q]*ot;return ot*=128,ht>=ot&&(ht-=Math.pow(2,8*v)),ht},h.prototype.readInt8=function(y,v){return y=y>>>0,v||Vt(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},h.prototype.readInt16LE=function(y,v){y=y>>>0,v||Vt(y,2,this.length);var C=this[y]|this[y+1]<<8;return C&32768?C|4294901760:C},h.prototype.readInt16BE=function(y,v){y=y>>>0,v||Vt(y,2,this.length);var C=this[y+1]|this[y]<<8;return C&32768?C|4294901760:C},h.prototype.readInt32LE=function(y,v){return y=y>>>0,v||Vt(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},h.prototype.readInt32BE=function(y,v){return y=y>>>0,v||Vt(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},h.prototype.readFloatLE=function(y,v){return y=y>>>0,v||Vt(y,4,this.length),R.read(this,y,!0,23,4)},h.prototype.readFloatBE=function(y,v){return y=y>>>0,v||Vt(y,4,this.length),R.read(this,y,!1,23,4)},h.prototype.readDoubleLE=function(y,v){return y=y>>>0,v||Vt(y,8,this.length),R.read(this,y,!0,52,8)},h.prototype.readDoubleBE=function(y,v){return y=y>>>0,v||Vt(y,8,this.length),R.read(this,y,!1,52,8)};function ee(D,y,v,C,Q,ot){if(!h.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>Q||y<ot)throw new RangeError('"value" argument is out of bounds');if(v+C>D.length)throw new RangeError("Index out of range")}h.prototype.writeUIntLE=function(y,v,C,Q){if(y=+y,v=v>>>0,C=C>>>0,!Q){var ot=Math.pow(2,8*C)-1;ee(this,y,v,C,ot,0)}var ht=1,Qt=0;for(this[v]=y&255;++Qt<C&&(ht*=256);)this[v+Qt]=y/ht&255;return v+C},h.prototype.writeUIntBE=function(y,v,C,Q){if(y=+y,v=v>>>0,C=C>>>0,!Q){var ot=Math.pow(2,8*C)-1;ee(this,y,v,C,ot,0)}var ht=C-1,Qt=1;for(this[v+ht]=y&255;--ht>=0&&(Qt*=256);)this[v+ht]=y/Qt&255;return v+C},h.prototype.writeUInt8=function(y,v,C){return y=+y,v=v>>>0,C||ee(this,y,v,1,255,0),this[v]=y&255,v+1},h.prototype.writeUInt16LE=function(y,v,C){return y=+y,v=v>>>0,C||ee(this,y,v,2,65535,0),this[v]=y&255,this[v+1]=y>>>8,v+2},h.prototype.writeUInt16BE=function(y,v,C){return y=+y,v=v>>>0,C||ee(this,y,v,2,65535,0),this[v]=y>>>8,this[v+1]=y&255,v+2},h.prototype.writeUInt32LE=function(y,v,C){return y=+y,v=v>>>0,C||ee(this,y,v,4,4294967295,0),this[v+3]=y>>>24,this[v+2]=y>>>16,this[v+1]=y>>>8,this[v]=y&255,v+4},h.prototype.writeUInt32BE=function(y,v,C){return y=+y,v=v>>>0,C||ee(this,y,v,4,4294967295,0),this[v]=y>>>24,this[v+1]=y>>>16,this[v+2]=y>>>8,this[v+3]=y&255,v+4},h.prototype.writeIntLE=function(y,v,C,Q){if(y=+y,v=v>>>0,!Q){var ot=Math.pow(2,8*C-1);ee(this,y,v,C,ot-1,-ot)}var ht=0,Qt=1,re=0;for(this[v]=y&255;++ht<C&&(Qt*=256);)y<0&&re===0&&this[v+ht-1]!==0&&(re=1),this[v+ht]=(y/Qt>>0)-re&255;return v+C},h.prototype.writeIntBE=function(y,v,C,Q){if(y=+y,v=v>>>0,!Q){var ot=Math.pow(2,8*C-1);ee(this,y,v,C,ot-1,-ot)}var ht=C-1,Qt=1,re=0;for(this[v+ht]=y&255;--ht>=0&&(Qt*=256);)y<0&&re===0&&this[v+ht+1]!==0&&(re=1),this[v+ht]=(y/Qt>>0)-re&255;return v+C},h.prototype.writeInt8=function(y,v,C){return y=+y,v=v>>>0,C||ee(this,y,v,1,127,-128),y<0&&(y=255+y+1),this[v]=y&255,v+1},h.prototype.writeInt16LE=function(y,v,C){return y=+y,v=v>>>0,C||ee(this,y,v,2,32767,-32768),this[v]=y&255,this[v+1]=y>>>8,v+2},h.prototype.writeInt16BE=function(y,v,C){return y=+y,v=v>>>0,C||ee(this,y,v,2,32767,-32768),this[v]=y>>>8,this[v+1]=y&255,v+2},h.prototype.writeInt32LE=function(y,v,C){return y=+y,v=v>>>0,C||ee(this,y,v,4,2147483647,-2147483648),this[v]=y&255,this[v+1]=y>>>8,this[v+2]=y>>>16,this[v+3]=y>>>24,v+4},h.prototype.writeInt32BE=function(y,v,C){return y=+y,v=v>>>0,C||ee(this,y,v,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[v]=y>>>24,this[v+1]=y>>>16,this[v+2]=y>>>8,this[v+3]=y&255,v+4};function pe(D,y,v,C,Q,ot){if(v+C>D.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function se(D,y,v,C,Q){return y=+y,v=v>>>0,Q||pe(D,y,v,4),R.write(D,y,v,C,23,4),v+4}h.prototype.writeFloatLE=function(y,v,C){return se(this,y,v,!0,C)},h.prototype.writeFloatBE=function(y,v,C){return se(this,y,v,!1,C)};function k(D,y,v,C,Q){return y=+y,v=v>>>0,Q||pe(D,y,v,8),R.write(D,y,v,C,52,8),v+8}h.prototype.writeDoubleLE=function(y,v,C){return k(this,y,v,!0,C)},h.prototype.writeDoubleBE=function(y,v,C){return k(this,y,v,!1,C)},h.prototype.copy=function(y,v,C,Q){if(C||(C=0),!Q&&Q!==0&&(Q=this.length),v>=y.length&&(v=y.length),v||(v=0),Q>0&&Q<C&&(Q=C),Q===C||y.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(C<0||C>=this.length)throw new RangeError("sourceStart out of bounds");if(Q<0)throw new RangeError("sourceEnd out of bounds");Q>this.length&&(Q=this.length),y.length-v<Q-C&&(Q=y.length-v+C);var ot=Q-C,ht;if(this===y&&C<v&&v<Q)for(ht=ot-1;ht>=0;--ht)y[ht+v]=this[ht+C];else if(ot<1e3)for(ht=0;ht<ot;++ht)y[ht+v]=this[ht+C];else Uint8Array.prototype.set.call(y,this.subarray(C,C+ot),v);return ot},h.prototype.fill=function(y,v,C,Q){if(typeof y=="string"){if(typeof v=="string"?(Q=v,v=0,C=this.length):typeof C=="string"&&(Q=C,C=this.length),y.length===1){var ot=y.charCodeAt(0);ot<256&&(y=ot)}if(Q!==void 0&&typeof Q!="string")throw new TypeError("encoding must be a string");if(typeof Q=="string"&&!h.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q)}else typeof y=="number"&&(y=y&255);if(v<0||this.length<v||this.length<C)throw new RangeError("Out of range index");if(C<=v)return this;v=v>>>0,C=C===void 0?this.length:C>>>0,y||(y=0);var ht;if(typeof y=="number")for(ht=v;ht<C;++ht)this[ht]=y;else{var Qt=h.isBuffer(y)?y:new h(y,Q),re=Qt.length;for(ht=0;ht<C-v;++ht)this[ht+v]=Qt[ht%re]}return this};var z=/[^+/0-9A-Za-z-_]/g;function ft(D){if(D=D.trim().replace(z,""),D.length<2)return"";for(;D.length%4!==0;)D=D+"=";return D}function St(D){return D<16?"0"+D.toString(16):D.toString(16)}function Lt(D,y){y=y||1/0;for(var v,C=D.length,Q=null,ot=[],ht=0;ht<C;++ht){if(v=D.charCodeAt(ht),v>55295&&v<57344){if(!Q){if(v>56319){(y-=3)>-1&&ot.push(239,191,189);continue}else if(ht+1===C){(y-=3)>-1&&ot.push(239,191,189);continue}Q=v;continue}if(v<56320){(y-=3)>-1&&ot.push(239,191,189),Q=v;continue}v=(Q-55296<<10|v-56320)+65536}else Q&&(y-=3)>-1&&ot.push(239,191,189);if(Q=null,v<128){if((y-=1)<0)break;ot.push(v)}else if(v<2048){if((y-=2)<0)break;ot.push(v>>6|192,v&63|128)}else if(v<65536){if((y-=3)<0)break;ot.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((y-=4)<0)break;ot.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return ot}function Ut(D){for(var y=[],v=0;v<D.length;++v)y.push(D.charCodeAt(v)&255);return y}function yt(D,y){for(var v,C,Q,ot=[],ht=0;ht<D.length&&!((y-=2)<0);++ht)v=D.charCodeAt(ht),C=v>>8,Q=v%256,ot.push(Q),ot.push(C);return ot}function me(D){return q.toByteArray(ft(D))}function zt(D,y,v,C){for(var Q=0;Q<C&&!(Q+v>=y.length||Q>=D.length);++Q)y[Q+v]=D[Q];return Q}function Te(D){return D instanceof ArrayBuffer||D!=null&&D.constructor!=null&&D.constructor.name==="ArrayBuffer"&&typeof D.byteLength=="number"}function Le(D){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(D)}function He(D){return D!==D}}).call(M,L(1))},function(P,M){M.byteLength=h,M.toByteArray=O,M.fromByteArray=B;for(var L=[],A=[],q=typeof Uint8Array<"u"?Uint8Array:Array,R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U=0,T=R.length;U<T;++U)L[U]=R[U],A[R.charCodeAt(U)]=U;A[45]=62,A[95]=63;function w(X){var K=X.length;if(K%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return X[K-2]==="="?2:X[K-1]==="="?1:0}function h(X){return X.length*3/4-w(X)}function O(X){var K,J,mt,et,at,Zt,V=X.length;at=w(X),Zt=new q(V*3/4-at),mt=at>0?V-4:V;var Xt=0;for(K=0,J=0;K<mt;K+=4,J+=3)et=A[X.charCodeAt(K)]<<18|A[X.charCodeAt(K+1)]<<12|A[X.charCodeAt(K+2)]<<6|A[X.charCodeAt(K+3)],Zt[Xt++]=et>>16&255,Zt[Xt++]=et>>8&255,Zt[Xt++]=et&255;return at===2?(et=A[X.charCodeAt(K)]<<2|A[X.charCodeAt(K+1)]>>4,Zt[Xt++]=et&255):at===1&&(et=A[X.charCodeAt(K)]<<10|A[X.charCodeAt(K+1)]<<4|A[X.charCodeAt(K+2)]>>2,Zt[Xt++]=et>>8&255,Zt[Xt++]=et&255),Zt}function d(X){return L[X>>18&63]+L[X>>12&63]+L[X>>6&63]+L[X&63]}function Y(X,K,J){for(var mt,et=[],at=K;at<J;at+=3)mt=(X[at]<<16)+(X[at+1]<<8)+X[at+2],et.push(d(mt));return et.join("")}function B(X){for(var K,J=X.length,mt=J%3,et="",at=[],Zt=16383,V=0,Xt=J-mt;V<Xt;V+=Zt)at.push(Y(X,V,V+Zt>Xt?Xt:V+Zt));return mt===1?(K=X[J-1],et+=L[K>>2],et+=L[K<<4&63],et+="=="):mt===2&&(K=(X[J-2]<<8)+X[J-1],et+=L[K>>10],et+=L[K>>4&63],et+=L[K<<2&63],et+="="),at.push(et),at.join("")}},function(P,M){M.read=function(L,A,q,R,U){var T,w,h=U*8-R-1,O=(1<<h)-1,d=O>>1,Y=-7,B=q?U-1:0,X=q?-1:1,K=L[A+B];for(B+=X,T=K&(1<<-Y)-1,K>>=-Y,Y+=h;Y>0;T=T*256+L[A+B],B+=X,Y-=8);for(w=T&(1<<-Y)-1,T>>=-Y,Y+=R;Y>0;w=w*256+L[A+B],B+=X,Y-=8);if(T===0)T=1-d;else{if(T===O)return w?NaN:(K?-1:1)*(1/0);w=w+Math.pow(2,R),T=T-d}return(K?-1:1)*w*Math.pow(2,T-R)},M.write=function(L,A,q,R,U,T){var w,h,O,d=T*8-U-1,Y=(1<<d)-1,B=Y>>1,X=U===23?Math.pow(2,-24)-Math.pow(2,-77):0,K=R?0:T-1,J=R?1:-1,mt=A<0||A===0&&1/A<0?1:0;for(A=Math.abs(A),isNaN(A)||A===1/0?(h=isNaN(A)?1:0,w=Y):(w=Math.floor(Math.log(A)/Math.LN2),A*(O=Math.pow(2,-w))<1&&(w--,O*=2),w+B>=1?A+=X/O:A+=X*Math.pow(2,1-B),A*O>=2&&(w++,O/=2),w+B>=Y?(h=0,w=Y):w+B>=1?(h=(A*O-1)*Math.pow(2,U),w=w+B):(h=A*Math.pow(2,B-1)*Math.pow(2,U),w=0));U>=8;L[q+K]=h&255,K+=J,h/=256,U-=8);for(w=w<<U|h,d+=U;d>0;L[q+K]=w&255,K+=J,w/=256,d-=8);L[q+K-J]|=mt*128}},function(P,M){P.exports=function(L){return L.webpackPolyfill||(L.deprecate=function(){},L.paths=[],L.children=[],L.webpackPolyfill=1),L}},function(P,M,L){var A=L(7),q=new A,R={};function U(w){R[w]||(typeof q[w]=="function"?R[w]=function(){return q[w].apply(q,arguments)}:R[w]=q[w])}for(var T in q)U(T);R.initializeTTYs=function(){q.stdin===null&&(q.initializeTTYs(),R.stdin=q.stdin,R.stdout=q.stdout,R.stderr=q.stderr)},q.nextTick(function(){R.initializeTTYs()}),P.exports=R},function(P,M,L){(function(A){var q=this&&this.__extends||function(O,d){for(var Y in d)d.hasOwnProperty(Y)&&(O[Y]=d[Y]);function B(){this.constructor=O}O.prototype=d===null?Object.create(d):(B.prototype=d.prototype,new B)},R=L(8),U=null,T=(function(){function O(d,Y){this.fun=d,this.array=Y}return O.prototype.run=function(){this.fun.apply(null,this.array)},O})(),w=(function(){function O(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return O.prototype.push=function(d){var Y=this;this._queue.push(d)===1&&!this._draining&&setTimeout(function(){return Y._drainQueue()},0)},O.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},O.prototype._drainQueue=function(){var d=this;if(!this._draining){var Y=setTimeout(function(){return d._cleanUpNextTick()});this._draining=!0;for(var B=this._queue.length;B;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<B;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,B=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(Y)}},O})(),h=(function(O){q(d,O);function d(){O.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new w,this.execPath=A,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=Math.random()*1e3|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return d.prototype.chdir=function(Y){U===null&&(U=L(9)),this._cwd=U.resolve(Y)},d.prototype.cwd=function(){return this._cwd},d.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},d.prototype.nextTick=function(Y){for(var B=[],X=1;X<arguments.length;X++)B[X-1]=arguments[X];this._queue.push(new T(Y,B))},d.prototype.abort=function(){this.emit("abort")},d.prototype.exit=function(Y){this.exitCode=Y,this.emit("exit",[Y])},d.prototype.getgid=function(){return this._gid},d.prototype.setgid=function(Y){typeof Y=="number"?this._gid=Y:this._gid=1},d.prototype.getuid=function(){return this._uid},d.prototype.setuid=function(Y){typeof Y=="number"?this._uid=Y:this._uid=1},d.prototype.kill=function(Y,B){this.emit("kill",[Y,B])},d.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},d.prototype.umask=function(Y){Y===void 0&&(Y=this._mask);var B=this._mask;return this._mask=Y,this.emit("umask",[Y]),B},d.prototype.hrtime=function(){var Y;typeof performance<"u"?Y=performance.now():Date.now?Y=Date.now():Y=new Date().getTime();var B=Y/1e3|0;return Y-=B*1e3,Y=Y*1e6|0,[B,Y]},d.prototype.initializeTTYs=function(){if(this.stdout===null){var Y=L(10);this.stdout=new Y,this.stderr=new Y,this.stdin=new Y}},d.prototype.disconnect=function(){},d})(R.EventEmitter);P.exports=h}).call(M,"/")},function(P,M){function L(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}P.exports=L,L.EventEmitter=L,L.prototype._events=void 0,L.prototype._maxListeners=void 0,L.defaultMaxListeners=10,L.prototype.setMaxListeners=function(T){if(!q(T)||T<0||isNaN(T))throw TypeError("n must be a positive number");return this._maxListeners=T,this},L.prototype.emit=function(T){var w,h,O,d,Y,B;if(this._events||(this._events={}),T==="error"&&(!this._events.error||R(this._events.error)&&!this._events.error.length)){if(w=arguments[1],w instanceof Error)throw w;var X=new Error('Uncaught, unspecified "error" event. ('+w+")");throw X.context=w,X}if(h=this._events[T],U(h))return!1;if(A(h))switch(arguments.length){case 1:h.call(this);break;case 2:h.call(this,arguments[1]);break;case 3:h.call(this,arguments[1],arguments[2]);break;default:d=Array.prototype.slice.call(arguments,1),h.apply(this,d)}else if(R(h))for(d=Array.prototype.slice.call(arguments,1),B=h.slice(),O=B.length,Y=0;Y<O;Y++)B[Y].apply(this,d);return!0},L.prototype.addListener=function(T,w){var h;if(!A(w))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",T,A(w.listener)?w.listener:w),this._events[T]?R(this._events[T])?this._events[T].push(w):this._events[T]=[this._events[T],w]:this._events[T]=w,R(this._events[T])&&!this._events[T].warned&&(U(this._maxListeners)?h=L.defaultMaxListeners:h=this._maxListeners,h&&h>0&&this._events[T].length>h&&(this._events[T].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[T].length),typeof console.trace=="function"&&console.trace())),this},L.prototype.on=L.prototype.addListener,L.prototype.once=function(T,w){if(!A(w))throw TypeError("listener must be a function");var h=!1;function O(){this.removeListener(T,O),h||(h=!0,w.apply(this,arguments))}return O.listener=w,this.on(T,O),this},L.prototype.removeListener=function(T,w){var h,O,d,Y;if(!A(w))throw TypeError("listener must be a function");if(!this._events||!this._events[T])return this;if(h=this._events[T],d=h.length,O=-1,h===w||A(h.listener)&&h.listener===w)delete this._events[T],this._events.removeListener&&this.emit("removeListener",T,w);else if(R(h)){for(Y=d;Y-- >0;)if(h[Y]===w||h[Y].listener&&h[Y].listener===w){O=Y;break}if(O<0)return this;h.length===1?(h.length=0,delete this._events[T]):h.splice(O,1),this._events.removeListener&&this.emit("removeListener",T,w)}return this},L.prototype.removeAllListeners=function(T){var w,h;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[T]&&delete this._events[T],this;if(arguments.length===0){for(w in this._events)w!=="removeListener"&&this.removeAllListeners(w);return this.removeAllListeners("removeListener"),this._events={},this}if(h=this._events[T],A(h))this.removeListener(T,h);else if(h)for(;h.length;)this.removeListener(T,h[h.length-1]);return delete this._events[T],this},L.prototype.listeners=function(T){var w;return!this._events||!this._events[T]?w=[]:A(this._events[T])?w=[this._events[T]]:w=this._events[T].slice(),w},L.prototype.listenerCount=function(T){if(this._events){var w=this._events[T];if(A(w))return 1;if(w)return w.length}return 0},L.listenerCount=function(T,w){return T.listenerCount(w)};function A(T){return typeof T=="function"}function q(T){return typeof T=="number"}function R(T){return typeof T=="object"&&T!==null}function U(T){return T===void 0}},function(P,M,L){(function(A){var q=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function R(T){var w=q.exec(T);return w.shift(),w}var U=(function(){function T(){}return T.normalize=function(w){w===""&&(w=".");var h=w.charAt(0)===T.sep;w=T._removeDuplicateSeps(w);for(var O=w.split(T.sep),d=[],Y=0;Y<O.length;Y++){var B=O[Y];B!=="."&&(B===".."&&(h||!h&&d.length>0&&d[0]!=="..")?d.pop():d.push(B))}return!h&&d.length<2&&(d.length===1?d[0]===""&&d.unshift("."):d.push(".")),w=d.join(T.sep),h&&w.charAt(0)!==T.sep&&(w=T.sep+w),w},T.join=function(){for(var w=[],h=0;h<arguments.length;h++)w[h-0]=arguments[h];for(var O=[],d=0;d<w.length;d++){var Y=w[d];if(typeof Y!="string")throw new TypeError("Invalid argument type to path.join: "+typeof Y);Y!==""&&O.push(Y)}return T.normalize(O.join(T.sep))},T.resolve=function(){for(var w=[],h=0;h<arguments.length;h++)w[h-0]=arguments[h];for(var O=[],d=0;d<w.length;d++){var Y=w[d];if(typeof Y!="string")throw new TypeError("Invalid argument type to path.join: "+typeof Y);Y!==""&&(Y.charAt(0)===T.sep&&(O=[]),O.push(Y))}var B=T.normalize(O.join(T.sep));if(B.length>1&&B.charAt(B.length-1)===T.sep)return B.substr(0,B.length-1);if(B.charAt(0)!==T.sep){B.charAt(0)==="."&&(B.length===1||B.charAt(1)===T.sep)&&(B=B.length===1?"":B.substr(2));var X=A.cwd();B!==""?B=this.normalize(X+(X!=="/"?T.sep:"")+B):B=X}return B},T.relative=function(w,h){var O;w=T.resolve(w),h=T.resolve(h);var d=w.split(T.sep),Y=h.split(T.sep);Y.shift(),d.shift();var B=0,X=[];for(O=0;O<d.length;O++){var K=d[O];if(K!==Y[O]){B=d.length-O;break}}X=Y.slice(O),d.length===1&&d[0]===""&&(B=0),B>d.length&&(B=d.length);var J="";for(O=0;O<B;O++)J+="../";return J+=X.join(T.sep),J.length>1&&J.charAt(J.length-1)===T.sep&&(J=J.substr(0,J.length-1)),J},T.dirname=function(w){w=T._removeDuplicateSeps(w);var h=w.charAt(0)===T.sep,O=w.split(T.sep);return O.pop()===""&&O.length>0&&O.pop(),O.length>1||O.length===1&&!h?O.join(T.sep):h?T.sep:"."},T.basename=function(w,h){if(h===void 0&&(h=""),w==="")return w;w=T.normalize(w);var O=w.split(T.sep),d=O[O.length-1];if(d===""&&O.length>1)return O[O.length-2];if(h.length>0){var Y=d.substr(d.length-h.length);if(Y===h)return d.substr(0,d.length-h.length)}return d},T.extname=function(w){w=T.normalize(w);var h=w.split(T.sep);if(w=h.pop(),w===""&&h.length>0&&(w=h.pop()),w==="..")return"";var O=w.lastIndexOf(".");return O===-1||O===0?"":w.substr(O)},T.isAbsolute=function(w){return w.length>0&&w.charAt(0)===T.sep},T._makeLong=function(w){return w},T.parse=function(w){var h=R(w);return{root:h[0],dir:h[0]+h[1].slice(0,-1),base:h[2],ext:h[3],name:h[2].slice(0,h[2].length-h[3].length)}},T.format=function(w){if(w===null||typeof w!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof w);var h=w.root||"";if(typeof h!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof w.root);var O=w.dir?w.dir+T.sep:"",d=w.base||"";return O+d},T._removeDuplicateSeps=function(w){return w=w.replace(this._replaceRegex,this.sep),w},T.sep="/",T._replaceRegex=new RegExp("//+","g"),T.delimiter=":",T.posix=T,T.win32=T,T})();P.exports=U}).call(M,L(6))},function(P,M,L){(function(A){var q=this&&this.__extends||function(T,w){for(var h in w)w.hasOwnProperty(h)&&(T[h]=w[h]);function O(){this.constructor=T}T.prototype=w===null?Object.create(w):(O.prototype=w.prototype,new O)},R=L(11),U=(function(T){q(w,T);function w(){T.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return w.prototype.setRawMode=function(h){this.isRaw!==h&&(this.isRaw=h,this.emit("modeChange"))},w.prototype.changeColumns=function(h){h!==this.columns&&(this.columns=h,this.emit("resize"))},w.prototype.changeRows=function(h){h!==this.rows&&(this.rows=h,this.emit("resize"))},w.isatty=function(h){return h&&h instanceof w},w.prototype._write=function(h,O,d){var Y;try{var B;typeof h=="string"?B=new A(h,O):B=h,this._bufferedWrites.push(B),this._waitingForWrites&&this._read(1024)}catch(X){Y=X}finally{d(Y)}},w.prototype._read=function(h){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),!!this._waitingForWrites););},w})(R.Duplex);P.exports=U}).call(M,L(1))},function(P,M,L){P.exports=R;var A=L(8).EventEmitter,q=L(12);q(R,A),R.Readable=L(13),R.Writable=L(27),R.Duplex=L(28),R.Transform=L(29),R.PassThrough=L(30),R.Stream=R;function R(){A.call(this)}R.prototype.pipe=function(U,T){var w=this;function h(J){U.writable&&U.write(J)===!1&&w.pause&&w.pause()}w.on("data",h);function O(){w.readable&&w.resume&&w.resume()}U.on("drain",O),!U._isStdio&&(!T||T.end!==!1)&&(w.on("end",Y),w.on("close",B));var d=!1;function Y(){d||(d=!0,U.end())}function B(){d||(d=!0,typeof U.destroy=="function"&&U.destroy())}function X(J){if(K(),A.listenerCount(this,"error")===0)throw J}w.on("error",X),U.on("error",X);function K(){w.removeListener("data",h),U.removeListener("drain",O),w.removeListener("end",Y),w.removeListener("close",B),w.removeListener("error",X),U.removeListener("error",X),w.removeListener("end",K),w.removeListener("close",K),U.removeListener("close",K)}return w.on("end",K),w.on("close",K),U.on("close",K),U.emit("pipe",w),U}},function(P,M){typeof Object.create=="function"?P.exports=function(A,q){A.super_=q,A.prototype=Object.create(q.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}})}:P.exports=function(A,q){A.super_=q;var R=function(){};R.prototype=q.prototype,A.prototype=new R,A.prototype.constructor=A}},function(P,M,L){(function(A){var q=(function(){try{return L(11)}catch{}})();M=P.exports=L(14),M.Stream=q||M,M.Readable=M,M.Writable=L(22),M.Duplex=L(21),M.Transform=L(25),M.PassThrough=L(26),!A.browser&&A.env.READABLE_STREAM==="disable"&&q&&(P.exports=q)}).call(M,L(6))},function(P,M,L){(function(A){P.exports=et;var q=L(15),R=L(16),U;et.ReadableState=mt,L(8).EventEmitter;var T=function(k,z){return k.listeners(z).length},w;(function(){try{w=L(11)}catch{}finally{w||(w=L(8).EventEmitter)}})();var h=L(2).Buffer,O=L(17),d=L(18);d.inherits=L(12);var Y=L(19),B=void 0;Y&&Y.debuglog?B=Y.debuglog("stream"):B=function(){};var X=L(20),K;d.inherits(et,w);function J(k,z,ft){if(typeof k.prependListener=="function")return k.prependListener(z,ft);!k._events||!k._events[z]?k.on(z,ft):R(k._events[z])?k._events[z].unshift(ft):k._events[z]=[ft,k._events[z]]}function mt(k,z){U=U||L(21),k=k||{},this.objectMode=!!k.objectMode,z instanceof U&&(this.objectMode=this.objectMode||!!k.readableObjectMode);var ft=k.highWaterMark,St=this.objectMode?16:16*1024;this.highWaterMark=ft||ft===0?ft:St,this.highWaterMark=~~this.highWaterMark,this.buffer=new X,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=k.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,k.encoding&&(K||(K=L(24).StringDecoder),this.decoder=new K(k.encoding),this.encoding=k.encoding)}function et(k){if(U=U||L(21),!(this instanceof et))return new et(k);this._readableState=new mt(k,this),this.readable=!0,k&&typeof k.read=="function"&&(this._read=k.read),w.call(this)}et.prototype.push=function(k,z){var ft=this._readableState;return!ft.objectMode&&typeof k=="string"&&(z=z||ft.defaultEncoding,z!==ft.encoding&&(k=O.from(k,z),z="")),at(this,ft,k,z,!1)},et.prototype.unshift=function(k){var z=this._readableState;return at(this,z,k,"",!0)},et.prototype.isPaused=function(){return this._readableState.flowing===!1};function at(k,z,ft,St,Lt){var Ut=nt(z,ft);if(Ut)k.emit("error",Ut);else if(ft===null)z.reading=!1,gt(k,z);else if(z.objectMode||ft&&ft.length>0)if(z.ended&&!Lt){var yt=new Error("stream.push() after EOF");k.emit("error",yt)}else if(z.endEmitted&&Lt){var me=new Error("stream.unshift() after end event");k.emit("error",me)}else{var zt;z.decoder&&!Lt&&!St&&(ft=z.decoder.write(ft),zt=!z.objectMode&&ft.length===0),Lt||(z.reading=!1),zt||(z.flowing&&z.length===0&&!z.sync?(k.emit("data",ft),k.read(0)):(z.length+=z.objectMode?1:ft.length,Lt?z.buffer.unshift(ft):z.buffer.push(ft),z.needReadable&&It(k))),kt(k,z)}else Lt||(z.reading=!1);return Zt(z)}function Zt(k){return!k.ended&&(k.needReadable||k.length<k.highWaterMark||k.length===0)}et.prototype.setEncoding=function(k){return K||(K=L(24).StringDecoder),this._readableState.decoder=new K(k),this._readableState.encoding=k,this};var V=8388608;function Xt(k){return k>=V?k=V:(k--,k|=k>>>1,k|=k>>>2,k|=k>>>4,k|=k>>>8,k|=k>>>16,k++),k}function Ct(k,z){return k<=0||z.length===0&&z.ended?0:z.objectMode?1:k!==k?z.flowing&&z.length?z.buffer.head.data.length:z.length:(k>z.highWaterMark&&(z.highWaterMark=Xt(k)),k<=z.length?k:z.ended?z.length:(z.needReadable=!0,0))}et.prototype.read=function(k){B("read",k),k=parseInt(k,10);var z=this._readableState,ft=k;if(k!==0&&(z.emittedReadable=!1),k===0&&z.needReadable&&(z.length>=z.highWaterMark||z.ended))return B("read: emitReadable",z.length,z.ended),z.length===0&&z.ended?Vt(this):It(this),null;if(k=Ct(k,z),k===0&&z.ended)return z.length===0&&Vt(this),null;var St=z.needReadable;B("need readable",St),(z.length===0||z.length-k<z.highWaterMark)&&(St=!0,B("length less than watermark",St)),z.ended||z.reading?(St=!1,B("reading or ended",St)):St&&(B("do read"),z.reading=!0,z.sync=!0,z.length===0&&(z.needReadable=!0),this._read(z.highWaterMark),z.sync=!1,z.reading||(k=Ct(ft,z)));var Lt;return k>0?Lt=dt(k,z):Lt=null,Lt===null?(z.needReadable=!0,k=0):z.length-=k,z.length===0&&(z.ended||(z.needReadable=!0),ft!==k&&z.ended&&Vt(this)),Lt!==null&&this.emit("data",Lt),Lt};function nt(k,z){var ft=null;return!h.isBuffer(z)&&typeof z!="string"&&z!==null&&z!==void 0&&!k.objectMode&&(ft=new TypeError("Invalid non-string/buffer chunk")),ft}function gt(k,z){if(!z.ended){if(z.decoder){var ft=z.decoder.end();ft&&ft.length&&(z.buffer.push(ft),z.length+=z.objectMode?1:ft.length)}z.ended=!0,It(k)}}function It(k){var z=k._readableState;z.needReadable=!1,z.emittedReadable||(B("emitReadable",z.flowing),z.emittedReadable=!0,z.sync?q($t,k):$t(k))}function $t(k){B("emit readable"),k.emit("readable"),$(k)}function kt(k,z){z.readingMore||(z.readingMore=!0,q(Jt,k,z))}function Jt(k,z){for(var ft=z.length;!z.reading&&!z.flowing&&!z.ended&&z.length<z.highWaterMark&&(B("maybeReadMore read 0"),k.read(0),ft!==z.length);)ft=z.length;z.readingMore=!1}et.prototype._read=function(k){this.emit("error",new Error("_read() is not implemented"))},et.prototype.pipe=function(k,z){var ft=this,St=this._readableState;switch(St.pipesCount){case 0:St.pipes=k;break;case 1:St.pipes=[St.pipes,k];break;default:St.pipes.push(k);break}St.pipesCount+=1,B("pipe count=%d opts=%j",St.pipesCount,z);var Lt=(!z||z.end!==!1)&&k!==A.stdout&&k!==A.stderr,Ut=Lt?me:Le;St.endEmitted?q(Ut):ft.once("end",Ut),k.on("unpipe",yt);function yt(ot){B("onunpipe"),ot===ft&&Le()}function me(){B("onend"),k.end()}var zt=jt(ft);k.on("drain",zt);var Te=!1;function Le(){B("cleanup"),k.removeListener("close",v),k.removeListener("finish",C),k.removeListener("drain",zt),k.removeListener("error",y),k.removeListener("unpipe",yt),ft.removeListener("end",me),ft.removeListener("end",Le),ft.removeListener("data",D),Te=!0,St.awaitDrain&&(!k._writableState||k._writableState.needDrain)&&zt()}var He=!1;ft.on("data",D);function D(ot){B("ondata"),He=!1;var ht=k.write(ot);ht===!1&&!He&&((St.pipesCount===1&&St.pipes===k||St.pipesCount>1&&se(St.pipes,k)!==-1)&&!Te&&(B("false write response, pause",ft._readableState.awaitDrain),ft._readableState.awaitDrain++,He=!0),ft.pause())}function y(ot){B("onerror",ot),Q(),k.removeListener("error",y),T(k,"error")===0&&k.emit("error",ot)}J(k,"error",y);function v(){k.removeListener("finish",C),Q()}k.once("close",v);function C(){B("onfinish"),k.removeListener("close",v),Q()}k.once("finish",C);function Q(){B("unpipe"),ft.unpipe(k)}return k.emit("pipe",ft),St.flowing||(B("pipe resume"),ft.resume()),k};function jt(k){return function(){var z=k._readableState;B("pipeOnDrain",z.awaitDrain),z.awaitDrain&&z.awaitDrain--,z.awaitDrain===0&&T(k,"data")&&(z.flowing=!0,$(k))}}et.prototype.unpipe=function(k){var z=this._readableState;if(z.pipesCount===0)return this;if(z.pipesCount===1)return k&&k!==z.pipes?this:(k||(k=z.pipes),z.pipes=null,z.pipesCount=0,z.flowing=!1,k&&k.emit("unpipe",this),this);if(!k){var ft=z.pipes,St=z.pipesCount;z.pipes=null,z.pipesCount=0,z.flowing=!1;for(var Lt=0;Lt<St;Lt++)ft[Lt].emit("unpipe",this);return this}var Ut=se(z.pipes,k);return Ut===-1?this:(z.pipes.splice(Ut,1),z.pipesCount-=1,z.pipesCount===1&&(z.pipes=z.pipes[0]),k.emit("unpipe",this),this)},et.prototype.on=function(k,z){var ft=w.prototype.on.call(this,k,z);if(k==="data")this._readableState.flowing!==!1&&this.resume();else if(k==="readable"){var St=this._readableState;!St.endEmitted&&!St.readableListening&&(St.readableListening=St.needReadable=!0,St.emittedReadable=!1,St.reading?St.length&&It(this):q(Pt,this))}return ft},et.prototype.addListener=et.prototype.on;function Pt(k){B("readable nexttick read 0"),k.read(0)}et.prototype.resume=function(){var k=this._readableState;return k.flowing||(B("resume"),k.flowing=!0,Se(this,k)),this};function Se(k,z){z.resumeScheduled||(z.resumeScheduled=!0,q(tt,k,z))}function tt(k,z){z.reading||(B("resume read 0"),k.read(0)),z.resumeScheduled=!1,z.awaitDrain=0,k.emit("resume"),$(k),z.flowing&&!z.reading&&k.read(0)}et.prototype.pause=function(){return B("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(B("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function $(k){var z=k._readableState;for(B("flow",z.flowing);z.flowing&&k.read()!==null;);}et.prototype.wrap=function(k){var z=this._readableState,ft=!1,St=this;k.on("end",function(){if(B("wrapped end"),z.decoder&&!z.ended){var yt=z.decoder.end();yt&&yt.length&&St.push(yt)}St.push(null)}),k.on("data",function(yt){if(B("wrapped data"),z.decoder&&(yt=z.decoder.write(yt)),!(z.objectMode&&yt==null)&&!(!z.objectMode&&(!yt||!yt.length))){var me=St.push(yt);me||(ft=!0,k.pause())}});for(var Lt in k)this[Lt]===void 0&&typeof k[Lt]=="function"&&(this[Lt]=(function(yt){return function(){return k[yt].apply(k,arguments)}})(Lt));var Ut=["error","close","destroy","pause","resume"];return pe(Ut,function(yt){k.on(yt,St.emit.bind(St,yt))}),St._read=function(yt){B("wrapped _read",yt),ft&&(ft=!1,k.resume())},St},et._fromList=dt;function dt(k,z){if(z.length===0)return null;var ft;return z.objectMode?ft=z.buffer.shift():!k||k>=z.length?(z.decoder?ft=z.buffer.join(""):z.buffer.length===1?ft=z.buffer.head.data:ft=z.buffer.concat(z.length),z.buffer.clear()):ft=Ft(k,z.buffer,z.decoder),ft}function Ft(k,z,ft){var St;return k<z.head.data.length?(St=z.head.data.slice(0,k),z.head.data=z.head.data.slice(k)):k===z.head.data.length?St=z.shift():St=ft?Gt(k,z):Ht(k,z),St}function Gt(k,z){var ft=z.head,St=1,Lt=ft.data;for(k-=Lt.length;ft=ft.next;){var Ut=ft.data,yt=k>Ut.length?Ut.length:k;if(yt===Ut.length?Lt+=Ut:Lt+=Ut.slice(0,k),k-=yt,k===0){yt===Ut.length?(++St,ft.next?z.head=ft.next:z.head=z.tail=null):(z.head=ft,ft.data=Ut.slice(yt));break}++St}return z.length-=St,Lt}function Ht(k,z){var ft=O.allocUnsafe(k),St=z.head,Lt=1;for(St.data.copy(ft),k-=St.data.length;St=St.next;){var Ut=St.data,yt=k>Ut.length?Ut.length:k;if(Ut.copy(ft,ft.length-k,0,yt),k-=yt,k===0){yt===Ut.length?(++Lt,St.next?z.head=St.next:z.head=z.tail=null):(z.head=St,St.data=Ut.slice(yt));break}++Lt}return z.length-=Lt,ft}function Vt(k){var z=k._readableState;if(z.length>0)throw new Error('"endReadable()" called on non-empty stream');z.endEmitted||(z.ended=!0,q(ee,z,k))}function ee(k,z){!k.endEmitted&&k.length===0&&(k.endEmitted=!0,z.readable=!1,z.emit("end"))}function pe(k,z){for(var ft=0,St=k.length;ft<St;ft++)z(k[ft],ft)}function se(k,z){for(var ft=0,St=k.length;ft<St;ft++)if(k[ft]===z)return ft;return-1}}).call(M,L(6))},function(P,M,L){(function(A){!A.version||A.version.indexOf("v0.")===0||A.version.indexOf("v1.")===0&&A.version.indexOf("v1.8.")!==0?P.exports=q:P.exports=A.nextTick;function q(R,U,T,w){if(typeof R!="function")throw new TypeError('"callback" argument must be a function');var h=arguments.length,O,d;switch(h){case 0:case 1:return A.nextTick(R);case 2:return A.nextTick(function(){R.call(null,U)});case 3:return A.nextTick(function(){R.call(null,U,T)});case 4:return A.nextTick(function(){R.call(null,U,T,w)});default:for(O=new Array(h-1),d=0;d<O.length;)O[d++]=arguments[d];return A.nextTick(function(){R.apply(null,O)})}}}).call(M,L(6))},function(P,M){var L={}.toString;P.exports=Array.isArray||function(A){return L.call(A)=="[object Array]"}},function(P,M,L){(function(A){var q=L(2),R=q.Buffer,U=q.SlowBuffer,T=q.kMaxLength||2147483647;M.alloc=function(h,O,d){if(typeof R.alloc=="function")return R.alloc(h,O,d);if(typeof d=="number")throw new TypeError("encoding must not be number");if(typeof h!="number")throw new TypeError("size must be a number");if(h>T)throw new RangeError("size is too large");var Y=d,B=O;B===void 0&&(Y=void 0,B=0);var X=new R(h);if(typeof B=="string")for(var K=new R(B,Y),J=K.length,mt=-1;++mt<h;)X[mt]=K[mt%J];else X.fill(B);return X},M.allocUnsafe=function(h){if(typeof R.allocUnsafe=="function")return R.allocUnsafe(h);if(typeof h!="number")throw new TypeError("size must be a number");if(h>T)throw new RangeError("size is too large");return new R(h)},M.from=function(h,O,d){if(typeof R.from=="function"&&(!A.Uint8Array||Uint8Array.from!==R.from))return R.from(h,O,d);if(typeof h=="number")throw new TypeError('"value" argument must not be a number');if(typeof h=="string")return new R(h,O);if(typeof ArrayBuffer<"u"&&h instanceof ArrayBuffer){var Y=O;if(arguments.length===1)return new R(h);typeof Y>"u"&&(Y=0);var B=d;if(typeof B>"u"&&(B=h.byteLength-Y),Y>=h.byteLength)throw new RangeError("'offset' is out of bounds");if(B>h.byteLength-Y)throw new RangeError("'length' is out of bounds");return new R(h.slice(Y,Y+B))}if(R.isBuffer(h)){var X=new R(h.length);return h.copy(X,0,0,h.length),X}if(h){if(Array.isArray(h)||typeof ArrayBuffer<"u"&&h.buffer instanceof ArrayBuffer||"length"in h)return new R(h);if(h.type==="Buffer"&&Array.isArray(h.data))return new R(h.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},M.allocUnsafeSlow=function(h){if(typeof R.allocUnsafeSlow=="function")return R.allocUnsafeSlow(h);if(typeof h!="number")throw new TypeError("size must be a number");if(h>=T)throw new RangeError("size is too large");return new U(h)}}).call(M,(function(){return this})())},function(P,M,L){(function(A){function q(at){return Array.isArray?Array.isArray(at):et(at)==="[object Array]"}M.isArray=q;function R(at){return typeof at=="boolean"}M.isBoolean=R;function U(at){return at===null}M.isNull=U;function T(at){return at==null}M.isNullOrUndefined=T;function w(at){return typeof at=="number"}M.isNumber=w;function h(at){return typeof at=="string"}M.isString=h;function O(at){return typeof at=="symbol"}M.isSymbol=O;function d(at){return at===void 0}M.isUndefined=d;function Y(at){return et(at)==="[object RegExp]"}M.isRegExp=Y;function B(at){return typeof at=="object"&&at!==null}M.isObject=B;function X(at){return et(at)==="[object Date]"}M.isDate=X;function K(at){return et(at)==="[object Error]"||at instanceof Error}M.isError=K;function J(at){return typeof at=="function"}M.isFunction=J;function mt(at){return at===null||typeof at=="boolean"||typeof at=="number"||typeof at=="string"||typeof at=="symbol"||typeof at>"u"}M.isPrimitive=mt,M.isBuffer=A.isBuffer;function et(at){return Object.prototype.toString.call(at)}}).call(M,L(1))},function(P,M){},function(P,M,L){L(2).Buffer;var A=L(17);P.exports=q;function q(){this.head=null,this.tail=null,this.length=0}q.prototype.push=function(R){var U={data:R,next:null};this.length>0?this.tail.next=U:this.head=U,this.tail=U,++this.length},q.prototype.unshift=function(R){var U={data:R,next:this.head};this.length===0&&(this.tail=U),this.head=U,++this.length},q.prototype.shift=function(){if(this.length!==0){var R=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,R}},q.prototype.clear=function(){this.head=this.tail=null,this.length=0},q.prototype.join=function(R){if(this.length===0)return"";for(var U=this.head,T=""+U.data;U=U.next;)T+=R+U.data;return T},q.prototype.concat=function(R){if(this.length===0)return A.alloc(0);if(this.length===1)return this.head.data;for(var U=A.allocUnsafe(R>>>0),T=this.head,w=0;T;)T.data.copy(U,w),w+=T.data.length,T=T.next;return U}},function(P,M,L){var A=Object.keys||function(X){var K=[];for(var J in X)K.push(J);return K};P.exports=d;var q=L(15),R=L(18);R.inherits=L(12);var U=L(14),T=L(22);R.inherits(d,U);for(var w=A(T.prototype),h=0;h<w.length;h++){var O=w[h];d.prototype[O]||(d.prototype[O]=T.prototype[O])}function d(X){if(!(this instanceof d))return new d(X);U.call(this,X),T.call(this,X),X&&X.readable===!1&&(this.readable=!1),X&&X.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,X&&X.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Y)}function Y(){this.allowHalfOpen||this._writableState.ended||q(B,this)}function B(X){X.end()}},function(P,M,L){(function(A){P.exports=J;var q=L(15),R=!A.browser&&["v0.10","v0.9."].indexOf(A.version.slice(0,5))>-1?setImmediate:q,U;J.WritableState=X;var T=L(18);T.inherits=L(12);var w={deprecate:L(23)},h;(function(){try{h=L(11)}catch{}finally{h||(h=L(8).EventEmitter)}})();var O=L(2).Buffer,d=L(17);T.inherits(J,h);function Y(){}function B(tt,$,dt){this.chunk=tt,this.encoding=$,this.callback=dt,this.next=null}function X(tt,$){U=U||L(21),tt=tt||{},this.objectMode=!!tt.objectMode,$ instanceof U&&(this.objectMode=this.objectMode||!!tt.writableObjectMode);var dt=tt.highWaterMark,Ft=this.objectMode?16:16*1024;this.highWaterMark=dt||dt===0?dt:Ft,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var Gt=tt.decodeStrings===!1;this.decodeStrings=!Gt,this.defaultEncoding=tt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ht){nt($,Ht)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Se(this)}X.prototype.getBuffer=function(){for(var $=this.bufferedRequest,dt=[];$;)dt.push($),$=$.next;return dt},(function(){try{Object.defineProperty(X.prototype,"buffer",{get:w.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}})();var K;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(K=Function.prototype[Symbol.hasInstance],Object.defineProperty(J,Symbol.hasInstance,{value:function(tt){return K.call(this,tt)?!0:tt&&tt._writableState instanceof X}})):K=function(tt){return tt instanceof this};function J(tt){if(U=U||L(21),!K.call(J,this)&&!(this instanceof U))return new J(tt);this._writableState=new X(tt,this),this.writable=!0,tt&&(typeof tt.write=="function"&&(this._write=tt.write),typeof tt.writev=="function"&&(this._writev=tt.writev)),h.call(this)}J.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function mt(tt,$){var dt=new Error("write after end");tt.emit("error",dt),q($,dt)}function et(tt,$,dt,Ft){var Gt=!0,Ht=!1;return dt===null?Ht=new TypeError("May not write null values to stream"):typeof dt!="string"&&dt!==void 0&&!$.objectMode&&(Ht=new TypeError("Invalid non-string/buffer chunk")),Ht&&(tt.emit("error",Ht),q(Ft,Ht),Gt=!1),Gt}J.prototype.write=function(tt,$,dt){var Ft=this._writableState,Gt=!1,Ht=O.isBuffer(tt);return typeof $=="function"&&(dt=$,$=null),Ht?$="buffer":$||($=Ft.defaultEncoding),typeof dt!="function"&&(dt=Y),Ft.ended?mt(this,dt):(Ht||et(this,Ft,tt,dt))&&(Ft.pendingcb++,Gt=Zt(this,Ft,Ht,tt,$,dt)),Gt},J.prototype.cork=function(){var tt=this._writableState;tt.corked++},J.prototype.uncork=function(){var tt=this._writableState;tt.corked&&(tt.corked--,!tt.writing&&!tt.corked&&!tt.finished&&!tt.bufferProcessing&&tt.bufferedRequest&&$t(this,tt))},J.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+$);return this._writableState.defaultEncoding=$,this};function at(tt,$,dt){return!tt.objectMode&&tt.decodeStrings!==!1&&typeof $=="string"&&($=d.from($,dt)),$}function Zt(tt,$,dt,Ft,Gt,Ht){dt||(Ft=at($,Ft,Gt),O.isBuffer(Ft)&&(Gt="buffer"));var Vt=$.objectMode?1:Ft.length;$.length+=Vt;var ee=$.length<$.highWaterMark;if(ee||($.needDrain=!0),$.writing||$.corked){var pe=$.lastBufferedRequest;$.lastBufferedRequest=new B(Ft,Gt,Ht),pe?pe.next=$.lastBufferedRequest:$.bufferedRequest=$.lastBufferedRequest,$.bufferedRequestCount+=1}else V(tt,$,!1,Vt,Ft,Gt,Ht);return ee}function V(tt,$,dt,Ft,Gt,Ht,Vt){$.writelen=Ft,$.writecb=Vt,$.writing=!0,$.sync=!0,dt?tt._writev(Gt,$.onwrite):tt._write(Gt,Ht,$.onwrite),$.sync=!1}function Xt(tt,$,dt,Ft,Gt){--$.pendingcb,dt?q(Gt,Ft):Gt(Ft),tt._writableState.errorEmitted=!0,tt.emit("error",Ft)}function Ct(tt){tt.writing=!1,tt.writecb=null,tt.length-=tt.writelen,tt.writelen=0}function nt(tt,$){var dt=tt._writableState,Ft=dt.sync,Gt=dt.writecb;if(Ct(dt),$)Xt(tt,dt,Ft,$,Gt);else{var Ht=kt(dt);!Ht&&!dt.corked&&!dt.bufferProcessing&&dt.bufferedRequest&&$t(tt,dt),Ft?R(gt,tt,dt,Ht,Gt):gt(tt,dt,Ht,Gt)}}function gt(tt,$,dt,Ft){dt||It(tt,$),$.pendingcb--,Ft(),jt(tt,$)}function It(tt,$){$.length===0&&$.needDrain&&($.needDrain=!1,tt.emit("drain"))}function $t(tt,$){$.bufferProcessing=!0;var dt=$.bufferedRequest;if(tt._writev&&dt&&dt.next){var Ft=$.bufferedRequestCount,Gt=new Array(Ft),Ht=$.corkedRequestsFree;Ht.entry=dt;for(var Vt=0;dt;)Gt[Vt]=dt,dt=dt.next,Vt+=1;V(tt,$,!0,$.length,Gt,"",Ht.finish),$.pendingcb++,$.lastBufferedRequest=null,Ht.next?($.corkedRequestsFree=Ht.next,Ht.next=null):$.corkedRequestsFree=new Se($)}else{for(;dt;){var ee=dt.chunk,pe=dt.encoding,se=dt.callback,k=$.objectMode?1:ee.length;if(V(tt,$,!1,k,ee,pe,se),dt=dt.next,$.writing)break}dt===null&&($.lastBufferedRequest=null)}$.bufferedRequestCount=0,$.bufferedRequest=dt,$.bufferProcessing=!1}J.prototype._write=function(tt,$,dt){dt(new Error("_write() is not implemented"))},J.prototype._writev=null,J.prototype.end=function(tt,$,dt){var Ft=this._writableState;typeof tt=="function"?(dt=tt,tt=null,$=null):typeof $=="function"&&(dt=$,$=null),tt!=null&&this.write(tt,$),Ft.corked&&(Ft.corked=1,this.uncork()),!Ft.ending&&!Ft.finished&&Pt(this,Ft,dt)};function kt(tt){return tt.ending&&tt.length===0&&tt.bufferedRequest===null&&!tt.finished&&!tt.writing}function Jt(tt,$){$.prefinished||($.prefinished=!0,tt.emit("prefinish"))}function jt(tt,$){var dt=kt($);return dt&&($.pendingcb===0?(Jt(tt,$),$.finished=!0,tt.emit("finish")):Jt(tt,$)),dt}function Pt(tt,$,dt){$.ending=!0,jt(tt,$),dt&&($.finished?q(dt):tt.once("finish",dt)),$.ended=!0,tt.writable=!1}function Se(tt){var $=this;this.next=null,this.entry=null,this.finish=function(dt){var Ft=$.entry;for($.entry=null;Ft;){var Gt=Ft.callback;tt.pendingcb--,Gt(dt),Ft=Ft.next}tt.corkedRequestsFree?tt.corkedRequestsFree.next=$:tt.corkedRequestsFree=$}}}).call(M,L(6))},function(P,M){(function(L){P.exports=A;function A(R,U){if(q("noDeprecation"))return R;var T=!1;function w(){if(!T){if(q("throwDeprecation"))throw new Error(U);q("traceDeprecation")?console.trace(U):console.warn(U),T=!0}return R.apply(this,arguments)}return w}function q(R){try{if(!L.localStorage)return!1}catch{return!1}var U=L.localStorage[R];return U==null?!1:String(U).toLowerCase()==="true"}}).call(M,(function(){return this})())},function(P,M,L){var A=L(2).Buffer,q=A.isEncoding||function(O){switch(O&&O.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function R(O){if(O&&!q(O))throw new Error("Unknown encoding: "+O)}var U=M.StringDecoder=function(O){switch(this.encoding=(O||"utf8").toLowerCase().replace(/[-_]/,""),R(O),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=w;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=h;break;default:this.write=T;return}this.charBuffer=new A(6),this.charReceived=0,this.charLength=0};U.prototype.write=function(O){for(var d="";this.charLength;){var Y=O.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:O.length;if(O.copy(this.charBuffer,this.charReceived,0,Y),this.charReceived+=Y,this.charReceived<this.charLength)return"";O=O.slice(Y,O.length),d=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var X=d.charCodeAt(d.length-1);if(X>=55296&&X<=56319){this.charLength+=this.surrogateSize,d="";continue}if(this.charReceived=this.charLength=0,O.length===0)return d;break}this.detectIncompleteChar(O);var B=O.length;this.charLength&&(O.copy(this.charBuffer,0,O.length-this.charReceived,B),B-=this.charReceived),d+=O.toString(this.encoding,0,B);var B=d.length-1,X=d.charCodeAt(B);if(X>=55296&&X<=56319){var K=this.surrogateSize;return this.charLength+=K,this.charReceived+=K,this.charBuffer.copy(this.charBuffer,K,0,K),O.copy(this.charBuffer,0,0,K),d.substring(0,B)}return d},U.prototype.detectIncompleteChar=function(O){for(var d=O.length>=3?3:O.length;d>0;d--){var Y=O[O.length-d];if(d==1&&Y>>5==6){this.charLength=2;break}if(d<=2&&Y>>4==14){this.charLength=3;break}if(d<=3&&Y>>3==30){this.charLength=4;break}}this.charReceived=d},U.prototype.end=function(O){var d="";if(O&&O.length&&(d=this.write(O)),this.charReceived){var Y=this.charReceived,B=this.charBuffer,X=this.encoding;d+=B.slice(0,Y).toString(X)}return d};function T(O){return O.toString(this.encoding)}function w(O){this.charReceived=O.length%2,this.charLength=this.charReceived?2:0}function h(O){this.charReceived=O.length%3,this.charLength=this.charReceived?3:0}},function(P,M,L){P.exports=T;var A=L(21),q=L(18);q.inherits=L(12),q.inherits(T,A);function R(h){this.afterTransform=function(O,d){return U(h,O,d)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function U(h,O,d){var Y=h._transformState;Y.transforming=!1;var B=Y.writecb;if(!B)return h.emit("error",new Error("no writecb in Transform class"));Y.writechunk=null,Y.writecb=null,d!=null&&h.push(d),B(O);var X=h._readableState;X.reading=!1,(X.needReadable||X.length<X.highWaterMark)&&h._read(X.highWaterMark)}function T(h){if(!(this instanceof T))return new T(h);A.call(this,h),this._transformState=new R(this);var O=this;this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(d,Y){w(O,d,Y)}):w(O)})}T.prototype.push=function(h,O){return this._transformState.needTransform=!1,A.prototype.push.call(this,h,O)},T.prototype._transform=function(h,O,d){throw new Error("_transform() is not implemented")},T.prototype._write=function(h,O,d){var Y=this._transformState;if(Y.writecb=d,Y.writechunk=h,Y.writeencoding=O,!Y.transforming){var B=this._readableState;(Y.needTransform||B.needReadable||B.length<B.highWaterMark)&&this._read(B.highWaterMark)}},T.prototype._read=function(h){var O=this._transformState;O.writechunk!==null&&O.writecb&&!O.transforming?(O.transforming=!0,this._transform(O.writechunk,O.writeencoding,O.afterTransform)):O.needTransform=!0};function w(h,O,d){if(O)return h.emit("error",O);d!=null&&h.push(d);var Y=h._writableState,B=h._transformState;if(Y.length)throw new Error("Calling transform done when ws.length != 0");if(B.transforming)throw new Error("Calling transform done when still transforming");return h.push(null)}},function(P,M,L){P.exports=R;var A=L(25),q=L(18);q.inherits=L(12),q.inherits(R,A);function R(U){if(!(this instanceof R))return new R(U);A.call(this,U)}R.prototype._transform=function(U,T,w){w(null,U)}},function(P,M,L){P.exports=L(22)},function(P,M,L){P.exports=L(21)},function(P,M,L){P.exports=L(25)},function(P,M,L){P.exports=L(26)},function(P,M,L){var A=L(32),q=L(33),R=L(38),U=L(39),T=L(40),w=L(41),h=L(42),O=Object.prototype.toString;function d(X){if(!(this instanceof d))return new d(X);this.options=q.assign({chunkSize:16384,windowBits:0,to:""},X||{});var K=this.options;K.raw&&K.windowBits>=0&&K.windowBits<16&&(K.windowBits=-K.windowBits,K.windowBits===0&&(K.windowBits=-15)),K.windowBits>=0&&K.windowBits<16&&!(X&&X.windowBits)&&(K.windowBits+=32),K.windowBits>15&&K.windowBits<48&&(K.windowBits&15)===0&&(K.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var J=A.inflateInit2(this.strm,K.windowBits);if(J!==U.Z_OK)throw new Error(T[J]);this.header=new h,A.inflateGetHeader(this.strm,this.header)}d.prototype.push=function(X,K){var J=this.strm,mt=this.options.chunkSize,et=this.options.dictionary,at,Zt,V,Xt,Ct,nt,gt=!1;if(this.ended)return!1;Zt=K===~~K?K:K===!0?U.Z_FINISH:U.Z_NO_FLUSH,typeof X=="string"?J.input=R.binstring2buf(X):O.call(X)==="[object ArrayBuffer]"?J.input=new Uint8Array(X):J.input=X,J.next_in=0,J.avail_in=J.input.length;do{if(J.avail_out===0&&(J.output=new q.Buf8(mt),J.next_out=0,J.avail_out=mt),at=A.inflate(J,U.Z_NO_FLUSH),at===U.Z_NEED_DICT&&et&&(typeof et=="string"?nt=R.string2buf(et):O.call(et)==="[object ArrayBuffer]"?nt=new Uint8Array(et):nt=et,at=A.inflateSetDictionary(this.strm,nt)),at===U.Z_BUF_ERROR&&gt===!0&&(at=U.Z_OK,gt=!1),at!==U.Z_STREAM_END&&at!==U.Z_OK)return this.onEnd(at),this.ended=!0,!1;J.next_out&&(J.avail_out===0||at===U.Z_STREAM_END||J.avail_in===0&&(Zt===U.Z_FINISH||Zt===U.Z_SYNC_FLUSH))&&(this.options.to==="string"?(V=R.utf8border(J.output,J.next_out),Xt=J.next_out-V,Ct=R.buf2string(J.output,V),J.next_out=Xt,J.avail_out=mt-Xt,Xt&&q.arraySet(J.output,J.output,V,Xt,0),this.onData(Ct)):this.onData(q.shrinkBuf(J.output,J.next_out))),J.avail_in===0&&J.avail_out===0&&(gt=!0)}while((J.avail_in>0||J.avail_out===0)&&at!==U.Z_STREAM_END);return at===U.Z_STREAM_END&&(Zt=U.Z_FINISH),Zt===U.Z_FINISH?(at=A.inflateEnd(this.strm),this.onEnd(at),this.ended=!0,at===U.Z_OK):(Zt===U.Z_SYNC_FLUSH&&(this.onEnd(U.Z_OK),J.avail_out=0),!0)},d.prototype.onData=function(X){this.chunks.push(X)},d.prototype.onEnd=function(X){X===U.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=q.flattenChunks(this.chunks)),this.chunks=[],this.err=X,this.msg=this.strm.msg};function Y(X,K){var J=new d(K);if(J.push(X,!0),J.err)throw J.msg||T[J.err];return J.result}function B(X,K){return K=K||{},K.raw=!0,Y(X,K)}M.Inflate=d,M.inflate=Y,M.inflateRaw=B,M.ungzip=Y},function(P,M,L){var A=L(33),q=L(34),R=L(35),U=L(36),T=L(37),w=0,h=1,O=2,d=4,Y=5,B=6,X=0,K=1,J=2,mt=-2,et=-3,at=-4,Zt=-5,V=8,Xt=1,Ct=2,nt=3,gt=4,It=5,$t=6,kt=7,Jt=8,jt=9,Pt=10,Se=11,tt=12,$=13,dt=14,Ft=15,Gt=16,Ht=17,Vt=18,ee=19,pe=20,se=21,k=22,z=23,ft=24,St=25,Lt=26,Ut=27,yt=28,me=29,zt=30,Te=31,Le=32,He=852,D=592,y=15,v=y;function C(rt){return(rt>>>24&255)+(rt>>>8&65280)+((rt&65280)<<8)+((rt&255)<<24)}function Q(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new A.Buf16(320),this.work=new A.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ot(rt){var xt;return!rt||!rt.state?mt:(xt=rt.state,rt.total_in=rt.total_out=xt.total=0,rt.msg="",xt.wrap&&(rt.adler=xt.wrap&1),xt.mode=Xt,xt.last=0,xt.havedict=0,xt.dmax=32768,xt.head=null,xt.hold=0,xt.bits=0,xt.lencode=xt.lendyn=new A.Buf32(He),xt.distcode=xt.distdyn=new A.Buf32(D),xt.sane=1,xt.back=-1,X)}function ht(rt){var xt;return!rt||!rt.state?mt:(xt=rt.state,xt.wsize=0,xt.whave=0,xt.wnext=0,ot(rt))}function Qt(rt,xt){var x,Rt;return!rt||!rt.state||(Rt=rt.state,xt<0?(x=0,xt=-xt):(x=(xt>>4)+1,xt<48&&(xt&=15)),xt&&(xt<8||xt>15))?mt:(Rt.window!==null&&Rt.wbits!==xt&&(Rt.window=null),Rt.wrap=x,Rt.wbits=xt,ht(rt))}function re(rt,xt){var x,Rt;return rt?(Rt=new Q,rt.state=Rt,Rt.window=null,x=Qt(rt,xt),x!==X&&(rt.state=null),x):mt}function ue(rt){return re(rt,v)}var we=!0,ie,Je;function gn(rt){if(we){var xt;for(ie=new A.Buf32(512),Je=new A.Buf32(32),xt=0;xt<144;)rt.lens[xt++]=8;for(;xt<256;)rt.lens[xt++]=9;for(;xt<280;)rt.lens[xt++]=7;for(;xt<288;)rt.lens[xt++]=8;for(T(h,rt.lens,0,288,ie,0,rt.work,{bits:9}),xt=0;xt<32;)rt.lens[xt++]=5;T(O,rt.lens,0,32,Je,0,rt.work,{bits:5}),we=!1}rt.lencode=ie,rt.lenbits=9,rt.distcode=Je,rt.distbits=5}function nn(rt,xt,x,Rt){var fe,bt=rt.state;return bt.window===null&&(bt.wsize=1<<bt.wbits,bt.wnext=0,bt.whave=0,bt.window=new A.Buf8(bt.wsize)),Rt>=bt.wsize?(A.arraySet(bt.window,xt,x-bt.wsize,bt.wsize,0),bt.wnext=0,bt.whave=bt.wsize):(fe=bt.wsize-bt.wnext,fe>Rt&&(fe=Rt),A.arraySet(bt.window,xt,x-Rt,fe,bt.wnext),Rt-=fe,Rt?(A.arraySet(bt.window,xt,x-Rt,Rt,0),bt.wnext=Rt,bt.whave=bt.wsize):(bt.wnext+=fe,bt.wnext===bt.wsize&&(bt.wnext=0),bt.whave<bt.wsize&&(bt.whave+=fe))),0}function sn(rt,xt){var x,Rt,fe,bt,Ae,Ot,Oe,ut,ct,Tn,le,Dt,Ce,Pe,ae=0,oe,Fe,Ne,de,Mt,cn,_e,Ve,ke=new A.Buf8(4),Me,Xe,Kn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!rt||!rt.state||!rt.output||!rt.input&&rt.avail_in!==0)return mt;x=rt.state,x.mode===tt&&(x.mode=$),Ae=rt.next_out,fe=rt.output,Oe=rt.avail_out,bt=rt.next_in,Rt=rt.input,Ot=rt.avail_in,ut=x.hold,ct=x.bits,Tn=Ot,le=Oe,Ve=X;t:for(;;)switch(x.mode){case Xt:if(x.wrap===0){x.mode=$;break}for(;ct<16;){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}if(x.wrap&2&&ut===35615){x.check=0,ke[0]=ut&255,ke[1]=ut>>>8&255,x.check=R(x.check,ke,2,0),ut=0,ct=0,x.mode=Ct;break}if(x.flags=0,x.head&&(x.head.done=!1),!(x.wrap&1)||(((ut&255)<<8)+(ut>>8))%31){rt.msg="incorrect header check",x.mode=zt;break}if((ut&15)!==V){rt.msg="unknown compression method",x.mode=zt;break}if(ut>>>=4,ct-=4,_e=(ut&15)+8,x.wbits===0)x.wbits=_e;else if(_e>x.wbits){rt.msg="invalid window size",x.mode=zt;break}x.dmax=1<<_e,rt.adler=x.check=1,x.mode=ut&512?Pt:tt,ut=0,ct=0;break;case Ct:for(;ct<16;){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}if(x.flags=ut,(x.flags&255)!==V){rt.msg="unknown compression method",x.mode=zt;break}if(x.flags&57344){rt.msg="unknown header flags set",x.mode=zt;break}x.head&&(x.head.text=ut>>8&1),x.flags&512&&(ke[0]=ut&255,ke[1]=ut>>>8&255,x.check=R(x.check,ke,2,0)),ut=0,ct=0,x.mode=nt;case nt:for(;ct<32;){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}x.head&&(x.head.time=ut),x.flags&512&&(ke[0]=ut&255,ke[1]=ut>>>8&255,ke[2]=ut>>>16&255,ke[3]=ut>>>24&255,x.check=R(x.check,ke,4,0)),ut=0,ct=0,x.mode=gt;case gt:for(;ct<16;){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}x.head&&(x.head.xflags=ut&255,x.head.os=ut>>8),x.flags&512&&(ke[0]=ut&255,ke[1]=ut>>>8&255,x.check=R(x.check,ke,2,0)),ut=0,ct=0,x.mode=It;case It:if(x.flags&1024){for(;ct<16;){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}x.length=ut,x.head&&(x.head.extra_len=ut),x.flags&512&&(ke[0]=ut&255,ke[1]=ut>>>8&255,x.check=R(x.check,ke,2,0)),ut=0,ct=0}else x.head&&(x.head.extra=null);x.mode=$t;case $t:if(x.flags&1024&&(Dt=x.length,Dt>Ot&&(Dt=Ot),Dt&&(x.head&&(_e=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),A.arraySet(x.head.extra,Rt,bt,Dt,_e)),x.flags&512&&(x.check=R(x.check,Rt,Dt,bt)),Ot-=Dt,bt+=Dt,x.length-=Dt),x.length))break t;x.length=0,x.mode=kt;case kt:if(x.flags&2048){if(Ot===0)break t;Dt=0;do _e=Rt[bt+Dt++],x.head&&_e&&x.length<65536&&(x.head.name+=String.fromCharCode(_e));while(_e&&Dt<Ot);if(x.flags&512&&(x.check=R(x.check,Rt,Dt,bt)),Ot-=Dt,bt+=Dt,_e)break t}else x.head&&(x.head.name=null);x.length=0,x.mode=Jt;case Jt:if(x.flags&4096){if(Ot===0)break t;Dt=0;do _e=Rt[bt+Dt++],x.head&&_e&&x.length<65536&&(x.head.comment+=String.fromCharCode(_e));while(_e&&Dt<Ot);if(x.flags&512&&(x.check=R(x.check,Rt,Dt,bt)),Ot-=Dt,bt+=Dt,_e)break t}else x.head&&(x.head.comment=null);x.mode=jt;case jt:if(x.flags&512){for(;ct<16;){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}if(ut!==(x.check&65535)){rt.msg="header crc mismatch",x.mode=zt;break}ut=0,ct=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),rt.adler=x.check=0,x.mode=tt;break;case Pt:for(;ct<32;){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}rt.adler=x.check=C(ut),ut=0,ct=0,x.mode=Se;case Se:if(x.havedict===0)return rt.next_out=Ae,rt.avail_out=Oe,rt.next_in=bt,rt.avail_in=Ot,x.hold=ut,x.bits=ct,J;rt.adler=x.check=1,x.mode=tt;case tt:if(xt===Y||xt===B)break t;case $:if(x.last){ut>>>=ct&7,ct-=ct&7,x.mode=Ut;break}for(;ct<3;){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}switch(x.last=ut&1,ut>>>=1,ct-=1,ut&3){case 0:x.mode=dt;break;case 1:if(gn(x),x.mode=pe,xt===B){ut>>>=2,ct-=2;break t}break;case 2:x.mode=Ht;break;case 3:rt.msg="invalid block type",x.mode=zt}ut>>>=2,ct-=2;break;case dt:for(ut>>>=ct&7,ct-=ct&7;ct<32;){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}if((ut&65535)!==(ut>>>16^65535)){rt.msg="invalid stored block lengths",x.mode=zt;break}if(x.length=ut&65535,ut=0,ct=0,x.mode=Ft,xt===B)break t;case Ft:x.mode=Gt;case Gt:if(Dt=x.length,Dt){if(Dt>Ot&&(Dt=Ot),Dt>Oe&&(Dt=Oe),Dt===0)break t;A.arraySet(fe,Rt,bt,Dt,Ae),Ot-=Dt,bt+=Dt,Oe-=Dt,Ae+=Dt,x.length-=Dt;break}x.mode=tt;break;case Ht:for(;ct<14;){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}if(x.nlen=(ut&31)+257,ut>>>=5,ct-=5,x.ndist=(ut&31)+1,ut>>>=5,ct-=5,x.ncode=(ut&15)+4,ut>>>=4,ct-=4,x.nlen>286||x.ndist>30){rt.msg="too many length or distance symbols",x.mode=zt;break}x.have=0,x.mode=Vt;case Vt:for(;x.have<x.ncode;){for(;ct<3;){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}x.lens[Kn[x.have++]]=ut&7,ut>>>=3,ct-=3}for(;x.have<19;)x.lens[Kn[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,Me={bits:x.lenbits},Ve=T(w,x.lens,0,19,x.lencode,0,x.work,Me),x.lenbits=Me.bits,Ve){rt.msg="invalid code lengths set",x.mode=zt;break}x.have=0,x.mode=ee;case ee:for(;x.have<x.nlen+x.ndist;){for(;ae=x.lencode[ut&(1<<x.lenbits)-1],oe=ae>>>24,Fe=ae>>>16&255,Ne=ae&65535,!(oe<=ct);){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}if(Ne<16)ut>>>=oe,ct-=oe,x.lens[x.have++]=Ne;else{if(Ne===16){for(Xe=oe+2;ct<Xe;){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}if(ut>>>=oe,ct-=oe,x.have===0){rt.msg="invalid bit length repeat",x.mode=zt;break}_e=x.lens[x.have-1],Dt=3+(ut&3),ut>>>=2,ct-=2}else if(Ne===17){for(Xe=oe+3;ct<Xe;){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}ut>>>=oe,ct-=oe,_e=0,Dt=3+(ut&7),ut>>>=3,ct-=3}else{for(Xe=oe+7;ct<Xe;){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}ut>>>=oe,ct-=oe,_e=0,Dt=11+(ut&127),ut>>>=7,ct-=7}if(x.have+Dt>x.nlen+x.ndist){rt.msg="invalid bit length repeat",x.mode=zt;break}for(;Dt--;)x.lens[x.have++]=_e}}if(x.mode===zt)break;if(x.lens[256]===0){rt.msg="invalid code -- missing end-of-block",x.mode=zt;break}if(x.lenbits=9,Me={bits:x.lenbits},Ve=T(h,x.lens,0,x.nlen,x.lencode,0,x.work,Me),x.lenbits=Me.bits,Ve){rt.msg="invalid literal/lengths set",x.mode=zt;break}if(x.distbits=6,x.distcode=x.distdyn,Me={bits:x.distbits},Ve=T(O,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,Me),x.distbits=Me.bits,Ve){rt.msg="invalid distances set",x.mode=zt;break}if(x.mode=pe,xt===B)break t;case pe:x.mode=se;case se:if(Ot>=6&&Oe>=258){rt.next_out=Ae,rt.avail_out=Oe,rt.next_in=bt,rt.avail_in=Ot,x.hold=ut,x.bits=ct,U(rt,le),Ae=rt.next_out,fe=rt.output,Oe=rt.avail_out,bt=rt.next_in,Rt=rt.input,Ot=rt.avail_in,ut=x.hold,ct=x.bits,x.mode===tt&&(x.back=-1);break}for(x.back=0;ae=x.lencode[ut&(1<<x.lenbits)-1],oe=ae>>>24,Fe=ae>>>16&255,Ne=ae&65535,!(oe<=ct);){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}if(Fe&&(Fe&240)===0){for(de=oe,Mt=Fe,cn=Ne;ae=x.lencode[cn+((ut&(1<<de+Mt)-1)>>de)],oe=ae>>>24,Fe=ae>>>16&255,Ne=ae&65535,!(de+oe<=ct);){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}ut>>>=de,ct-=de,x.back+=de}if(ut>>>=oe,ct-=oe,x.back+=oe,x.length=Ne,Fe===0){x.mode=Lt;break}if(Fe&32){x.back=-1,x.mode=tt;break}if(Fe&64){rt.msg="invalid literal/length code",x.mode=zt;break}x.extra=Fe&15,x.mode=k;case k:if(x.extra){for(Xe=x.extra;ct<Xe;){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}x.length+=ut&(1<<x.extra)-1,ut>>>=x.extra,ct-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=z;case z:for(;ae=x.distcode[ut&(1<<x.distbits)-1],oe=ae>>>24,Fe=ae>>>16&255,Ne=ae&65535,!(oe<=ct);){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}if((Fe&240)===0){for(de=oe,Mt=Fe,cn=Ne;ae=x.distcode[cn+((ut&(1<<de+Mt)-1)>>de)],oe=ae>>>24,Fe=ae>>>16&255,Ne=ae&65535,!(de+oe<=ct);){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}ut>>>=de,ct-=de,x.back+=de}if(ut>>>=oe,ct-=oe,x.back+=oe,Fe&64){rt.msg="invalid distance code",x.mode=zt;break}x.offset=Ne,x.extra=Fe&15,x.mode=ft;case ft:if(x.extra){for(Xe=x.extra;ct<Xe;){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}x.offset+=ut&(1<<x.extra)-1,ut>>>=x.extra,ct-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){rt.msg="invalid distance too far back",x.mode=zt;break}x.mode=St;case St:if(Oe===0)break t;if(Dt=le-Oe,x.offset>Dt){if(Dt=x.offset-Dt,Dt>x.whave&&x.sane){rt.msg="invalid distance too far back",x.mode=zt;break}Dt>x.wnext?(Dt-=x.wnext,Ce=x.wsize-Dt):Ce=x.wnext-Dt,Dt>x.length&&(Dt=x.length),Pe=x.window}else Pe=fe,Ce=Ae-x.offset,Dt=x.length;Dt>Oe&&(Dt=Oe),Oe-=Dt,x.length-=Dt;do fe[Ae++]=Pe[Ce++];while(--Dt);x.length===0&&(x.mode=se);break;case Lt:if(Oe===0)break t;fe[Ae++]=x.length,Oe--,x.mode=se;break;case Ut:if(x.wrap){for(;ct<32;){if(Ot===0)break t;Ot--,ut|=Rt[bt++]<<ct,ct+=8}if(le-=Oe,rt.total_out+=le,x.total+=le,le&&(rt.adler=x.check=x.flags?R(x.check,fe,le,Ae-le):q(x.check,fe,le,Ae-le)),le=Oe,(x.flags?ut:C(ut))!==x.check){rt.msg="incorrect data check",x.mode=zt;break}ut=0,ct=0}x.mode=yt;case yt:if(x.wrap&&x.flags){for(;ct<32;){if(Ot===0)break t;Ot--,ut+=Rt[bt++]<<ct,ct+=8}if(ut!==(x.total&4294967295)){rt.msg="incorrect length check",x.mode=zt;break}ut=0,ct=0}x.mode=me;case me:Ve=K;break t;case zt:Ve=et;break t;case Te:return at;case Le:default:return mt}return rt.next_out=Ae,rt.avail_out=Oe,rt.next_in=bt,rt.avail_in=Ot,x.hold=ut,x.bits=ct,(x.wsize||le!==rt.avail_out&&x.mode<zt&&(x.mode<Ut||xt!==d))&&nn(rt,rt.output,rt.next_out,le-rt.avail_out),Tn-=rt.avail_in,le-=rt.avail_out,rt.total_in+=Tn,rt.total_out+=le,x.total+=le,x.wrap&&le&&(rt.adler=x.check=x.flags?R(x.check,fe,le,rt.next_out-le):q(x.check,fe,le,rt.next_out-le)),rt.data_type=x.bits+(x.last?64:0)+(x.mode===tt?128:0)+(x.mode===pe||x.mode===Ft?256:0),(Tn===0&&le===0||xt===d)&&Ve===X&&(Ve=Zt),Ve}function Gn(rt){if(!rt||!rt.state)return mt;var xt=rt.state;return xt.window&&(xt.window=null),rt.state=null,X}function mn(rt,xt){var x;return!rt||!rt.state||(x=rt.state,(x.wrap&2)===0)?mt:(x.head=xt,xt.done=!1,X)}function wn(rt,xt){var x=xt.length,Rt,fe,bt;return!rt||!rt.state||(Rt=rt.state,Rt.wrap!==0&&Rt.mode!==Se)?mt:Rt.mode===Se&&(fe=1,fe=q(fe,xt,x,0),fe!==Rt.check)?et:(bt=nn(rt,xt,x,x),bt?(Rt.mode=Te,at):(Rt.havedict=1,X))}M.inflateReset=ht,M.inflateReset2=Qt,M.inflateResetKeep=ot,M.inflateInit=ue,M.inflateInit2=re,M.inflate=sn,M.inflateEnd=Gn,M.inflateGetHeader=mn,M.inflateSetDictionary=wn,M.inflateInfo="pako inflate (from Nodeca project)"},function(P,M){var L=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";M.assign=function(R){for(var U=Array.prototype.slice.call(arguments,1);U.length;){var T=U.shift();if(T){if(typeof T!="object")throw new TypeError(T+"must be non-object");for(var w in T)T.hasOwnProperty(w)&&(R[w]=T[w])}}return R},M.shrinkBuf=function(R,U){return R.length===U?R:R.subarray?R.subarray(0,U):(R.length=U,R)};var A={arraySet:function(R,U,T,w,h){if(U.subarray&&R.subarray){R.set(U.subarray(T,T+w),h);return}for(var O=0;O<w;O++)R[h+O]=U[T+O]},flattenChunks:function(R){var U,T,w,h,O,d;for(w=0,U=0,T=R.length;U<T;U++)w+=R[U].length;for(d=new Uint8Array(w),h=0,U=0,T=R.length;U<T;U++)O=R[U],d.set(O,h),h+=O.length;return d}},q={arraySet:function(R,U,T,w,h){for(var O=0;O<w;O++)R[h+O]=U[T+O]},flattenChunks:function(R){return[].concat.apply([],R)}};M.setTyped=function(R){R?(M.Buf8=Uint8Array,M.Buf16=Uint16Array,M.Buf32=Int32Array,M.assign(M,A)):(M.Buf8=Array,M.Buf16=Array,M.Buf32=Array,M.assign(M,q))},M.setTyped(L)},function(P,M){function L(A,q,R,U){for(var T=A&65535|0,w=A>>>16&65535|0,h=0;R!==0;){h=R>2e3?2e3:R,R-=h;do T=T+q[U++]|0,w=w+T|0;while(--h);T%=65521,w%=65521}return T|w<<16|0}P.exports=L},function(P,M){function L(){for(var R,U=[],T=0;T<256;T++){R=T;for(var w=0;w<8;w++)R=R&1?3988292384^R>>>1:R>>>1;U[T]=R}return U}var A=L();function q(R,U,T,w){var h=A,O=w+T;R^=-1;for(var d=w;d<O;d++)R=R>>>8^h[(R^U[d])&255];return R^-1}P.exports=q},function(P,M){var L=30,A=12;P.exports=function(R,U){var T,w,h,O,d,Y,B,X,K,J,mt,et,at,Zt,V,Xt,Ct,nt,gt,It,$t,kt,Jt,jt,Pt;T=R.state,w=R.next_in,jt=R.input,h=w+(R.avail_in-5),O=R.next_out,Pt=R.output,d=O-(U-R.avail_out),Y=O+(R.avail_out-257),B=T.dmax,X=T.wsize,K=T.whave,J=T.wnext,mt=T.window,et=T.hold,at=T.bits,Zt=T.lencode,V=T.distcode,Xt=(1<<T.lenbits)-1,Ct=(1<<T.distbits)-1;t:do{at<15&&(et+=jt[w++]<<at,at+=8,et+=jt[w++]<<at,at+=8),nt=Zt[et&Xt];e:for(;;){if(gt=nt>>>24,et>>>=gt,at-=gt,gt=nt>>>16&255,gt===0)Pt[O++]=nt&65535;else if(gt&16){It=nt&65535,gt&=15,gt&&(at<gt&&(et+=jt[w++]<<at,at+=8),It+=et&(1<<gt)-1,et>>>=gt,at-=gt),at<15&&(et+=jt[w++]<<at,at+=8,et+=jt[w++]<<at,at+=8),nt=V[et&Ct];n:for(;;){if(gt=nt>>>24,et>>>=gt,at-=gt,gt=nt>>>16&255,gt&16){if($t=nt&65535,gt&=15,at<gt&&(et+=jt[w++]<<at,at+=8,at<gt&&(et+=jt[w++]<<at,at+=8)),$t+=et&(1<<gt)-1,$t>B){R.msg="invalid distance too far back",T.mode=L;break t}if(et>>>=gt,at-=gt,gt=O-d,$t>gt){if(gt=$t-gt,gt>K&&T.sane){R.msg="invalid distance too far back",T.mode=L;break t}if(kt=0,Jt=mt,J===0){if(kt+=X-gt,gt<It){It-=gt;do Pt[O++]=mt[kt++];while(--gt);kt=O-$t,Jt=Pt}}else if(J<gt){if(kt+=X+J-gt,gt-=J,gt<It){It-=gt;do Pt[O++]=mt[kt++];while(--gt);if(kt=0,J<It){gt=J,It-=gt;do Pt[O++]=mt[kt++];while(--gt);kt=O-$t,Jt=Pt}}}else if(kt+=J-gt,gt<It){It-=gt;do Pt[O++]=mt[kt++];while(--gt);kt=O-$t,Jt=Pt}for(;It>2;)Pt[O++]=Jt[kt++],Pt[O++]=Jt[kt++],Pt[O++]=Jt[kt++],It-=3;It&&(Pt[O++]=Jt[kt++],It>1&&(Pt[O++]=Jt[kt++]))}else{kt=O-$t;do Pt[O++]=Pt[kt++],Pt[O++]=Pt[kt++],Pt[O++]=Pt[kt++],It-=3;while(It>2);It&&(Pt[O++]=Pt[kt++],It>1&&(Pt[O++]=Pt[kt++]))}}else if((gt&64)===0){nt=V[(nt&65535)+(et&(1<<gt)-1)];continue n}else{R.msg="invalid distance code",T.mode=L;break t}break}}else if((gt&64)===0){nt=Zt[(nt&65535)+(et&(1<<gt)-1)];continue e}else if(gt&32){T.mode=A;break t}else{R.msg="invalid literal/length code",T.mode=L;break t}break}}while(w<h&&O<Y);It=at>>3,w-=It,at-=It<<3,et&=(1<<at)-1,R.next_in=w,R.next_out=O,R.avail_in=w<h?5+(h-w):5-(w-h),R.avail_out=O<Y?257+(Y-O):257-(O-Y),T.hold=et,T.bits=at}},function(P,M,L){var A=L(33),q=15,R=852,U=592,T=0,w=1,h=2,O=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Y=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],B=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];P.exports=function(K,J,mt,et,at,Zt,V,Xt){var Ct=Xt.bits,nt=0,gt=0,It=0,$t=0,kt=0,Jt=0,jt=0,Pt=0,Se=0,tt=0,$,dt,Ft,Gt,Ht,Vt=null,ee=0,pe,se=new A.Buf16(q+1),k=new A.Buf16(q+1),z=null,ft=0,St,Lt,Ut;for(nt=0;nt<=q;nt++)se[nt]=0;for(gt=0;gt<et;gt++)se[J[mt+gt]]++;for(kt=Ct,$t=q;$t>=1&&se[$t]===0;$t--);if(kt>$t&&(kt=$t),$t===0)return at[Zt++]=1<<24|64<<16|0,at[Zt++]=1<<24|64<<16|0,Xt.bits=1,0;for(It=1;It<$t&&se[It]===0;It++);for(kt<It&&(kt=It),Pt=1,nt=1;nt<=q;nt++)if(Pt<<=1,Pt-=se[nt],Pt<0)return-1;if(Pt>0&&(K===T||$t!==1))return-1;for(k[1]=0,nt=1;nt<q;nt++)k[nt+1]=k[nt]+se[nt];for(gt=0;gt<et;gt++)J[mt+gt]!==0&&(V[k[J[mt+gt]]++]=gt);if(K===T?(Vt=z=V,pe=19):K===w?(Vt=O,ee-=257,z=d,ft-=257,pe=256):(Vt=Y,z=B,pe=-1),tt=0,gt=0,nt=It,Ht=Zt,Jt=kt,jt=0,Ft=-1,Se=1<<kt,Gt=Se-1,K===w&&Se>R||K===h&&Se>U)return 1;for(;;){St=nt-jt,V[gt]<pe?(Lt=0,Ut=V[gt]):V[gt]>pe?(Lt=z[ft+V[gt]],Ut=Vt[ee+V[gt]]):(Lt=96,Ut=0),$=1<<nt-jt,dt=1<<Jt,It=dt;do dt-=$,at[Ht+(tt>>jt)+dt]=St<<24|Lt<<16|Ut|0;while(dt!==0);for($=1<<nt-1;tt&$;)$>>=1;if($!==0?(tt&=$-1,tt+=$):tt=0,gt++,--se[nt]===0){if(nt===$t)break;nt=J[mt+V[gt]]}if(nt>kt&&(tt&Gt)!==Ft){for(jt===0&&(jt=kt),Ht+=It,Jt=nt-jt,Pt=1<<Jt;Jt+jt<$t&&(Pt-=se[Jt+jt],!(Pt<=0));)Jt++,Pt<<=1;if(Se+=1<<Jt,K===w&&Se>R||K===h&&Se>U)return 1;Ft=tt&Gt,at[Ft]=kt<<24|Jt<<16|Ht-Zt|0}}return tt!==0&&(at[Ht+tt]=nt-jt<<24|64<<16|0),Xt.bits=kt,0}},function(P,M,L){var A=L(33),q=!0,R=!0;try{String.fromCharCode.apply(null,[0])}catch{q=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{R=!1}for(var U=new A.Buf8(256),T=0;T<256;T++)U[T]=T>=252?6:T>=248?5:T>=240?4:T>=224?3:T>=192?2:1;U[254]=U[254]=1,M.string2buf=function(h){var O,d,Y,B,X,K=h.length,J=0;for(B=0;B<K;B++)d=h.charCodeAt(B),(d&64512)===55296&&B+1<K&&(Y=h.charCodeAt(B+1),(Y&64512)===56320&&(d=65536+(d-55296<<10)+(Y-56320),B++)),J+=d<128?1:d<2048?2:d<65536?3:4;for(O=new A.Buf8(J),X=0,B=0;X<J;B++)d=h.charCodeAt(B),(d&64512)===55296&&B+1<K&&(Y=h.charCodeAt(B+1),(Y&64512)===56320&&(d=65536+(d-55296<<10)+(Y-56320),B++)),d<128?O[X++]=d:d<2048?(O[X++]=192|d>>>6,O[X++]=128|d&63):d<65536?(O[X++]=224|d>>>12,O[X++]=128|d>>>6&63,O[X++]=128|d&63):(O[X++]=240|d>>>18,O[X++]=128|d>>>12&63,O[X++]=128|d>>>6&63,O[X++]=128|d&63);return O};function w(h,O){if(O<65537&&(h.subarray&&R||!h.subarray&&q))return String.fromCharCode.apply(null,A.shrinkBuf(h,O));for(var d="",Y=0;Y<O;Y++)d+=String.fromCharCode(h[Y]);return d}M.buf2binstring=function(h){return w(h,h.length)},M.binstring2buf=function(h){for(var O=new A.Buf8(h.length),d=0,Y=O.length;d<Y;d++)O[d]=h.charCodeAt(d);return O},M.buf2string=function(h,O){var d,Y,B,X,K=O||h.length,J=new Array(K*2);for(Y=0,d=0;d<K;){if(B=h[d++],B<128){J[Y++]=B;continue}if(X=U[B],X>4){J[Y++]=65533,d+=X-1;continue}for(B&=X===2?31:X===3?15:7;X>1&&d<K;)B=B<<6|h[d++]&63,X--;if(X>1){J[Y++]=65533;continue}B<65536?J[Y++]=B:(B-=65536,J[Y++]=55296|B>>10&1023,J[Y++]=56320|B&1023)}return w(J,Y)},M.utf8border=function(h,O){var d;for(O=O||h.length,O>h.length&&(O=h.length),d=O-1;d>=0&&(h[d]&192)===128;)d--;return d<0||d===0?O:d+U[h[d]]>O?d:O}},function(P,M){P.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(P,M){P.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(P,M){function L(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}P.exports=L},function(P,M){function L(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}P.exports=L}])})})(ki)),ki.exports}var Is=bs();const df=za(Is);var Br={exports:{}},xs=Br.exports,wa;function Ts(){return wa||(wa=1,(function(E,j){(function(P,M){E.exports=M()})(xs,(function(){function P(a,o){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);o&&(f=f.filter((function(p){return Object.getOwnPropertyDescriptor(a,p).enumerable}))),c.push.apply(c,f)}return c}function M(a){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{};o%2?P(Object(c),!0).forEach((function(f){U(a,f,c[f])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):P(Object(c)).forEach((function(f){Object.defineProperty(a,f,Object.getOwnPropertyDescriptor(c,f))}))}return a}function L(a){return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},L(a)}function A(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}function q(a,o){for(var c=0;c<o.length;c++){var f=o[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,B(f.key),f)}}function R(a,o,c){return o&&q(a.prototype,o),Object.defineProperty(a,"prototype",{writable:!1}),a}function U(a,o,c){return(o=B(o))in a?Object.defineProperty(a,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[o]=c,a}function T(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),o&&h(a,o)}function w(a){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},w(a)}function h(a,o){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,f){return c.__proto__=f,c},h(a,o)}function O(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function d(a){var o=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var c,f=w(a);if(o){var p=w(this).constructor;c=Reflect.construct(f,arguments,p)}else c=f.apply(this,arguments);return(function(g,S){if(S&&(typeof S=="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(g)})(this,c)}}function Y(){return Y=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,o,c){var f=(function(g,S){for(;!Object.prototype.hasOwnProperty.call(g,S)&&(g=w(g))!==null;);return g})(a,o);if(f){var p=Object.getOwnPropertyDescriptor(f,o);return p.get?p.get.call(arguments.length<3?a:c):p.value}},Y.apply(this,arguments)}function B(a){var o=(function(c,f){if(typeof c!="object"||c===null)return c;var p=c[Symbol.toPrimitive];if(p!==void 0){var g=p.call(c,f);if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)})(a,"string");return typeof o=="symbol"?o:o+""}var X=function(a){return!(!a||!a.Window)&&a instanceof a.Window},K=void 0,J=void 0;function mt(a){K=a;var o=a.document.createTextNode("");o.ownerDocument!==a.document&&typeof a.wrap=="function"&&a.wrap(o)===o&&(a=a.wrap(a)),J=a}function et(a){return X(a)?a:(a.ownerDocument||a).defaultView||J.window}typeof window<"u"&&window&&mt(window);var at=function(a){return!!a&&L(a)==="object"},Zt=function(a){return typeof a=="function"},V={window:function(a){return a===J||X(a)},docFrag:function(a){return at(a)&&a.nodeType===11},object:at,func:Zt,number:function(a){return typeof a=="number"},bool:function(a){return typeof a=="boolean"},string:function(a){return typeof a=="string"},element:function(a){if(!a||L(a)!=="object")return!1;var o=et(a)||J;return/object|function/.test(typeof Element>"u"?"undefined":L(Element))?a instanceof Element||a instanceof o.Element:a.nodeType===1&&typeof a.nodeName=="string"},plainObject:function(a){return at(a)&&!!a.constructor&&/function Object\b/.test(a.constructor.toString())},array:function(a){return at(a)&&a.length!==void 0&&Zt(a.splice)}};function Xt(a){var o=a.interaction;if(o.prepared.name==="drag"){var c=o.prepared.axis;c==="x"?(o.coords.cur.page.y=o.coords.start.page.y,o.coords.cur.client.y=o.coords.start.client.y,o.coords.velocity.client.y=0,o.coords.velocity.page.y=0):c==="y"&&(o.coords.cur.page.x=o.coords.start.page.x,o.coords.cur.client.x=o.coords.start.client.x,o.coords.velocity.client.x=0,o.coords.velocity.page.x=0)}}function Ct(a){var o=a.iEvent,c=a.interaction;if(c.prepared.name==="drag"){var f=c.prepared.axis;if(f==="x"||f==="y"){var p=f==="x"?"y":"x";o.page[p]=c.coords.start.page[p],o.client[p]=c.coords.start.client[p],o.delta[p]=0}}}var nt={id:"actions/drag",install:function(a){var o=a.actions,c=a.Interactable,f=a.defaults;c.prototype.draggable=nt.draggable,o.map.drag=nt,o.methodDict.drag="draggable",f.actions.drag=nt.defaults},listeners:{"interactions:before-action-move":Xt,"interactions:action-resume":Xt,"interactions:action-move":Ct,"auto-start:check":function(a){var o=a.interaction,c=a.interactable,f=a.buttons,p=c.options.drag;if(p&&p.enabled&&(!o.pointerIsDown||!/mouse|pointer/.test(o.pointerType)||(f&c.options.drag.mouseButtons)!=0))return a.action={name:"drag",axis:p.lockAxis==="start"?p.startAxis:p.lockAxis},!1}},draggable:function(a){return V.object(a)?(this.options.drag.enabled=a.enabled!==!1,this.setPerAction("drag",a),this.setOnEvents("drag",a),/^(xy|x|y|start)$/.test(a.lockAxis)&&(this.options.drag.lockAxis=a.lockAxis),/^(xy|x|y)$/.test(a.startAxis)&&(this.options.drag.startAxis=a.startAxis),this):V.bool(a)?(this.options.drag.enabled=a,this):this.options.drag},beforeMove:Xt,move:Ct,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(a){return a.search("drag")===0}},gt=nt,It={init:function(a){var o=a;It.document=o.document,It.DocumentFragment=o.DocumentFragment||$t,It.SVGElement=o.SVGElement||$t,It.SVGSVGElement=o.SVGSVGElement||$t,It.SVGElementInstance=o.SVGElementInstance||$t,It.Element=o.Element||$t,It.HTMLElement=o.HTMLElement||It.Element,It.Event=o.Event,It.Touch=o.Touch||$t,It.PointerEvent=o.PointerEvent||o.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function $t(){}var kt=It,Jt={init:function(a){var o=kt.Element,c=a.navigator||{};Jt.supportsTouch="ontouchstart"in a||V.func(a.DocumentTouch)&&kt.document instanceof a.DocumentTouch,Jt.supportsPointerEvent=c.pointerEnabled!==!1&&!!kt.PointerEvent,Jt.isIOS=/iP(hone|od|ad)/.test(c.platform),Jt.isIOS7=/iP(hone|od|ad)/.test(c.platform)&&/OS 7[^\d]/.test(c.appVersion),Jt.isIe9=/MSIE 9/.test(c.userAgent),Jt.isOperaMobile=c.appName==="Opera"&&Jt.supportsTouch&&/Presto/.test(c.userAgent),Jt.prefixedMatchesSelector="matches"in o.prototype?"matches":"webkitMatchesSelector"in o.prototype?"webkitMatchesSelector":"mozMatchesSelector"in o.prototype?"mozMatchesSelector":"oMatchesSelector"in o.prototype?"oMatchesSelector":"msMatchesSelector",Jt.pEventTypes=Jt.supportsPointerEvent?kt.PointerEvent===a.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,Jt.wheelEvent=kt.document&&"onmousewheel"in kt.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},jt=Jt;function Pt(a,o){if(a.contains)return a.contains(o);for(;o;){if(o===a)return!0;o=o.parentNode}return!1}function Se(a,o){for(;V.element(a);){if($(a,o))return a;a=tt(a)}return null}function tt(a){var o=a.parentNode;if(V.docFrag(o)){for(;(o=o.host)&&V.docFrag(o););return o}return o}function $(a,o){return J!==K&&(o=o.replace(/\/deep\//g," ")),a[jt.prefixedMatchesSelector](o)}var dt=function(a){return a.parentNode||a.host};function Ft(a,o){for(var c,f=[],p=a;(c=dt(p))&&p!==o&&c!==p.ownerDocument;)f.unshift(p),p=c;return f}function Gt(a,o,c){for(;V.element(a);){if($(a,o))return!0;if((a=tt(a))===c)return $(a,o)}return!1}function Ht(a){return a.correspondingUseElement||a}function Vt(a){var o=a instanceof kt.SVGElement?a.getBoundingClientRect():a.getClientRects()[0];return o&&{left:o.left,right:o.right,top:o.top,bottom:o.bottom,width:o.width||o.right-o.left,height:o.height||o.bottom-o.top}}function ee(a){var o,c=Vt(a);if(!jt.isIOS7&&c){var f={x:(o=(o=et(a))||J).scrollX||o.document.documentElement.scrollLeft,y:o.scrollY||o.document.documentElement.scrollTop};c.left+=f.x,c.right+=f.x,c.top+=f.y,c.bottom+=f.y}return c}function pe(a){for(var o=[];a;)o.push(a),a=tt(a);return o}function se(a){return!!V.string(a)&&(kt.document.querySelector(a),!0)}function k(a,o){for(var c in o)a[c]=o[c];return a}function z(a,o,c){return a==="parent"?tt(c):a==="self"?o.getRect(c):Se(c,a)}function ft(a,o,c,f){var p=a;return V.string(p)?p=z(p,o,c):V.func(p)&&(p=p.apply(void 0,f)),V.element(p)&&(p=ee(p)),p}function St(a){return a&&{x:"x"in a?a.x:a.left,y:"y"in a?a.y:a.top}}function Lt(a){return!a||"x"in a&&"y"in a||((a=k({},a)).x=a.left||0,a.y=a.top||0,a.width=a.width||(a.right||0)-a.x,a.height=a.height||(a.bottom||0)-a.y),a}function Ut(a,o,c){a.left&&(o.left+=c.x),a.right&&(o.right+=c.x),a.top&&(o.top+=c.y),a.bottom&&(o.bottom+=c.y),o.width=o.right-o.left,o.height=o.bottom-o.top}function yt(a,o,c){var f=c&&a.options[c];return St(ft(f&&f.origin||a.options.origin,a,o,[a&&o]))||{x:0,y:0}}function me(a,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(F){return!0},f=arguments.length>3?arguments[3]:void 0;if(f=f||{},V.string(a)&&a.search(" ")!==-1&&(a=zt(a)),V.array(a))return a.forEach((function(F){return me(F,o,c,f)})),f;if(V.object(a)&&(o=a,a=""),V.func(o)&&c(a))f[a]=f[a]||[],f[a].push(o);else if(V.array(o))for(var p=0,g=o;p<g.length;p++){var S=g[p];me(a,S,c,f)}else if(V.object(o))for(var b in o)me(zt(b).map((function(F){return"".concat(a).concat(F)})),o[b],c,f);return f}function zt(a){return a.trim().split(/ +/)}var Te=function(a,o){return Math.sqrt(a*a+o*o)},Le=["webkit","moz"];function He(a,o){a.__set||(a.__set={});var c=function(p){if(Le.some((function(g){return p.indexOf(g)===0})))return 1;typeof a[p]!="function"&&p!=="__set"&&Object.defineProperty(a,p,{get:function(){return p in a.__set?a.__set[p]:a.__set[p]=o[p]},set:function(g){a.__set[p]=g},configurable:!0})};for(var f in o)c(f);return a}function D(a,o){a.page=a.page||{},a.page.x=o.page.x,a.page.y=o.page.y,a.client=a.client||{},a.client.x=o.client.x,a.client.y=o.client.y,a.timeStamp=o.timeStamp}function y(a){a.page.x=0,a.page.y=0,a.client.x=0,a.client.y=0}function v(a){return a instanceof kt.Event||a instanceof kt.Touch}function C(a,o,c){return a=a||"page",(c=c||{}).x=o[a+"X"],c.y=o[a+"Y"],c}function Q(a,o){return o=o||{x:0,y:0},jt.isOperaMobile&&v(a)?(C("screen",a,o),o.x+=window.scrollX,o.y+=window.scrollY):C("page",a,o),o}function ot(a){return V.number(a.pointerId)?a.pointerId:a.identifier}function ht(a,o,c){var f=o.length>1?re(o):o[0];Q(f,a.page),(function(p,g){g=g||{},jt.isOperaMobile&&v(p)?C("screen",p,g):C("client",p,g)})(f,a.client),a.timeStamp=c}function Qt(a){var o=[];return V.array(a)?(o[0]=a[0],o[1]=a[1]):a.type==="touchend"?a.touches.length===1?(o[0]=a.touches[0],o[1]=a.changedTouches[0]):a.touches.length===0&&(o[0]=a.changedTouches[0],o[1]=a.changedTouches[1]):(o[0]=a.touches[0],o[1]=a.touches[1]),o}function re(a){for(var o={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},c=0;c<a.length;c++){var f=a[c];for(var p in o)o[p]+=f[p]}for(var g in o)o[g]/=a.length;return o}function ue(a){if(!a.length)return null;var o=Qt(a),c=Math.min(o[0].pageX,o[1].pageX),f=Math.min(o[0].pageY,o[1].pageY),p=Math.max(o[0].pageX,o[1].pageX),g=Math.max(o[0].pageY,o[1].pageY);return{x:c,y:f,left:c,top:f,right:p,bottom:g,width:p-c,height:g-f}}function we(a,o){var c=o+"X",f=o+"Y",p=Qt(a),g=p[0][c]-p[1][c],S=p[0][f]-p[1][f];return Te(g,S)}function ie(a,o){var c=o+"X",f=o+"Y",p=Qt(a),g=p[1][c]-p[0][c],S=p[1][f]-p[0][f];return 180*Math.atan2(S,g)/Math.PI}function Je(a){return V.string(a.pointerType)?a.pointerType:V.number(a.pointerType)?[void 0,void 0,"touch","pen","mouse"][a.pointerType]:/touch/.test(a.type||"")||a instanceof kt.Touch?"touch":"mouse"}function gn(a){var o=V.func(a.composedPath)?a.composedPath():a.path;return[Ht(o?o[0]:a.target),Ht(a.currentTarget)]}var nn=(function(){function a(o){A(this,a),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=o}return R(a,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),a})();Object.defineProperty(nn.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var sn=function(a,o){for(var c=0;c<o.length;c++){var f=o[c];a.push(f)}return a},Gn=function(a){return sn([],a)},mn=function(a,o){for(var c=0;c<a.length;c++)if(o(a[c],c,a))return c;return-1},wn=function(a,o){return a[mn(a,o)]},rt=(function(a){T(c,a);var o=d(c);function c(f,p,g){var S;A(this,c),(S=o.call(this,p._interaction)).dropzone=void 0,S.dragEvent=void 0,S.relatedTarget=void 0,S.draggable=void 0,S.propagationStopped=!1,S.immediatePropagationStopped=!1;var b=g==="dragleave"?f.prev:f.cur,F=b.element,W=b.dropzone;return S.type=g,S.target=F,S.currentTarget=F,S.dropzone=W,S.dragEvent=p,S.relatedTarget=p.target,S.draggable=p.interactable,S.timeStamp=p.timeStamp,S}return R(c,[{key:"reject",value:function(){var f=this,p=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&p.cur.dropzone===this.dropzone&&p.cur.element===this.target)if(p.prev.dropzone=this.dropzone,p.prev.element=this.target,p.rejected=!0,p.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var g=p.activeDrops,S=mn(g,(function(F){var W=F.dropzone,N=F.element;return W===f.dropzone&&N===f.target}));p.activeDrops.splice(S,1);var b=new c(p,this.dragEvent,"dropdeactivate");b.dropzone=this.dropzone,b.target=this.target,this.dropzone.fire(b)}else this.dropzone.fire(new c(p,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),c})(nn);function xt(a,o){for(var c=0,f=a.slice();c<f.length;c++){var p=f[c],g=p.dropzone,S=p.element;o.dropzone=g,o.target=S,g.fire(o),o.propagationStopped=o.immediatePropagationStopped=!1}}function x(a,o){for(var c=(function(g,S){for(var b=[],F=0,W=g.interactables.list;F<W.length;F++){var N=W[F];if(N.options.drop.enabled){var Z=N.options.drop.accept;if(!(V.element(Z)&&Z!==S||V.string(Z)&&!$(S,Z)||V.func(Z)&&!Z({dropzone:N,draggableElement:S})))for(var it=0,pt=N.getAllElements();it<pt.length;it++){var lt=pt[it];lt!==S&&b.push({dropzone:N,element:lt,rect:N.getRect(lt)})}}}return b})(a,o),f=0;f<c.length;f++){var p=c[f];p.rect=p.dropzone.getRect(p.element)}return c}function Rt(a,o,c){for(var f=a.dropState,p=a.interactable,g=a.element,S=[],b=0,F=f.activeDrops;b<F.length;b++){var W=F[b],N=W.dropzone,Z=W.element,it=W.rect,pt=N.dropCheck(o,c,p,g,Z,it);S.push(pt?Z:null)}var lt=(function(vt){for(var Tt,Et,Nt,Yt=[],ne=0;ne<vt.length;ne++){var Bt=vt[ne],Kt=vt[Tt];if(Bt&&ne!==Tt)if(Kt){var Ue=dt(Bt),he=dt(Kt);if(Ue!==Bt.ownerDocument)if(he!==Bt.ownerDocument)if(Ue!==he){Yt=Yt.length?Yt:Ft(Kt);var Ze=void 0;if(Kt instanceof kt.HTMLElement&&Bt instanceof kt.SVGElement&&!(Bt instanceof kt.SVGSVGElement)){if(Bt===he)continue;Ze=Bt.ownerSVGElement}else Ze=Bt;for(var qe=Ft(Ze,Kt.ownerDocument),Ke=0;qe[Ke]&&qe[Ke]===Yt[Ke];)Ke++;var Be=[qe[Ke-1],qe[Ke],Yt[Ke]];if(Be[0])for(var on=Be[0].lastChild;on;){if(on===Be[1]){Tt=ne,Yt=qe;break}if(on===Be[2])break;on=on.previousSibling}}else Nt=Kt,(parseInt(et(Et=Bt).getComputedStyle(Et).zIndex,10)||0)>=(parseInt(et(Nt).getComputedStyle(Nt).zIndex,10)||0)&&(Tt=ne);else Tt=ne}else Tt=ne}return Tt})(S);return f.activeDrops[lt]||null}function fe(a,o,c){var f=a.dropState,p={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return c.type==="dragstart"&&(p.activate=new rt(f,c,"dropactivate"),p.activate.target=null,p.activate.dropzone=null),c.type==="dragend"&&(p.deactivate=new rt(f,c,"dropdeactivate"),p.deactivate.target=null,p.deactivate.dropzone=null),f.rejected||(f.cur.element!==f.prev.element&&(f.prev.dropzone&&(p.leave=new rt(f,c,"dragleave"),c.dragLeave=p.leave.target=f.prev.element,c.prevDropzone=p.leave.dropzone=f.prev.dropzone),f.cur.dropzone&&(p.enter=new rt(f,c,"dragenter"),c.dragEnter=f.cur.element,c.dropzone=f.cur.dropzone)),c.type==="dragend"&&f.cur.dropzone&&(p.drop=new rt(f,c,"drop"),c.dropzone=f.cur.dropzone,c.relatedTarget=f.cur.element),c.type==="dragmove"&&f.cur.dropzone&&(p.move=new rt(f,c,"dropmove"),c.dropzone=f.cur.dropzone)),p}function bt(a,o){var c=a.dropState,f=c.activeDrops,p=c.cur,g=c.prev;o.leave&&g.dropzone.fire(o.leave),o.enter&&p.dropzone.fire(o.enter),o.move&&p.dropzone.fire(o.move),o.drop&&p.dropzone.fire(o.drop),o.deactivate&&xt(f,o.deactivate),c.prev.dropzone=p.dropzone,c.prev.element=p.element}function Ae(a,o){var c=a.interaction,f=a.iEvent,p=a.event;if(f.type==="dragmove"||f.type==="dragend"){var g=c.dropState;o.dynamicDrop&&(g.activeDrops=x(o,c.element));var S=f,b=Rt(c,S,p);g.rejected=g.rejected&&!!b&&b.dropzone===g.cur.dropzone&&b.element===g.cur.element,g.cur.dropzone=b&&b.dropzone,g.cur.element=b&&b.element,g.events=fe(c,0,S)}}var Ot={id:"actions/drop",install:function(a){var o=a.actions,c=a.interactStatic,f=a.Interactable,p=a.defaults;a.usePlugin(gt),f.prototype.dropzone=function(g){return(function(S,b){if(V.object(b)){if(S.options.drop.enabled=b.enabled!==!1,b.listeners){var F=me(b.listeners),W=Object.keys(F).reduce((function(Z,it){return Z[/^(enter|leave)/.test(it)?"drag".concat(it):/^(activate|deactivate|move)/.test(it)?"drop".concat(it):it]=F[it],Z}),{}),N=S.options.drop.listeners;N&&S.off(N),S.on(W),S.options.drop.listeners=W}return V.func(b.ondrop)&&S.on("drop",b.ondrop),V.func(b.ondropactivate)&&S.on("dropactivate",b.ondropactivate),V.func(b.ondropdeactivate)&&S.on("dropdeactivate",b.ondropdeactivate),V.func(b.ondragenter)&&S.on("dragenter",b.ondragenter),V.func(b.ondragleave)&&S.on("dragleave",b.ondragleave),V.func(b.ondropmove)&&S.on("dropmove",b.ondropmove),/^(pointer|center)$/.test(b.overlap)?S.options.drop.overlap=b.overlap:V.number(b.overlap)&&(S.options.drop.overlap=Math.max(Math.min(1,b.overlap),0)),"accept"in b&&(S.options.drop.accept=b.accept),"checker"in b&&(S.options.drop.checker=b.checker),S}return V.bool(b)?(S.options.drop.enabled=b,S):S.options.drop})(this,g)},f.prototype.dropCheck=function(g,S,b,F,W,N){return(function(Z,it,pt,lt,vt,Tt,Et){var Nt=!1;if(!(Et=Et||Z.getRect(Tt)))return!!Z.options.drop.checker&&Z.options.drop.checker(it,pt,Nt,Z,Tt,lt,vt);var Yt=Z.options.drop.overlap;if(Yt==="pointer"){var ne=yt(lt,vt,"drag"),Bt=Q(it);Bt.x+=ne.x,Bt.y+=ne.y;var Kt=Bt.x>Et.left&&Bt.x<Et.right,Ue=Bt.y>Et.top&&Bt.y<Et.bottom;Nt=Kt&&Ue}var he=lt.getRect(vt);if(he&&Yt==="center"){var Ze=he.left+he.width/2,qe=he.top+he.height/2;Nt=Ze>=Et.left&&Ze<=Et.right&&qe>=Et.top&&qe<=Et.bottom}return he&&V.number(Yt)&&(Nt=Math.max(0,Math.min(Et.right,he.right)-Math.max(Et.left,he.left))*Math.max(0,Math.min(Et.bottom,he.bottom)-Math.max(Et.top,he.top))/(he.width*he.height)>=Yt),Z.options.drop.checker&&(Nt=Z.options.drop.checker(it,pt,Nt,Z,Tt,lt,vt)),Nt})(this,g,S,b,F,W,N)},c.dynamicDrop=function(g){return V.bool(g)?(a.dynamicDrop=g,c):a.dynamicDrop},k(o.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),o.methodDict.drop="dropzone",a.dynamicDrop=!1,p.actions.drop=Ot.defaults},listeners:{"interactions:before-action-start":function(a){var o=a.interaction;o.prepared.name==="drag"&&(o.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(a,o){var c=a.interaction,f=(a.event,a.iEvent);if(c.prepared.name==="drag"){var p=c.dropState;p.activeDrops=[],p.events={},p.activeDrops=x(o,c.element),p.events=fe(c,0,f),p.events.activate&&(xt(p.activeDrops,p.events.activate),o.fire("actions/drop:start",{interaction:c,dragEvent:f}))}},"interactions:action-move":Ae,"interactions:after-action-move":function(a,o){var c=a.interaction,f=a.iEvent;if(c.prepared.name==="drag"){var p=c.dropState;bt(c,p.events),o.fire("actions/drop:move",{interaction:c,dragEvent:f}),p.events={}}},"interactions:action-end":function(a,o){if(a.interaction.prepared.name==="drag"){var c=a.interaction,f=a.iEvent;Ae(a,o),bt(c,c.dropState.events),o.fire("actions/drop:end",{interaction:c,dragEvent:f})}},"interactions:stop":function(a){var o=a.interaction;if(o.prepared.name==="drag"){var c=o.dropState;c&&(c.activeDrops=null,c.events=null,c.cur.dropzone=null,c.cur.element=null,c.prev.dropzone=null,c.prev.element=null,c.rejected=!1)}}},getActiveDrops:x,getDrop:Rt,getDropEvents:fe,fireDropEvents:bt,filterEventType:function(a){return a.search("drag")===0||a.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Oe=Ot;function ut(a){var o=a.interaction,c=a.iEvent,f=a.phase;if(o.prepared.name==="gesture"){var p=o.pointers.map((function(W){return W.pointer})),g=f==="start",S=f==="end",b=o.interactable.options.deltaSource;if(c.touches=[p[0],p[1]],g)c.distance=we(p,b),c.box=ue(p),c.scale=1,c.ds=0,c.angle=ie(p,b),c.da=0,o.gesture.startDistance=c.distance,o.gesture.startAngle=c.angle;else if(S||o.pointers.length<2){var F=o.prevEvent;c.distance=F.distance,c.box=F.box,c.scale=F.scale,c.ds=0,c.angle=F.angle,c.da=0}else c.distance=we(p,b),c.box=ue(p),c.scale=c.distance/o.gesture.startDistance,c.angle=ie(p,b),c.ds=c.scale-o.gesture.scale,c.da=c.angle-o.gesture.angle;o.gesture.distance=c.distance,o.gesture.angle=c.angle,V.number(c.scale)&&c.scale!==1/0&&!isNaN(c.scale)&&(o.gesture.scale=c.scale)}}var ct={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(a){var o=a.actions,c=a.Interactable,f=a.defaults;c.prototype.gesturable=function(p){return V.object(p)?(this.options.gesture.enabled=p.enabled!==!1,this.setPerAction("gesture",p),this.setOnEvents("gesture",p),this):V.bool(p)?(this.options.gesture.enabled=p,this):this.options.gesture},o.map.gesture=ct,o.methodDict.gesture="gesturable",f.actions.gesture=ct.defaults},listeners:{"interactions:action-start":ut,"interactions:action-move":ut,"interactions:action-end":ut,"interactions:new":function(a){a.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(a){if(!(a.interaction.pointers.length<2)){var o=a.interactable.options.gesture;if(o&&o.enabled)return a.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(a){return a.search("gesture")===0}},Tn=ct;function le(a,o,c,f,p,g,S){if(!o)return!1;if(o===!0){var b=V.number(g.width)?g.width:g.right-g.left,F=V.number(g.height)?g.height:g.bottom-g.top;if(S=Math.min(S,Math.abs((a==="left"||a==="right"?b:F)/2)),b<0&&(a==="left"?a="right":a==="right"&&(a="left")),F<0&&(a==="top"?a="bottom":a==="bottom"&&(a="top")),a==="left"){var W=b>=0?g.left:g.right;return c.x<W+S}if(a==="top"){var N=F>=0?g.top:g.bottom;return c.y<N+S}if(a==="right")return c.x>(b>=0?g.right:g.left)-S;if(a==="bottom")return c.y>(F>=0?g.bottom:g.top)-S}return!!V.element(f)&&(V.element(o)?o===f:Gt(f,o,p))}function Dt(a){var o=a.iEvent,c=a.interaction;if(c.prepared.name==="resize"&&c.resizeAxes){var f=o;c.interactable.options.resize.square?(c.resizeAxes==="y"?f.delta.x=f.delta.y:f.delta.y=f.delta.x,f.axes="xy"):(f.axes=c.resizeAxes,c.resizeAxes==="x"?f.delta.y=0:c.resizeAxes==="y"&&(f.delta.x=0))}}var Ce,Pe,ae={id:"actions/resize",before:["actions/drag"],install:function(a){var o=a.actions,c=a.browser,f=a.Interactable,p=a.defaults;ae.cursors=(function(g){return g.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}})(c),ae.defaultMargin=c.supportsTouch||c.supportsPointerEvent?20:10,f.prototype.resizable=function(g){return(function(S,b,F){return V.object(b)?(S.options.resize.enabled=b.enabled!==!1,S.setPerAction("resize",b),S.setOnEvents("resize",b),V.string(b.axis)&&/^x$|^y$|^xy$/.test(b.axis)?S.options.resize.axis=b.axis:b.axis===null&&(S.options.resize.axis=F.defaults.actions.resize.axis),V.bool(b.preserveAspectRatio)?S.options.resize.preserveAspectRatio=b.preserveAspectRatio:V.bool(b.square)&&(S.options.resize.square=b.square),S):V.bool(b)?(S.options.resize.enabled=b,S):S.options.resize})(this,g,a)},o.map.resize=ae,o.methodDict.resize="resizable",p.actions.resize=ae.defaults},listeners:{"interactions:new":function(a){a.interaction.resizeAxes="xy"},"interactions:action-start":function(a){(function(o){var c=o.iEvent,f=o.interaction;if(f.prepared.name==="resize"&&f.prepared.edges){var p=c,g=f.rect;f._rects={start:k({},g),corrected:k({},g),previous:k({},g),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},p.edges=f.prepared.edges,p.rect=f._rects.corrected,p.deltaRect=f._rects.delta}})(a),Dt(a)},"interactions:action-move":function(a){(function(o){var c=o.iEvent,f=o.interaction;if(f.prepared.name==="resize"&&f.prepared.edges){var p=c,g=f.interactable.options.resize.invert,S=g==="reposition"||g==="negate",b=f.rect,F=f._rects,W=F.start,N=F.corrected,Z=F.delta,it=F.previous;if(k(it,N),S){if(k(N,b),g==="reposition"){if(N.top>N.bottom){var pt=N.top;N.top=N.bottom,N.bottom=pt}if(N.left>N.right){var lt=N.left;N.left=N.right,N.right=lt}}}else N.top=Math.min(b.top,W.bottom),N.bottom=Math.max(b.bottom,W.top),N.left=Math.min(b.left,W.right),N.right=Math.max(b.right,W.left);for(var vt in N.width=N.right-N.left,N.height=N.bottom-N.top,N)Z[vt]=N[vt]-it[vt];p.edges=f.prepared.edges,p.rect=N,p.deltaRect=Z}})(a),Dt(a)},"interactions:action-end":function(a){var o=a.iEvent,c=a.interaction;if(c.prepared.name==="resize"&&c.prepared.edges){var f=o;f.edges=c.prepared.edges,f.rect=c._rects.corrected,f.deltaRect=c._rects.delta}},"auto-start:check":function(a){var o=a.interaction,c=a.interactable,f=a.element,p=a.rect,g=a.buttons;if(p){var S=k({},o.coords.cur.page),b=c.options.resize;if(b&&b.enabled&&(!o.pointerIsDown||!/mouse|pointer/.test(o.pointerType)||(g&b.mouseButtons)!=0)){if(V.object(b.edges)){var F={left:!1,right:!1,top:!1,bottom:!1};for(var W in F)F[W]=le(W,b.edges[W],S,o._latestPointer.eventTarget,f,p,b.margin||ae.defaultMargin);F.left=F.left&&!F.right,F.top=F.top&&!F.bottom,(F.left||F.right||F.top||F.bottom)&&(a.action={name:"resize",edges:F})}else{var N=b.axis!=="y"&&S.x>p.right-ae.defaultMargin,Z=b.axis!=="x"&&S.y>p.bottom-ae.defaultMargin;(N||Z)&&(a.action={name:"resize",axes:(N?"x":"")+(Z?"y":"")})}return!a.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(a){var o=a.edges,c=a.axis,f=a.name,p=ae.cursors,g=null;if(c)g=p[f+c];else if(o){for(var S="",b=0,F=["top","bottom","left","right"];b<F.length;b++){var W=F[b];o[W]&&(S+=W)}g=p[S]}return g},filterEventType:function(a){return a.search("resize")===0},defaultMargin:null},oe=ae,Fe={id:"actions",install:function(a){a.usePlugin(Tn),a.usePlugin(oe),a.usePlugin(gt),a.usePlugin(Oe)}},Ne=0,de={request:function(a){return Ce(a)},cancel:function(a){return Pe(a)},init:function(a){if(Ce=a.requestAnimationFrame,Pe=a.cancelAnimationFrame,!Ce)for(var o=["ms","moz","webkit","o"],c=0;c<o.length;c++){var f=o[c];Ce=a["".concat(f,"RequestAnimationFrame")],Pe=a["".concat(f,"CancelAnimationFrame")]||a["".concat(f,"CancelRequestAnimationFrame")]}Ce=Ce&&Ce.bind(a),Pe=Pe&&Pe.bind(a),Ce||(Ce=function(p){var g=Date.now(),S=Math.max(0,16-(g-Ne)),b=a.setTimeout((function(){p(g+S)}),S);return Ne=g+S,b},Pe=function(p){return clearTimeout(p)})}},Mt={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(a){Mt.isScrolling=!0,de.cancel(Mt.i),a.autoScroll=Mt,Mt.interaction=a,Mt.prevTime=Mt.now(),Mt.i=de.request(Mt.scroll)},stop:function(){Mt.isScrolling=!1,Mt.interaction&&(Mt.interaction.autoScroll=null),de.cancel(Mt.i)},scroll:function(){var a=Mt.interaction,o=a.interactable,c=a.element,f=a.prepared.name,p=o.options[f].autoScroll,g=cn(p.container,o,c),S=Mt.now(),b=(S-Mt.prevTime)/1e3,F=p.speed*b;if(F>=1){var W={x:Mt.x*F,y:Mt.y*F};if(W.x||W.y){var N=_e(g);V.window(g)?g.scrollBy(W.x,W.y):g&&(g.scrollLeft+=W.x,g.scrollTop+=W.y);var Z=_e(g),it={x:Z.x-N.x,y:Z.y-N.y};(it.x||it.y)&&o.fire({type:"autoscroll",target:c,interactable:o,delta:it,interaction:a,container:g})}Mt.prevTime=S}Mt.isScrolling&&(de.cancel(Mt.i),Mt.i=de.request(Mt.scroll))},check:function(a,o){var c;return(c=a.options[o].autoScroll)==null?void 0:c.enabled},onInteractionMove:function(a){var o=a.interaction,c=a.pointer;if(o.interacting()&&Mt.check(o.interactable,o.prepared.name))if(o.simulation)Mt.x=Mt.y=0;else{var f,p,g,S,b=o.interactable,F=o.element,W=o.prepared.name,N=b.options[W].autoScroll,Z=cn(N.container,b,F);if(V.window(Z))S=c.clientX<Mt.margin,f=c.clientY<Mt.margin,p=c.clientX>Z.innerWidth-Mt.margin,g=c.clientY>Z.innerHeight-Mt.margin;else{var it=Vt(Z);S=c.clientX<it.left+Mt.margin,f=c.clientY<it.top+Mt.margin,p=c.clientX>it.right-Mt.margin,g=c.clientY>it.bottom-Mt.margin}Mt.x=p?1:S?-1:0,Mt.y=g?1:f?-1:0,Mt.isScrolling||(Mt.margin=N.margin,Mt.speed=N.speed,Mt.start(o))}}};function cn(a,o,c){return(V.string(a)?z(a,o,c):a)||et(c)}function _e(a){return V.window(a)&&(a=window.document.body),{x:a.scrollLeft,y:a.scrollTop}}var Ve={id:"auto-scroll",install:function(a){var o=a.defaults,c=a.actions;a.autoScroll=Mt,Mt.now=function(){return a.now()},c.phaselessTypes.autoscroll=!0,o.perAction.autoScroll=Mt.defaults},listeners:{"interactions:new":function(a){a.interaction.autoScroll=null},"interactions:destroy":function(a){a.interaction.autoScroll=null,Mt.stop(),Mt.interaction&&(Mt.interaction=null)},"interactions:stop":Mt.stop,"interactions:action-move":function(a){return Mt.onInteractionMove(a)}}},ke=Ve;function Me(a,o){var c=!1;return function(){return c||(J.console.warn(o),c=!0),a.apply(this,arguments)}}function Xe(a,o){return a.name=o.name,a.axis=o.axis,a.edges=o.edges,a}function Kn(a){return V.bool(a)?(this.options.styleCursor=a,this):a===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Vr(a){return V.func(a)?(this.options.actionChecker=a,this):a===null?(delete this.options.actionChecker,this):this.options.actionChecker}var Xr={id:"auto-start/interactableMethods",install:function(a){var o=a.Interactable;o.prototype.getAction=function(c,f,p,g){var S=(function(b,F,W,N,Z){var it=b.getRect(N),pt=F.buttons||{0:1,1:4,3:8,4:16}[F.button],lt={action:null,interactable:b,interaction:W,element:N,rect:it,buttons:pt};return Z.fire("auto-start:check",lt),lt.action})(this,f,p,g,a);return this.options.actionChecker?this.options.actionChecker(c,f,S,this,g,p):S},o.prototype.ignoreFrom=Me((function(c){return this._backCompatOption("ignoreFrom",c)}),"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),o.prototype.allowFrom=Me((function(c){return this._backCompatOption("allowFrom",c)}),"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),o.prototype.actionChecker=Vr,o.prototype.styleCursor=Kn}};function Yr(a,o,c,f,p){return o.testIgnoreAllow(o.options[a.name],c,f)&&o.options[a.name].enabled&&Jn(o,c,a,p)?a:null}function Zr(a,o,c,f,p,g,S){for(var b=0,F=f.length;b<F;b++){var W=f[b],N=p[b],Z=W.getAction(o,c,a,N);if(Z){var it=Yr(Z,W,N,g,S);if(it)return{action:it,interactable:W,element:N}}}return{action:null,interactable:null,element:null}}function qr(a,o,c,f,p){var g=[],S=[],b=f;function F(N){g.push(N),S.push(b)}for(;V.element(b);){g=[],S=[],p.interactables.forEachMatch(b,F);var W=Zr(a,o,c,g,S,f,p);if(W.action&&!W.interactable.options[W.action.name].manualStart)return W;b=tt(b)}return{action:null,interactable:null,element:null}}function Gr(a,o,c){var f=o.action,p=o.interactable,g=o.element;f=f||{name:null},a.interactable=p,a.element=g,Xe(a.prepared,f),a.rect=p&&f.name?p.getRect(g):null,Jr(a,c),c.fire("autoStart:prepared",{interaction:a})}function Jn(a,o,c,f){var p=a.options,g=p[c.name].max,S=p[c.name].maxPerElement,b=f.autoStart.maxInteractions,F=0,W=0,N=0;if(!(g&&S&&b))return!1;for(var Z=0,it=f.interactions.list;Z<it.length;Z++){var pt=it[Z],lt=pt.prepared.name;if(pt.interacting()&&(++F>=b||pt.interactable===a&&((W+=lt===c.name?1:0)>=g||pt.element===o&&(N++,lt===c.name&&N>=S))))return!1}return b>0}function Kr(a,o){return V.number(a)?(o.autoStart.maxInteractions=a,this):o.autoStart.maxInteractions}function mr(a,o,c){var f=c.autoStart.cursorElement;f&&f!==a&&(f.style.cursor=""),a.ownerDocument.documentElement.style.cursor=o,a.style.cursor=o,c.autoStart.cursorElement=o?a:null}function Jr(a,o){var c=a.interactable,f=a.element,p=a.prepared;if(a.pointerType==="mouse"&&c&&c.options.styleCursor){var g="";if(p.name){var S=c.options[p.name].cursorChecker;g=V.func(S)?S(p,c,f,a._interacting):o.actions.map[p.name].getCursor(p)}mr(a.element,g||"",o)}else o.autoStart.cursorElement&&mr(o.autoStart.cursorElement,"",o)}var Pi={id:"auto-start/base",before:["actions"],install:function(a){var o=a.interactStatic,c=a.defaults;a.usePlugin(Xr),c.base.actionChecker=null,c.base.styleCursor=!0,k(c.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),o.maxInteractions=function(f){return Kr(f,a)},a.autoStart={maxInteractions:1/0,withinInteractionLimit:Jn,cursorElement:null}},listeners:{"interactions:down":function(a,o){var c=a.interaction,f=a.pointer,p=a.event,g=a.eventTarget;c.interacting()||Gr(c,qr(c,f,p,g,o),o)},"interactions:move":function(a,o){(function(c,f){var p=c.interaction,g=c.pointer,S=c.event,b=c.eventTarget;p.pointerType!=="mouse"||p.pointerIsDown||p.interacting()||Gr(p,qr(p,g,S,b,f),f)})(a,o),(function(c,f){var p=c.interaction;if(p.pointerIsDown&&!p.interacting()&&p.pointerWasMoved&&p.prepared.name){f.fire("autoStart:before-start",c);var g=p.interactable,S=p.prepared.name;S&&g&&(g.options[S].manualStart||!Jn(g,p.element,p.prepared,f)?p.stop():(p.start(p.prepared,g,p.element),Jr(p,f)))}})(a,o)},"interactions:stop":function(a,o){var c=a.interaction,f=c.interactable;f&&f.options.styleCursor&&mr(c.element,"",o)}},maxInteractions:Kr,withinInteractionLimit:Jn,validateAction:Yr},wr=Pi,Mi={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(a,o){var c=a.interaction,f=a.eventTarget,p=a.dx,g=a.dy;if(c.prepared.name==="drag"){var S=Math.abs(p),b=Math.abs(g),F=c.interactable.options.drag,W=F.startAxis,N=S>b?"x":S<b?"y":"xy";if(c.prepared.axis=F.lockAxis==="start"?N[0]:F.lockAxis,N!=="xy"&&W!=="xy"&&W!==N){c.prepared.name=null;for(var Z=f,it=function(lt){if(lt!==c.interactable){var vt=c.interactable.options.drag;if(!vt.manualStart&&lt.testIgnoreAllow(vt,Z,f)){var Tt=lt.getAction(c.downPointer,c.downEvent,c,Z);if(Tt&&Tt.name==="drag"&&(function(Et,Nt){if(!Nt)return!1;var Yt=Nt.options.drag.startAxis;return Et==="xy"||Yt==="xy"||Yt===Et})(N,lt)&&wr.validateAction(Tt,lt,Z,f,o))return lt}}};V.element(Z);){var pt=o.interactables.forEachMatch(Z,it);if(pt){c.prepared.name="drag",c.interactable=pt,c.element=Z;break}Z=tt(Z)}}}}}};function _r(a){var o=a.prepared&&a.prepared.name;if(!o)return null;var c=a.interactable.options;return c[o].hold||c[o].delay}var zi={id:"auto-start/hold",install:function(a){var o=a.defaults;a.usePlugin(wr),o.perAction.hold=0,o.perAction.delay=0},listeners:{"interactions:new":function(a){a.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(a){var o=a.interaction,c=_r(o);c>0&&(o.autoStartHoldTimer=setTimeout((function(){o.start(o.prepared,o.interactable,o.element)}),c))},"interactions:move":function(a){var o=a.interaction,c=a.duplicate;o.autoStartHoldTimer&&o.pointerWasMoved&&!c&&(clearTimeout(o.autoStartHoldTimer),o.autoStartHoldTimer=null)},"autoStart:before-start":function(a){var o=a.interaction;_r(o)>0&&(o.prepared.name=null)}},getHoldDuration:_r},ji=zi,Ui={id:"auto-start",install:function(a){a.usePlugin(wr),a.usePlugin(ji),a.usePlugin(Mi)}},Bi=function(a){return/^(always|never|auto)$/.test(a)?(this.options.preventDefault=a,this):V.bool(a)?(this.options.preventDefault=a?"always":"never",this):this.options.preventDefault};function Wi(a){var o=a.interaction,c=a.event;o.interactable&&o.interactable.checkAndPreventDefault(c)}var Qr={id:"core/interactablePreventDefault",install:function(a){var o=a.Interactable;o.prototype.preventDefault=Bi,o.prototype.checkAndPreventDefault=function(c){return(function(f,p,g){var S=f.options.preventDefault;if(S!=="never")if(S!=="always"){if(p.events.supportsPassive&&/^touch(start|move)$/.test(g.type)){var b=et(g.target).document,F=p.getDocOptions(b);if(!F||!F.events||F.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(g.type)||V.element(g.target)&&$(g.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||g.preventDefault()}else g.preventDefault()})(this,a,c)},a.interactions.docEvents.push({type:"dragstart",listener:function(c){for(var f=0,p=a.interactions.list;f<p.length;f++){var g=p[f];if(g.element&&(g.element===c.target||Pt(g.element,c.target)))return void g.interactable.checkAndPreventDefault(c)}}})},listeners:["down","move","up","cancel"].reduce((function(a,o){return a["interactions:".concat(o)]=Wi,a}),{})};function Qn(a,o){if(o.phaselessTypes[a])return!0;for(var c in o.map)if(a.indexOf(c)===0&&a.substr(c.length)in o.phases)return!0;return!1}function On(a){var o={};for(var c in a){var f=a[c];V.plainObject(f)?o[c]=On(f):V.array(f)?o[c]=Gn(f):o[c]=f}return o}var Sr=(function(){function a(o){A(this,a),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=o,this.result=$n(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return R(a,[{key:"start",value:function(o,c){var f,p,g=o.phase,S=this.interaction,b=(function(W){var N=W.interactable.options[W.prepared.name],Z=N.modifiers;return Z&&Z.length?Z:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map((function(it){var pt=N[it];return pt&&pt.enabled&&{options:pt,methods:pt._methods}})).filter((function(it){return!!it}))})(S);this.prepareStates(b),this.startEdges=k({},S.edges),this.edges=k({},this.startEdges),this.startOffset=(f=S.rect,p=c,f?{left:p.x-f.left,top:p.y-f.top,right:f.right-p.x,bottom:f.bottom-p.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var F=this.fillArg({phase:g,pageCoords:c,preEnd:!1});return this.result=$n(),this.startAll(F),this.result=this.setAll(F)}},{key:"fillArg",value:function(o){var c=this.interaction;return o.interaction=c,o.interactable=c.interactable,o.element=c.element,o.rect||(o.rect=c.rect),o.edges||(o.edges=this.startEdges),o.startOffset=this.startOffset,o}},{key:"startAll",value:function(o){for(var c=0,f=this.states;c<f.length;c++){var p=f[c];p.methods.start&&(o.state=p,p.methods.start(o))}}},{key:"setAll",value:function(o){var c=o.phase,f=o.preEnd,p=o.skipModifiers,g=o.rect,S=o.edges;o.coords=k({},o.pageCoords),o.rect=k({},g),o.edges=k({},S);for(var b=p?this.states.slice(p):this.states,F=$n(o.coords,o.rect),W=0;W<b.length;W++){var N,Z=b[W],it=Z.options,pt=k({},o.coords),lt=null;(N=Z.methods)!=null&&N.set&&this.shouldDo(it,f,c)&&(o.state=Z,lt=Z.methods.set(o),Ut(o.edges,o.rect,{x:o.coords.x-pt.x,y:o.coords.y-pt.y})),F.eventProps.push(lt)}k(this.edges,o.edges),F.delta.x=o.coords.x-o.pageCoords.x,F.delta.y=o.coords.y-o.pageCoords.y,F.rectDelta.left=o.rect.left-g.left,F.rectDelta.right=o.rect.right-g.right,F.rectDelta.top=o.rect.top-g.top,F.rectDelta.bottom=o.rect.bottom-g.bottom;var vt=this.result.coords,Tt=this.result.rect;if(vt&&Tt){var Et=F.rect.left!==Tt.left||F.rect.right!==Tt.right||F.rect.top!==Tt.top||F.rect.bottom!==Tt.bottom;F.changed=Et||vt.x!==F.coords.x||vt.y!==F.coords.y}return F}},{key:"applyToInteraction",value:function(o){var c=this.interaction,f=o.phase,p=c.coords.cur,g=c.coords.start,S=this.result,b=this.startDelta,F=S.delta;f==="start"&&k(this.startDelta,S.delta);for(var W=0,N=[[g,b],[p,F]];W<N.length;W++){var Z=N[W],it=Z[0],pt=Z[1];it.page.x+=pt.x,it.page.y+=pt.y,it.client.x+=pt.x,it.client.y+=pt.y}var lt=this.result.rectDelta,vt=o.rect||c.rect;vt.left+=lt.left,vt.right+=lt.right,vt.top+=lt.top,vt.bottom+=lt.bottom,vt.width=vt.right-vt.left,vt.height=vt.bottom-vt.top}},{key:"setAndApply",value:function(o){var c=this.interaction,f=o.phase,p=o.preEnd,g=o.skipModifiers,S=this.setAll(this.fillArg({preEnd:p,phase:f,pageCoords:o.modifiedCoords||c.coords.cur.page}));if(this.result=S,!S.changed&&(!g||g<this.states.length)&&c.interacting())return!1;if(o.modifiedCoords){var b=c.coords.cur.page,F={x:o.modifiedCoords.x-b.x,y:o.modifiedCoords.y-b.y};S.coords.x+=F.x,S.coords.y+=F.y,S.delta.x+=F.x,S.delta.y+=F.y}this.applyToInteraction(o)}},{key:"beforeEnd",value:function(o){var c=o.interaction,f=o.event,p=this.states;if(p&&p.length){for(var g=!1,S=0;S<p.length;S++){var b=p[S];o.state=b;var F=b.options,W=b.methods,N=W.beforeEnd&&W.beforeEnd(o);if(N)return this.endResult=N,!1;g=g||!g&&this.shouldDo(F,!0,o.phase,!0)}g&&c.move({event:f,preEnd:!0})}}},{key:"stop",value:function(o){var c=o.interaction;if(this.states&&this.states.length){var f=k({states:this.states,interactable:c.interactable,element:c.element,rect:null},o);this.fillArg(f);for(var p=0,g=this.states;p<g.length;p++){var S=g[p];f.state=S,S.methods.stop&&S.methods.stop(f)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(o){this.states=[];for(var c=0;c<o.length;c++){var f=o[c],p=f.options,g=f.methods,S=f.name;this.states.push({options:p,methods:g,index:c,name:S})}return this.states}},{key:"restoreInteractionCoords",value:function(o){var c=o.interaction,f=c.coords,p=c.rect,g=c.modification;if(g.result){for(var S=g.startDelta,b=g.result,F=b.delta,W=b.rectDelta,N=0,Z=[[f.start,S],[f.cur,F]];N<Z.length;N++){var it=Z[N],pt=it[0],lt=it[1];pt.page.x-=lt.x,pt.page.y-=lt.y,pt.client.x-=lt.x,pt.client.y-=lt.y}p.left-=W.left,p.right-=W.right,p.top-=W.top,p.bottom-=W.bottom}}},{key:"shouldDo",value:function(o,c,f,p){return!(!o||o.enabled===!1||p&&!o.endOnly||o.endOnly&&!c||f==="start"&&!o.setStart)}},{key:"copyFrom",value:function(o){this.startOffset=o.startOffset,this.startDelta=o.startDelta,this.startEdges=o.startEdges,this.edges=o.edges,this.states=o.states.map((function(c){return On(c)})),this.result=$n(k({},o.result.coords),k({},o.result.rect))}},{key:"destroy",value:function(){for(var o in this)this[o]=null}}]),a})();function $n(a,o){return{rect:o,coords:a,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function un(a,o){var c=a.defaults,f={start:a.start,set:a.set,beforeEnd:a.beforeEnd,stop:a.stop},p=function(g){var S=g||{};for(var b in S.enabled=S.enabled!==!1,c)b in S||(S[b]=c[b]);var F={options:S,methods:f,name:o,enable:function(){return S.enabled=!0,F},disable:function(){return S.enabled=!1,F}};return F};return o&&typeof o=="string"&&(p._defaults=c,p._methods=f),p}function Ln(a){var o=a.iEvent,c=a.interaction.modification.result;c&&(o.modifiers=c.eventProps)}var Hi={id:"modifiers/base",before:["actions"],install:function(a){a.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(a){var o=a.interaction;o.modification=new Sr(o)},"interactions:before-action-start":function(a){var o=a.interaction,c=a.interaction.modification;c.start(a,o.coords.start.page),o.edges=c.edges,c.applyToInteraction(a)},"interactions:before-action-move":function(a){var o=a.interaction,c=o.modification,f=c.setAndApply(a);return o.edges=c.edges,f},"interactions:before-action-end":function(a){var o=a.interaction,c=o.modification,f=c.beforeEnd(a);return o.edges=c.startEdges,f},"interactions:action-start":Ln,"interactions:action-move":Ln,"interactions:action-end":Ln,"interactions:after-action-start":function(a){return a.interaction.modification.restoreInteractionCoords(a)},"interactions:after-action-move":function(a){return a.interaction.modification.restoreInteractionCoords(a)},"interactions:stop":function(a){return a.interaction.modification.stop(a)}}},$r=Hi,ti={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},Er=(function(a){T(c,a);var o=d(c);function c(f,p,g,S,b,F,W){var N;A(this,c),(N=o.call(this,f)).relatedTarget=null,N.screenX=void 0,N.screenY=void 0,N.button=void 0,N.buttons=void 0,N.ctrlKey=void 0,N.shiftKey=void 0,N.altKey=void 0,N.metaKey=void 0,N.page=void 0,N.client=void 0,N.delta=void 0,N.rect=void 0,N.x0=void 0,N.y0=void 0,N.t0=void 0,N.dt=void 0,N.duration=void 0,N.clientX0=void 0,N.clientY0=void 0,N.velocity=void 0,N.speed=void 0,N.swipe=void 0,N.axes=void 0,N.preEnd=void 0,b=b||f.element;var Z=f.interactable,it=(Z&&Z.options||ti).deltaSource,pt=yt(Z,b,g),lt=S==="start",vt=S==="end",Tt=lt?O(N):f.prevEvent,Et=lt?f.coords.start:vt?{page:Tt.page,client:Tt.client,timeStamp:f.coords.cur.timeStamp}:f.coords.cur;return N.page=k({},Et.page),N.client=k({},Et.client),N.rect=k({},f.rect),N.timeStamp=Et.timeStamp,vt||(N.page.x-=pt.x,N.page.y-=pt.y,N.client.x-=pt.x,N.client.y-=pt.y),N.ctrlKey=p.ctrlKey,N.altKey=p.altKey,N.shiftKey=p.shiftKey,N.metaKey=p.metaKey,N.button=p.button,N.buttons=p.buttons,N.target=b,N.currentTarget=b,N.preEnd=F,N.type=W||g+(S||""),N.interactable=Z,N.t0=lt?f.pointers[f.pointers.length-1].downTime:Tt.t0,N.x0=f.coords.start.page.x-pt.x,N.y0=f.coords.start.page.y-pt.y,N.clientX0=f.coords.start.client.x-pt.x,N.clientY0=f.coords.start.client.y-pt.y,N.delta=lt||vt?{x:0,y:0}:{x:N[it].x-Tt[it].x,y:N[it].y-Tt[it].y},N.dt=f.coords.delta.timeStamp,N.duration=N.timeStamp-N.t0,N.velocity=k({},f.coords.velocity[it]),N.speed=Te(N.velocity.x,N.velocity.y),N.swipe=vt||S==="inertiastart"?N.getSwipe():null,N}return R(c,[{key:"getSwipe",value:function(){var f=this._interaction;if(f.prevEvent.speed<600||this.timeStamp-f.prevEvent.timeStamp>150)return null;var p=180*Math.atan2(f.prevEvent.velocityY,f.prevEvent.velocityX)/Math.PI;p<0&&(p+=360);var g=112.5<=p&&p<247.5,S=202.5<=p&&p<337.5;return{up:S,down:!S&&22.5<=p&&p<157.5,left:g,right:!g&&(292.5<=p||p<67.5),angle:p,speed:f.prevEvent.speed,velocity:{x:f.prevEvent.velocityX,y:f.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),c})(nn);Object.defineProperties(Er.prototype,{pageX:{get:function(){return this.page.x},set:function(a){this.page.x=a}},pageY:{get:function(){return this.page.y},set:function(a){this.page.y=a}},clientX:{get:function(){return this.client.x},set:function(a){this.client.x=a}},clientY:{get:function(){return this.client.y},set:function(a){this.client.y=a}},dx:{get:function(){return this.delta.x},set:function(a){this.delta.x=a}},dy:{get:function(){return this.delta.y},set:function(a){this.delta.y=a}},velocityX:{get:function(){return this.velocity.x},set:function(a){this.velocity.x=a}},velocityY:{get:function(){return this.velocity.y},set:function(a){this.velocity.y=a}}});var Vi=R((function a(o,c,f,p,g){A(this,a),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=o,this.pointer=c,this.event=f,this.downTime=p,this.downTarget=g})),Xi=(function(a){return a.interactable="",a.element="",a.prepared="",a.pointerIsDown="",a.pointerWasMoved="",a._proxy="",a})({}),ei=(function(a){return a.start="",a.move="",a.end="",a.stop="",a.interacting="",a})({}),ye=0,Yi=(function(){function a(o){var c=this,f=o.pointerType,p=o.scopeFire;A(this,a),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=Me((function(N){this.move(N)}),"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=ye++,this._scopeFire=p,this.pointerType=f;var g=this;this._proxy={};var S=function(N){Object.defineProperty(c._proxy,N,{get:function(){return g[N]}})};for(var b in Xi)S(b);var F=function(N){Object.defineProperty(c._proxy,N,{value:function(){return g[N].apply(g,arguments)}})};for(var W in ei)F(W);this._scopeFire("interactions:new",{interaction:this})}return R(a,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(o,c,f){var p=this.updatePointer(o,c,f,!0),g=this.pointers[p];this._scopeFire("interactions:down",{pointer:o,event:c,eventTarget:f,pointerIndex:p,pointerInfo:g,type:"down",interaction:this})}},{key:"start",value:function(o,c,f){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(o.name==="gesture"?2:1)||!c.options[o.name].enabled)&&(Xe(this.prepared,o),this.interactable=c,this.element=f,this.rect=c.getRect(f),this.edges=this.prepared.edges?k({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(o,c,f){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(o,c,f,!1);var p,g,S=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(p=this.coords.cur.client.x-this.coords.start.client.x,g=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=Te(p,g)>this.pointerMoveTolerance);var b,F,W,N=this.getPointerIndex(o),Z={pointer:o,pointerIndex:N,pointerInfo:this.pointers[N],event:c,type:"move",eventTarget:f,dx:p,dy:g,duplicate:S,interaction:this};S||(b=this.coords.velocity,F=this.coords.delta,W=Math.max(F.timeStamp/1e3,.001),b.page.x=F.page.x/W,b.page.y=F.page.y/W,b.client.x=F.client.x/W,b.client.y=F.client.y/W,b.timeStamp=W),this._scopeFire("interactions:move",Z),S||this.simulation||(this.interacting()&&(Z.type=null,this.move(Z)),this.pointerWasMoved&&D(this.coords.prev,this.coords.cur))}},{key:"move",value:function(o){o&&o.event||y(this.coords.delta),(o=k({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},o||{})).phase="move",this._doPhase(o)}},{key:"pointerUp",value:function(o,c,f,p){var g=this.getPointerIndex(o);g===-1&&(g=this.updatePointer(o,c,f,!1));var S=/cancel$/i.test(c.type)?"cancel":"up";this._scopeFire("interactions:".concat(S),{pointer:o,pointerIndex:g,pointerInfo:this.pointers[g],event:c,eventTarget:f,type:S,curEventTarget:p,interaction:this}),this.simulation||this.end(c),this.removePointer(o,c)}},{key:"documentBlur",value:function(o){this.end(o),this._scopeFire("interactions:blur",{event:o,type:"blur",interaction:this})}},{key:"end",value:function(o){var c;this._ending=!0,o=o||this._latestPointer.event,this.interacting()&&(c=this._doPhase({event:o,interaction:this,phase:"end"})),this._ending=!1,c===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(o){var c=ot(o);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:mn(this.pointers,(function(f){return f.id===c}))}},{key:"getPointerInfo",value:function(o){return this.pointers[this.getPointerIndex(o)]}},{key:"updatePointer",value:function(o,c,f,p){var g,S,b,F=ot(o),W=this.getPointerIndex(o),N=this.pointers[W];return p=p!==!1&&(p||/(down|start)$/i.test(c.type)),N?N.pointer=o:(N=new Vi(F,o,c,null,null),W=this.pointers.length,this.pointers.push(N)),ht(this.coords.cur,this.pointers.map((function(Z){return Z.pointer})),this._now()),g=this.coords.delta,S=this.coords.prev,b=this.coords.cur,g.page.x=b.page.x-S.page.x,g.page.y=b.page.y-S.page.y,g.client.x=b.client.x-S.client.x,g.client.y=b.client.y-S.client.y,g.timeStamp=b.timeStamp-S.timeStamp,p&&(this.pointerIsDown=!0,N.downTime=this.coords.cur.timeStamp,N.downTarget=f,He(this.downPointer,o),this.interacting()||(D(this.coords.start,this.coords.cur),D(this.coords.prev,this.coords.cur),this.downEvent=c,this.pointerWasMoved=!1)),this._updateLatestPointer(o,c,f),this._scopeFire("interactions:update-pointer",{pointer:o,event:c,eventTarget:f,down:p,pointerInfo:N,pointerIndex:W,interaction:this}),W}},{key:"removePointer",value:function(o,c){var f=this.getPointerIndex(o);if(f!==-1){var p=this.pointers[f];this._scopeFire("interactions:remove-pointer",{pointer:o,event:c,eventTarget:null,pointerIndex:f,pointerInfo:p,interaction:this}),this.pointers.splice(f,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(o,c,f){this._latestPointer.pointer=o,this._latestPointer.event=c,this._latestPointer.eventTarget=f}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(o,c,f,p){return new Er(this,o,this.prepared.name,c,this.element,f,p)}},{key:"_fireEvent",value:function(o){var c;(c=this.interactable)==null||c.fire(o),(!this.prevEvent||o.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=o)}},{key:"_doPhase",value:function(o){var c=o.event,f=o.phase,p=o.preEnd,g=o.type,S=this.rect;if(S&&f==="move"&&(Ut(this.edges,S,this.coords.delta[this.interactable.options.deltaSource]),S.width=S.right-S.left,S.height=S.bottom-S.top),this._scopeFire("interactions:before-action-".concat(f),o)===!1)return!1;var b=o.iEvent=this._createPreparedEvent(c,f,p,g);return this._scopeFire("interactions:action-".concat(f),o),f==="start"&&(this.prevEvent=b),this._fireEvent(b),this._scopeFire("interactions:after-action-".concat(f),o),!0}},{key:"_now",value:function(){return Date.now()}}]),a})();function ni(a){br(a.interaction)}function br(a){if(!(function(c){return!(!c.offset.pending.x&&!c.offset.pending.y)})(a))return!1;var o=a.offset.pending;return Ir(a.coords.cur,o),Ir(a.coords.delta,o),Ut(a.edges,a.rect,o),o.x=0,o.y=0,!0}function ri(a){var o=a.x,c=a.y;this.offset.pending.x+=o,this.offset.pending.y+=c,this.offset.total.x+=o,this.offset.total.y+=c}function Ir(a,o){var c=a.page,f=a.client,p=o.x,g=o.y;c.x+=p,c.y+=g,f.x+=p,f.y+=g}ei.offsetBy="";var xr={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(a){a.Interaction.prototype.offsetBy=ri},listeners:{"interactions:new":function(a){a.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(a){return(function(o){o.pointerIsDown&&(Ir(o.coords.cur,o.offset.total),o.offset.pending.x=0,o.offset.pending.y=0)})(a.interaction)},"interactions:before-action-start":ni,"interactions:before-action-move":ni,"interactions:before-action-end":function(a){var o=a.interaction;if(br(o))return o.move({offset:!0}),o.end(),!1},"interactions:stop":function(a){var o=a.interaction;o.offset.total.x=0,o.offset.total.y=0,o.offset.pending.x=0,o.offset.pending.y=0}}},Tr=xr,ii=(function(){function a(o){A(this,a),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=o}return R(a,[{key:"start",value:function(o){var c=this.interaction,f=tr(c);if(!f||!f.enabled)return!1;var p=c.coords.velocity.client,g=Te(p.x,p.y),S=this.modification||(this.modification=new Sr(c));if(S.copyFrom(c.modification),this.t0=c._now(),this.allowResume=f.allowResume,this.v0=g,this.currentOffset={x:0,y:0},this.startCoords=c.coords.cur.page,this.modifierArg=S.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-c.coords.cur.timeStamp<50&&g>f.minSpeed&&g>f.endSpeed)this.startInertia();else{if(S.result=S.setAll(this.modifierArg),!S.result.changed)return!1;this.startSmoothEnd()}return c.modification.result.rect=null,c.offsetBy(this.targetOffset),c._doPhase({interaction:c,event:o,phase:"inertiastart"}),c.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),c.modification.result.rect=null,this.active=!0,c.simulation=this,!0}},{key:"startInertia",value:function(){var o=this,c=this.interaction.coords.velocity.client,f=tr(this.interaction),p=f.resistance,g=-Math.log(f.endSpeed/this.v0)/p;this.targetOffset={x:(c.x-g)/p,y:(c.y-g)/p},this.te=g,this.lambda_v0=p/this.v0,this.one_ve_v0=1-f.endSpeed/this.v0;var S=this.modification,b=this.modifierArg;b.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},S.result=S.setAll(b),S.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+S.result.delta.x,y:this.targetOffset.y+S.result.delta.y}),this.onNextFrame((function(){return o.inertiaTick()}))}},{key:"startSmoothEnd",value:function(){var o=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame((function(){return o.smoothEndTick()}))}},{key:"onNextFrame",value:function(o){var c=this;this.timeout=de.request((function(){c.active&&o()}))}},{key:"inertiaTick",value:function(){var o,c,f,p,g,S,b,F=this,W=this.interaction,N=tr(W).resistance,Z=(W._now()-this.t0)/1e3;if(Z<this.te){var it,pt=1-(Math.exp(-N*Z)-this.lambda_v0)/this.one_ve_v0;this.isModified?(o=0,c=0,f=this.targetOffset.x,p=this.targetOffset.y,g=this.modifiedOffset.x,S=this.modifiedOffset.y,it={x:oi(b=pt,o,f,g),y:oi(b,c,p,S)}):it={x:this.targetOffset.x*pt,y:this.targetOffset.y*pt};var lt={x:it.x-this.currentOffset.x,y:it.y-this.currentOffset.y};this.currentOffset.x+=lt.x,this.currentOffset.y+=lt.y,W.offsetBy(lt),W.move(),this.onNextFrame((function(){return F.inertiaTick()}))}else W.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var o=this,c=this.interaction,f=c._now()-this.t0,p=tr(c).smoothEndDuration;if(f<p){var g={x:ai(f,0,this.targetOffset.x,p),y:ai(f,0,this.targetOffset.y,p)},S={x:g.x-this.currentOffset.x,y:g.y-this.currentOffset.y};this.currentOffset.x+=S.x,this.currentOffset.y+=S.y,c.offsetBy(S),c.move({skipModifiers:this.modifierCount}),this.onNextFrame((function(){return o.smoothEndTick()}))}else c.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(o){var c=o.pointer,f=o.event,p=o.eventTarget,g=this.interaction;g.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),g.updatePointer(c,f,p,!0),g._doPhase({interaction:g,event:f,phase:"resume"}),D(g.coords.prev,g.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,de.cancel(this.timeout)}}]),a})();function tr(a){var o=a.interactable,c=a.prepared;return o&&o.options&&c.name&&o.options[c.name].inertia}var Zi={id:"inertia",before:["modifiers","actions"],install:function(a){var o=a.defaults;a.usePlugin(Tr),a.usePlugin($r),a.actions.phases.inertiastart=!0,a.actions.phases.resume=!0,o.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(a){var o=a.interaction;o.inertia=new ii(o)},"interactions:before-action-end":function(a){var o=a.interaction,c=a.event;return(!o._interacting||o.simulation||!o.inertia.start(c))&&null},"interactions:down":function(a){var o=a.interaction,c=a.eventTarget,f=o.inertia;if(f.active)for(var p=c;V.element(p);){if(p===o.element){f.resume(a);break}p=tt(p)}},"interactions:stop":function(a){var o=a.interaction.inertia;o.active&&o.stop()},"interactions:before-action-resume":function(a){var o=a.interaction.modification;o.stop(a),o.start(a,a.interaction.coords.cur.page),o.applyToInteraction(a)},"interactions:before-action-inertiastart":function(a){return a.interaction.modification.setAndApply(a)},"interactions:action-resume":Ln,"interactions:action-inertiastart":Ln,"interactions:after-action-inertiastart":function(a){return a.interaction.modification.restoreInteractionCoords(a)},"interactions:after-action-resume":function(a){return a.interaction.modification.restoreInteractionCoords(a)}}};function oi(a,o,c,f){var p=1-a;return p*p*o+2*p*a*c+a*a*f}function ai(a,o,c,f){return-c*(a/=f)*(a-2)+o}var qi=Zi;function si(a,o){for(var c=0;c<o.length;c++){var f=o[c];if(a.immediatePropagationStopped)break;f(a)}}var ci=(function(){function a(o){A(this,a),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=k({},o||{})}return R(a,[{key:"fire",value:function(o){var c,f=this.global;(c=this.types[o.type])&&si(o,c),!o.propagationStopped&&f&&(c=f[o.type])&&si(o,c)}},{key:"on",value:function(o,c){var f=me(o,c);for(o in f)this.types[o]=sn(this.types[o]||[],f[o])}},{key:"off",value:function(o,c){var f=me(o,c);for(o in f){var p=this.types[o];if(p&&p.length)for(var g=0,S=f[o];g<S.length;g++){var b=S[g],F=p.indexOf(b);F!==-1&&p.splice(F,1)}}}},{key:"getRect",value:function(o){return null}}]),a})(),Gi=(function(){function a(o){A(this,a),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=o,He(this,o)}return R(a,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),a})();function An(a){return V.object(a)?{capture:!!a.capture,passive:!!a.passive}:{capture:!!a,passive:!1}}function er(a,o){return a===o||(typeof a=="boolean"?!!o.capture===a&&!o.passive:!!a.capture==!!o.capture&&!!a.passive==!!o.passive)}var Ki={id:"events",install:function(a){var o,c=[],f={},p=[],g={add:S,remove:b,addDelegate:function(N,Z,it,pt,lt){var vt=An(lt);if(!f[it]){f[it]=[];for(var Tt=0;Tt<p.length;Tt++){var Et=p[Tt];S(Et,it,F),S(Et,it,W,!0)}}var Nt=f[it],Yt=wn(Nt,(function(ne){return ne.selector===N&&ne.context===Z}));Yt||(Yt={selector:N,context:Z,listeners:[]},Nt.push(Yt)),Yt.listeners.push({func:pt,options:vt})},removeDelegate:function(N,Z,it,pt,lt){var vt,Tt=An(lt),Et=f[it],Nt=!1;if(Et)for(vt=Et.length-1;vt>=0;vt--){var Yt=Et[vt];if(Yt.selector===N&&Yt.context===Z){for(var ne=Yt.listeners,Bt=ne.length-1;Bt>=0;Bt--){var Kt=ne[Bt];if(Kt.func===pt&&er(Kt.options,Tt)){ne.splice(Bt,1),ne.length||(Et.splice(vt,1),b(Z,it,F),b(Z,it,W,!0)),Nt=!0;break}}if(Nt)break}}},delegateListener:F,delegateUseCapture:W,delegatedEvents:f,documents:p,targets:c,supportsOptions:!1,supportsPassive:!1};function S(N,Z,it,pt){if(N.addEventListener){var lt=An(pt),vt=wn(c,(function(Tt){return Tt.eventTarget===N}));vt||(vt={eventTarget:N,events:{}},c.push(vt)),vt.events[Z]||(vt.events[Z]=[]),wn(vt.events[Z],(function(Tt){return Tt.func===it&&er(Tt.options,lt)}))||(N.addEventListener(Z,it,g.supportsOptions?lt:lt.capture),vt.events[Z].push({func:it,options:lt}))}}function b(N,Z,it,pt){if(N.addEventListener&&N.removeEventListener){var lt=mn(c,(function(Ue){return Ue.eventTarget===N})),vt=c[lt];if(vt&&vt.events)if(Z!=="all"){var Tt=!1,Et=vt.events[Z];if(Et){if(it==="all"){for(var Nt=Et.length-1;Nt>=0;Nt--){var Yt=Et[Nt];b(N,Z,Yt.func,Yt.options)}return}for(var ne=An(pt),Bt=0;Bt<Et.length;Bt++){var Kt=Et[Bt];if(Kt.func===it&&er(Kt.options,ne)){N.removeEventListener(Z,it,g.supportsOptions?ne:ne.capture),Et.splice(Bt,1),Et.length===0&&(delete vt.events[Z],Tt=!0);break}}}Tt&&!Object.keys(vt.events).length&&c.splice(lt,1)}else for(Z in vt.events)vt.events.hasOwnProperty(Z)&&b(N,Z,"all")}}function F(N,Z){for(var it=An(Z),pt=new Gi(N),lt=f[N.type],vt=gn(N)[0],Tt=vt;V.element(Tt);){for(var Et=0;Et<lt.length;Et++){var Nt=lt[Et],Yt=Nt.selector,ne=Nt.context;if($(Tt,Yt)&&Pt(ne,vt)&&Pt(ne,Tt)){var Bt=Nt.listeners;pt.currentTarget=Tt;for(var Kt=0;Kt<Bt.length;Kt++){var Ue=Bt[Kt];er(Ue.options,it)&&Ue.func(pt)}}}Tt=tt(Tt)}}function W(N){return F(N,!0)}return(o=a.document)==null||o.createElement("div").addEventListener("test",null,{get capture(){return g.supportsOptions=!0},get passive(){return g.supportsPassive=!0}}),a.events=g,g}},Or={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(a){for(var o=0,c=Or.methodOrder;o<c.length;o++){var f=c[o],p=Or[f](a);if(p)return p}return null},simulationResume:function(a){var o=a.pointerType,c=a.eventType,f=a.eventTarget,p=a.scope;if(!/down|start/i.test(c))return null;for(var g=0,S=p.interactions.list;g<S.length;g++){var b=S[g],F=f;if(b.simulation&&b.simulation.allowResume&&b.pointerType===o)for(;F;){if(F===b.element)return b;F=tt(F)}}return null},mouseOrPen:function(a){var o,c=a.pointerId,f=a.pointerType,p=a.eventType,g=a.scope;if(f!=="mouse"&&f!=="pen")return null;for(var S=0,b=g.interactions.list;S<b.length;S++){var F=b[S];if(F.pointerType===f){if(F.simulation&&!ui(F,c))continue;if(F.interacting())return F;o||(o=F)}}if(o)return o;for(var W=0,N=g.interactions.list;W<N.length;W++){var Z=N[W];if(!(Z.pointerType!==f||/down/i.test(p)&&Z.simulation))return Z}return null},hasPointer:function(a){for(var o=a.pointerId,c=0,f=a.scope.interactions.list;c<f.length;c++){var p=f[c];if(ui(p,o))return p}return null},idle:function(a){for(var o=a.pointerType,c=0,f=a.scope.interactions.list;c<f.length;c++){var p=f[c];if(p.pointers.length===1){var g=p.interactable;if(g&&(!g.options.gesture||!g.options.gesture.enabled))continue}else if(p.pointers.length>=2)continue;if(!p.interacting()&&o===p.pointerType)return p}return null}};function ui(a,o){return a.pointers.some((function(c){return c.id===o}))}var Ji=Or,kr=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function fi(a,o){return function(c){var f=o.interactions.list,p=Je(c),g=gn(c),S=g[0],b=g[1],F=[];if(/^touch/.test(c.type)){o.prevTouchTime=o.now();for(var W=0,N=c.changedTouches;W<N.length;W++){var Z=N[W],it={pointer:Z,pointerId:ot(Z),pointerType:p,eventType:c.type,eventTarget:S,curEventTarget:b,scope:o},pt=Rr(it);F.push([it.pointer,it.eventTarget,it.curEventTarget,pt])}}else{var lt=!1;if(!jt.supportsPointerEvent&&/mouse/.test(c.type)){for(var vt=0;vt<f.length&&!lt;vt++)lt=f[vt].pointerType!=="mouse"&&f[vt].pointerIsDown;lt=lt||o.now()-o.prevTouchTime<500||c.timeStamp===0}if(!lt){var Tt={pointer:c,pointerId:ot(c),pointerType:p,eventType:c.type,curEventTarget:b,eventTarget:S,scope:o},Et=Rr(Tt);F.push([Tt.pointer,Tt.eventTarget,Tt.curEventTarget,Et])}}for(var Nt=0;Nt<F.length;Nt++){var Yt=F[Nt],ne=Yt[0],Bt=Yt[1],Kt=Yt[2];Yt[3][a](ne,c,Bt,Kt)}}}function Rr(a){var o=a.pointerType,c=a.scope,f={interaction:Ji.search(a),searchDetails:a};return c.fire("interactions:find",f),f.interaction||c.interactions.new({pointerType:o})}function nr(a,o){var c=a.doc,f=a.scope,p=a.options,g=f.interactions.docEvents,S=f.events,b=S[o];for(var F in f.browser.isIOS&&!p.events&&(p.events={passive:!1}),S.delegatedEvents)b(c,F,S.delegateListener),b(c,F,S.delegateUseCapture,!0);for(var W=p&&p.events,N=0;N<g.length;N++){var Z=g[N];b(c,Z.type,Z.listener,W)}}var li={id:"core/interactions",install:function(a){for(var o={},c=0;c<kr.length;c++){var f=kr[c];o[f]=fi(f,a)}var p,g=jt.pEventTypes;function S(){for(var b=0,F=a.interactions.list;b<F.length;b++){var W=F[b];if(W.pointerIsDown&&W.pointerType==="touch"&&!W._interacting)for(var N=function(){var pt=it[Z];a.documents.some((function(lt){return Pt(lt.doc,pt.downTarget)}))||W.removePointer(pt.pointer,pt.event)},Z=0,it=W.pointers;Z<it.length;Z++)N()}}(p=kt.PointerEvent?[{type:g.down,listener:S},{type:g.down,listener:o.pointerDown},{type:g.move,listener:o.pointerMove},{type:g.up,listener:o.pointerUp},{type:g.cancel,listener:o.pointerUp}]:[{type:"mousedown",listener:o.pointerDown},{type:"mousemove",listener:o.pointerMove},{type:"mouseup",listener:o.pointerUp},{type:"touchstart",listener:S},{type:"touchstart",listener:o.pointerDown},{type:"touchmove",listener:o.pointerMove},{type:"touchend",listener:o.pointerUp},{type:"touchcancel",listener:o.pointerUp}]).push({type:"blur",listener:function(b){for(var F=0,W=a.interactions.list;F<W.length;F++)W[F].documentBlur(b)}}),a.prevTouchTime=0,a.Interaction=(function(b){T(W,b);var F=d(W);function W(){return A(this,W),F.apply(this,arguments)}return R(W,[{key:"pointerMoveTolerance",get:function(){return a.interactions.pointerMoveTolerance},set:function(N){a.interactions.pointerMoveTolerance=N}},{key:"_now",value:function(){return a.now()}}]),W})(Yi),a.interactions={list:[],new:function(b){b.scopeFire=function(W,N){return a.fire(W,N)};var F=new a.Interaction(b);return a.interactions.list.push(F),F},listeners:o,docEvents:p,pointerMoveTolerance:1},a.usePlugin(Qr)},listeners:{"scope:add-document":function(a){return nr(a,"add")},"scope:remove-document":function(a){return nr(a,"remove")},"interactable:unset":function(a,o){for(var c=a.interactable,f=o.interactions.list.length-1;f>=0;f--){var p=o.interactions.list[f];p.interactable===c&&(p.stop(),o.fire("interactions:destroy",{interaction:p}),p.destroy(),o.interactions.list.length>2&&o.interactions.list.splice(f,1))}}},onDocSignal:nr,doOnInteractions:fi,methodNames:kr},Fr=li,fn=(function(a){return a[a.On=0]="On",a[a.Off=1]="Off",a})(fn||{}),Qi=(function(){function a(o,c,f,p){A(this,a),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new ci,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=c.actions,this.target=o,this._context=c.context||f,this._win=et(se(o)?this._context:o),this._doc=this._win.document,this._scopeEvents=p,this.set(c)}return R(a,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(o,c){return V.func(c.onstart)&&this.on("".concat(o,"start"),c.onstart),V.func(c.onmove)&&this.on("".concat(o,"move"),c.onmove),V.func(c.onend)&&this.on("".concat(o,"end"),c.onend),V.func(c.oninertiastart)&&this.on("".concat(o,"inertiastart"),c.oninertiastart),this}},{key:"updatePerActionListeners",value:function(o,c,f){var p,g=this,S=(p=this._actions.map[o])==null?void 0:p.filterEventType,b=function(F){return(S==null||S(F))&&Qn(F,g._actions)};(V.array(c)||V.object(c))&&this._onOff(fn.Off,o,c,void 0,b),(V.array(f)||V.object(f))&&this._onOff(fn.On,o,f,void 0,b)}},{key:"setPerAction",value:function(o,c){var f=this._defaults;for(var p in c){var g=p,S=this.options[o],b=c[g];g==="listeners"&&this.updatePerActionListeners(o,S.listeners,b),V.array(b)?S[g]=Gn(b):V.plainObject(b)?(S[g]=k(S[g]||{},On(b)),V.object(f.perAction[g])&&"enabled"in f.perAction[g]&&(S[g].enabled=b.enabled!==!1)):V.bool(b)&&V.object(f.perAction[g])?S[g].enabled=b:S[g]=b}}},{key:"getRect",value:function(o){return o=o||(V.element(this.target)?this.target:null),V.string(this.target)&&(o=o||this._context.querySelector(this.target)),ee(o)}},{key:"rectChecker",value:function(o){var c=this;return V.func(o)?(this.getRect=function(f){var p=k({},o.apply(c,f));return"width"in p||(p.width=p.right-p.left,p.height=p.bottom-p.top),p},this):o===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(o,c){if(se(c)||V.object(c)){for(var f in this.options[o]=c,this._actions.map)this.options[f][o]=c;return this}return this.options[o]}},{key:"origin",value:function(o){return this._backCompatOption("origin",o)}},{key:"deltaSource",value:function(o){return o==="page"||o==="client"?(this.options.deltaSource=o,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var o=this.target;return V.string(o)?Array.from(this._context.querySelectorAll(o)):V.func(o)&&o.getAllElements?o.getAllElements():V.element(o)?[o]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(o){return this._context===o.ownerDocument||Pt(this._context,o)}},{key:"testIgnoreAllow",value:function(o,c,f){return!this.testIgnore(o.ignoreFrom,c,f)&&this.testAllow(o.allowFrom,c,f)}},{key:"testAllow",value:function(o,c,f){return!o||!!V.element(f)&&(V.string(o)?Gt(f,o,c):!!V.element(o)&&Pt(o,f))}},{key:"testIgnore",value:function(o,c,f){return!(!o||!V.element(f))&&(V.string(o)?Gt(f,o,c):!!V.element(o)&&Pt(o,f))}},{key:"fire",value:function(o){return this.events.fire(o),this}},{key:"_onOff",value:function(o,c,f,p,g){V.object(c)&&!V.array(c)&&(p=f,f=null);var S=me(c,f,g);for(var b in S){b==="wheel"&&(b=jt.wheelEvent);for(var F=0,W=S[b];F<W.length;F++){var N=W[F];Qn(b,this._actions)?this.events[o===fn.On?"on":"off"](b,N):V.string(this.target)?this._scopeEvents[o===fn.On?"addDelegate":"removeDelegate"](this.target,this._context,b,N,p):this._scopeEvents[o===fn.On?"add":"remove"](this.target,b,N,p)}}return this}},{key:"on",value:function(o,c,f){return this._onOff(fn.On,o,c,f)}},{key:"off",value:function(o,c,f){return this._onOff(fn.Off,o,c,f)}},{key:"set",value:function(o){var c=this._defaults;for(var f in V.object(o)||(o={}),this.options=On(c.base),this._actions.methodDict){var p=f,g=this._actions.methodDict[p];this.options[p]={},this.setPerAction(p,k(k({},c.perAction),c.actions[p])),this[g](o[p])}for(var S in o)S!=="getRect"?V.func(this[S])&&this[S](o[S]):this.rectChecker(o.getRect);return this}},{key:"unset",value:function(){if(V.string(this.target))for(var o in this._scopeEvents.delegatedEvents)for(var c=this._scopeEvents.delegatedEvents[o],f=c.length-1;f>=0;f--){var p=c[f],g=p.selector,S=p.context,b=p.listeners;g===this.target&&S===this._context&&c.splice(f,1);for(var F=b.length-1;F>=0;F--)this._scopeEvents.removeDelegate(this.target,this._context,o,b[F][0],b[F][1])}else this._scopeEvents.remove(this.target,"all")}}]),a})(),hi=(function(){function a(o){var c=this;A(this,a),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=o,o.addListeners({"interactable:unset":function(f){var p=f.interactable,g=p.target,S=V.string(g)?c.selectorMap[g]:g[c.scope.id],b=mn(S,(function(F){return F===p}));S.splice(b,1)}})}return R(a,[{key:"new",value:function(o,c){c=k(c||{},{actions:this.scope.actions});var f=new this.scope.Interactable(o,c,this.scope.document,this.scope.events);return this.scope.addDocument(f._doc),this.list.push(f),V.string(o)?(this.selectorMap[o]||(this.selectorMap[o]=[]),this.selectorMap[o].push(f)):(f.target[this.scope.id]||Object.defineProperty(o,this.scope.id,{value:[],configurable:!0}),o[this.scope.id].push(f)),this.scope.fire("interactable:new",{target:o,options:c,interactable:f,win:this.scope._win}),f}},{key:"getExisting",value:function(o,c){var f=c&&c.context||this.scope.document,p=V.string(o),g=p?this.selectorMap[o]:o[this.scope.id];if(g)return wn(g,(function(S){return S._context===f&&(p||S.inContext(o))}))}},{key:"forEachMatch",value:function(o,c){for(var f=0,p=this.list;f<p.length;f++){var g=p[f],S=void 0;if((V.string(g.target)?V.element(o)&&$(o,g.target):o===g.target)&&g.inContext(o)&&(S=c(g)),S!==void 0)return S}}}]),a})(),$i=(function(){function a(){var o=this;A(this,a),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=jt,this.defaults=On(ti),this.Eventable=ci,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=(function(f){var p=function g(S,b){var F=f.interactables.getExisting(S,b);return F||((F=f.interactables.new(S,b)).events.global=g.globalEvents),F};return p.getPointerAverage=re,p.getTouchBBox=ue,p.getTouchDistance=we,p.getTouchAngle=ie,p.getElementRect=ee,p.getElementClientRect=Vt,p.matchesSelector=$,p.closest=Se,p.globalEvents={},p.version="1.10.27",p.scope=f,p.use=function(g,S){return this.scope.usePlugin(g,S),this},p.isSet=function(g,S){return!!this.scope.interactables.get(g,S&&S.context)},p.on=Me((function(g,S,b){if(V.string(g)&&g.search(" ")!==-1&&(g=g.trim().split(/ +/)),V.array(g)){for(var F=0,W=g;F<W.length;F++){var N=W[F];this.on(N,S,b)}return this}if(V.object(g)){for(var Z in g)this.on(Z,g[Z],S);return this}return Qn(g,this.scope.actions)?this.globalEvents[g]?this.globalEvents[g].push(S):this.globalEvents[g]=[S]:this.scope.events.add(this.scope.document,g,S,{options:b}),this}),"The interact.on() method is being deprecated"),p.off=Me((function(g,S,b){if(V.string(g)&&g.search(" ")!==-1&&(g=g.trim().split(/ +/)),V.array(g)){for(var F=0,W=g;F<W.length;F++){var N=W[F];this.off(N,S,b)}return this}if(V.object(g)){for(var Z in g)this.off(Z,g[Z],S);return this}var it;return Qn(g,this.scope.actions)?g in this.globalEvents&&(it=this.globalEvents[g].indexOf(S))!==-1&&this.globalEvents[g].splice(it,1):this.scope.events.remove(this.scope.document,g,S,b),this}),"The interact.off() method is being deprecated"),p.debug=function(){return this.scope},p.supportsTouch=function(){return jt.supportsTouch},p.supportsPointerEvent=function(){return jt.supportsPointerEvent},p.stop=function(){for(var g=0,S=this.scope.interactions.list;g<S.length;g++)S[g].stop();return this},p.pointerMoveTolerance=function(g){return V.number(g)?(this.scope.interactions.pointerMoveTolerance=g,this):this.scope.interactions.pointerMoveTolerance},p.addDocument=function(g,S){this.scope.addDocument(g,S)},p.removeDocument=function(g){this.scope.removeDocument(g)},p})(this),this.InteractEvent=Er,this.Interactable=void 0,this.interactables=new hi(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(f){return o.removeDocument(f.target)};var c=this;this.Interactable=(function(f){T(g,f);var p=d(g);function g(){return A(this,g),p.apply(this,arguments)}return R(g,[{key:"_defaults",get:function(){return c.defaults}},{key:"set",value:function(S){return Y(w(g.prototype),"set",this).call(this,S),c.fire("interactable:set",{options:S,interactable:this}),this}},{key:"unset",value:function(){Y(w(g.prototype),"unset",this).call(this);var S=c.interactables.list.indexOf(this);S<0||(c.interactables.list.splice(S,1),c.fire("interactable:unset",{interactable:this}))}}]),g})(Qi)}return R(a,[{key:"addListeners",value:function(o,c){this.listenerMaps.push({id:c,map:o})}},{key:"fire",value:function(o,c){for(var f=0,p=this.listenerMaps;f<p.length;f++){var g=p[f].map[o];if(g&&g(c,this,o)===!1)return!1}}},{key:"init",value:function(o){return this.isInitialized?this:(function(c,f){return c.isInitialized=!0,V.window(f)&&mt(f),kt.init(f),jt.init(f),de.init(f),c.window=f,c.document=f.document,c.usePlugin(Fr),c.usePlugin(Ki),c})(this,o)}},{key:"pluginIsInstalled",value:function(o){var c=o.id;return c?!!this._plugins.map[c]:this._plugins.list.indexOf(o)!==-1}},{key:"usePlugin",value:function(o,c){if(!this.isInitialized)return this;if(this.pluginIsInstalled(o))return this;if(o.id&&(this._plugins.map[o.id]=o),this._plugins.list.push(o),o.install&&o.install(this,c),o.listeners&&o.before){for(var f=0,p=this.listenerMaps.length,g=o.before.reduce((function(b,F){return b[F]=!0,b[Dr(F)]=!0,b}),{});f<p;f++){var S=this.listenerMaps[f].id;if(S&&(g[S]||g[Dr(S)]))break}this.listenerMaps.splice(f,0,{id:o.id,map:o.listeners})}else o.listeners&&this.listenerMaps.push({id:o.id,map:o.listeners});return this}},{key:"addDocument",value:function(o,c){if(this.getDocIndex(o)!==-1)return!1;var f=et(o);c=c?k({},c):{},this.documents.push({doc:o,options:c}),this.events.documents.push(o),o!==this.document&&this.events.add(f,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:o,window:f,scope:this,options:c})}},{key:"removeDocument",value:function(o){var c=this.getDocIndex(o),f=et(o),p=this.documents[c].options;this.events.remove(f,"unload",this.onWindowUnload),this.documents.splice(c,1),this.events.documents.splice(c,1),this.fire("scope:remove-document",{doc:o,window:f,scope:this,options:p})}},{key:"getDocIndex",value:function(o){for(var c=0;c<this.documents.length;c++)if(this.documents[c].doc===o)return c;return-1}},{key:"getDocOptions",value:function(o){var c=this.getDocIndex(o);return c===-1?null:this.documents[c].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),a})();function Dr(a){return a&&a.replace(/\/.*$/,"")}var pi=new $i,ze=pi.interactStatic,to=typeof globalThis<"u"?globalThis:window;pi.init(to);var eo=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(a){var o=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter((function(f){var p=f[0],g=f[1];return p in a||g in a})),c=function(f,p){for(var g=a.range,S=a.limits,b=S===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:S,F=a.offset,W=F===void 0?{x:0,y:0}:F,N={range:g,grid:a,x:null,y:null},Z=0;Z<o.length;Z++){var it=o[Z],pt=it[0],lt=it[1],vt=Math.round((f-W.x)/a[pt]),Tt=Math.round((p-W.y)/a[lt]);N[pt]=Math.max(b.left,Math.min(b.right,vt*a[pt]+W.x)),N[lt]=Math.max(b.top,Math.min(b.bottom,Tt*a[lt]+W.y))}return N};return c.grid=a,c.coordFields=o,c}}),no={id:"snappers",install:function(a){var o=a.interactStatic;o.snappers=k(o.snappers||{},eo),o.createSnapGrid=o.snappers.grid}},di=no,yi={start:function(a){var o=a.state,c=a.rect,f=a.edges,p=a.pageCoords,g=o.options,S=g.ratio,b=g.enabled,F=o.options,W=F.equalDelta,N=F.modifiers;S==="preserve"&&(S=c.width/c.height),o.startCoords=k({},p),o.startRect=k({},c),o.ratio=S,o.equalDelta=W;var Z=o.linkedEdges={top:f.top||f.left&&!f.bottom,left:f.left||f.top&&!f.right,bottom:f.bottom||f.right&&!f.top,right:f.right||f.bottom&&!f.left};if(o.xIsPrimaryAxis=!(!f.left&&!f.right),o.equalDelta){var it=(Z.left?1:-1)*(Z.top?1:-1);o.edgeSign={x:it,y:it}}else o.edgeSign={x:Z.left?-1:1,y:Z.top?-1:1};if(b!==!1&&k(f,Z),N!=null&&N.length){var pt=new Sr(a.interaction);pt.copyFrom(a.interaction.modification),pt.prepareStates(N),o.subModification=pt,pt.startAll(M({},a))}},set:function(a){var o=a.state,c=a.rect,f=a.coords,p=o.linkedEdges,g=k({},f),S=o.equalDelta?vi:gi;if(k(a.edges,p),S(o,o.xIsPrimaryAxis,f,c),!o.subModification)return null;var b=k({},c);Ut(p,b,{x:f.x-g.x,y:f.y-g.y});var F=o.subModification.setAll(M(M({},a),{},{rect:b,edges:p,pageCoords:f,prevCoords:f,prevRect:b})),W=F.delta;return F.changed&&(S(o,Math.abs(W.x)>Math.abs(W.y),F.coords,F.rect),k(f,F.coords)),F.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function vi(a,o,c){var f=a.startCoords,p=a.edgeSign;o?c.y=f.y+(c.x-f.x)*p.y:c.x=f.x+(c.y-f.y)*p.x}function gi(a,o,c,f){var p=a.startRect,g=a.startCoords,S=a.ratio,b=a.edgeSign;if(o){var F=f.width/S;c.y=g.y+(F-p.height)*b.y}else{var W=f.height*S;c.x=g.x+(W-p.width)*b.x}}var rr=un(yi,"aspectRatio"),mi=function(){};mi._defaults={};var ir=mi;function _n(a,o,c){return V.func(a)?ft(a,o.interactable,o.element,[c.x,c.y,o]):ft(a,o.interactable,o.element)}var Cn={start:function(a){var o=a.rect,c=a.startOffset,f=a.state,p=a.interaction,g=a.pageCoords,S=f.options,b=S.elementRect,F=k({left:0,top:0,right:0,bottom:0},S.offset||{});if(o&&b){var W=_n(S.restriction,p,g);if(W){var N=W.right-W.left-o.width,Z=W.bottom-W.top-o.height;N<0&&(F.left+=N,F.right+=N),Z<0&&(F.top+=Z,F.bottom+=Z)}F.left+=c.left-o.width*b.left,F.top+=c.top-o.height*b.top,F.right+=c.right-o.width*(1-b.right),F.bottom+=c.bottom-o.height*(1-b.bottom)}f.offset=F},set:function(a){var o=a.coords,c=a.interaction,f=a.state,p=f.options,g=f.offset,S=_n(p.restriction,c,o);if(S){var b=(function(F){return!F||"left"in F&&"top"in F||((F=k({},F)).left=F.x||0,F.top=F.y||0,F.right=F.right||F.left+F.width,F.bottom=F.bottom||F.top+F.height),F})(S);o.x=Math.max(Math.min(b.right-g.right,o.x),b.left+g.left),o.y=Math.max(Math.min(b.bottom-g.bottom,o.y),b.top+g.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},ro=un(Cn,"restrict"),Nr={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Pn={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function je(a,o){for(var c=0,f=["top","left","bottom","right"];c<f.length;c++){var p=f[c];p in a||(a[p]=o[p])}return a}var Mn={noInner:Nr,noOuter:Pn,start:function(a){var o,c=a.interaction,f=a.startOffset,p=a.state,g=p.options;g&&(o=St(_n(g.offset,c,c.coords.start.page))),o=o||{x:0,y:0},p.offset={top:o.y+f.top,left:o.x+f.left,bottom:o.y-f.bottom,right:o.x-f.right}},set:function(a){var o=a.coords,c=a.edges,f=a.interaction,p=a.state,g=p.offset,S=p.options;if(c){var b=k({},o),F=_n(S.inner,f,b)||{},W=_n(S.outer,f,b)||{};je(F,Nr),je(W,Pn),c.top?o.y=Math.min(Math.max(W.top+g.top,b.y),F.top+g.top):c.bottom&&(o.y=Math.max(Math.min(W.bottom+g.bottom,b.y),F.bottom+g.bottom)),c.left?o.x=Math.min(Math.max(W.left+g.left,b.x),F.left+g.left):c.right&&(o.x=Math.max(Math.min(W.right+g.right,b.x),F.right+g.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},io=un(Mn,"restrictEdges"),oo=k({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(a){}},Cn.defaults),ao=un({start:Cn.start,set:Cn.set,defaults:oo},"restrictRect"),De={width:-1/0,height:-1/0},so={width:1/0,height:1/0},or=un({start:function(a){return Mn.start(a)},set:function(a){var o=a.interaction,c=a.state,f=a.rect,p=a.edges,g=c.options;if(p){var S=Lt(_n(g.min,o,a.coords))||De,b=Lt(_n(g.max,o,a.coords))||so;c.options={endOnly:g.endOnly,inner:k({},Mn.noInner),outer:k({},Mn.noOuter)},p.top?(c.options.inner.top=f.bottom-S.height,c.options.outer.top=f.bottom-b.height):p.bottom&&(c.options.inner.bottom=f.top+S.height,c.options.outer.bottom=f.top+b.height),p.left?(c.options.inner.left=f.right-S.width,c.options.outer.left=f.right-b.width):p.right&&(c.options.inner.right=f.left+S.width,c.options.outer.right=f.left+b.width),Mn.set(a),c.options=g}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),ve={start:function(a){var o,c=a.interaction,f=a.interactable,p=a.element,g=a.rect,S=a.state,b=a.startOffset,F=S.options,W=F.offsetWithOrigin?(function(it){var pt=it.interaction.element,lt=St(ft(it.state.options.origin,null,null,[pt])),vt=lt||yt(it.interactable,pt,it.interaction.prepared.name);return vt})(a):{x:0,y:0};if(F.offset==="startCoords")o={x:c.coords.start.page.x,y:c.coords.start.page.y};else{var N=ft(F.offset,f,p,[c]);(o=St(N)||{x:0,y:0}).x+=W.x,o.y+=W.y}var Z=F.relativePoints;S.offsets=g&&Z&&Z.length?Z.map((function(it,pt){return{index:pt,relativePoint:it,x:b.left-g.width*it.x+o.x,y:b.top-g.height*it.y+o.y}})):[{index:0,relativePoint:null,x:o.x,y:o.y}]},set:function(a){var o=a.interaction,c=a.coords,f=a.state,p=f.options,g=f.offsets,S=yt(o.interactable,o.element,o.prepared.name),b=k({},c),F=[];p.offsetWithOrigin||(b.x-=S.x,b.y-=S.y);for(var W=0,N=g;W<N.length;W++)for(var Z=N[W],it=b.x-Z.x,pt=b.y-Z.y,lt=0,vt=p.targets.length;lt<vt;lt++){var Tt=p.targets[lt],Et=void 0;(Et=V.func(Tt)?Tt(it,pt,o._proxy,Z,lt):Tt)&&F.push({x:(V.number(Et.x)?Et.x:it)+Z.x,y:(V.number(Et.y)?Et.y:pt)+Z.y,range:V.number(Et.range)?Et.range:p.range,source:Tt,index:lt,offset:Z})}for(var Nt={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},Yt=0;Yt<F.length;Yt++){var ne=F[Yt],Bt=ne.range,Kt=ne.x-b.x,Ue=ne.y-b.y,he=Te(Kt,Ue),Ze=he<=Bt;Bt===1/0&&Nt.inRange&&Nt.range!==1/0&&(Ze=!1),Nt.target&&!(Ze?Nt.inRange&&Bt!==1/0?he/Bt<Nt.distance/Nt.range:Bt===1/0&&Nt.range!==1/0||he<Nt.distance:!Nt.inRange&&he<Nt.distance)||(Nt.target=ne,Nt.distance=he,Nt.range=Bt,Nt.inRange=Ze,Nt.delta.x=Kt,Nt.delta.y=Ue)}return Nt.inRange&&(c.x=Nt.target.x,c.y=Nt.target.y),f.closest=Nt,Nt},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},co=un(ve,"snap"),Sn={start:function(a){var o=a.state,c=a.edges,f=o.options;if(!c)return null;a.state={options:{targets:null,relativePoints:[{x:c.left?0:1,y:c.top?0:1}],offset:f.offset||"self",origin:{x:0,y:0},range:f.range}},o.targetFields=o.targetFields||[["width","height"],["x","y"]],ve.start(a),o.offsets=a.state.offsets,a.state=o},set:function(a){var o=a.interaction,c=a.state,f=a.coords,p=c.options,g=c.offsets,S={x:f.x-g[0].x,y:f.y-g[0].y};c.options=k({},p),c.options.targets=[];for(var b=0,F=p.targets||[];b<F.length;b++){var W=F[b],N=void 0;if(N=V.func(W)?W(S.x,S.y,o):W){for(var Z=0,it=c.targetFields;Z<it.length;Z++){var pt=it[Z],lt=pt[0],vt=pt[1];if(lt in N||vt in N){N.x=N[lt],N.y=N[vt];break}}c.options.targets.push(N)}}var Tt=ve.set(a);return c.options=p,Tt},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},kn=un(Sn,"snapSize"),ar={aspectRatio:rr,restrictEdges:io,restrict:ro,restrictRect:ao,restrictSize:or,snapEdges:un({start:function(a){var o=a.edges;return o?(a.state.targetFields=a.state.targetFields||[[o.left?"left":"right",o.top?"top":"bottom"]],Sn.start(a)):null},set:Sn.set,defaults:k(On(Sn.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:co,snapSize:kn,spring:ir,avoid:ir,transform:ir,rubberband:ir},uo={id:"modifiers",install:function(a){var o=a.interactStatic;for(var c in a.usePlugin($r),a.usePlugin(di),o.modifiers=ar,ar){var f=ar[c],p=f._defaults,g=f._methods;p._methods=g,a.defaults.perAction[c]=p}}},wi=uo,zn=(function(a){T(c,a);var o=d(c);function c(f,p,g,S,b,F){var W;if(A(this,c),He(O(W=o.call(this,b)),g),g!==p&&He(O(W),p),W.timeStamp=F,W.originalEvent=g,W.type=f,W.pointerId=ot(p),W.pointerType=Je(p),W.target=S,W.currentTarget=null,f==="tap"){var N=b.getPointerIndex(p);W.dt=W.timeStamp-b.pointers[N].downTime;var Z=W.timeStamp-b.tapTime;W.double=!!b.prevTap&&b.prevTap.type!=="doubletap"&&b.prevTap.target===W.target&&Z<500}else f==="doubletap"&&(W.dt=p.timeStamp-b.tapTime,W.double=!0);return W}return R(c,[{key:"_subtractOrigin",value:function(f){var p=f.x,g=f.y;return this.pageX-=p,this.pageY-=g,this.clientX-=p,this.clientY-=g,this}},{key:"_addOrigin",value:function(f){var p=f.x,g=f.y;return this.pageX+=p,this.pageY+=g,this.clientX+=p,this.clientY+=g,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),c})(nn),ge={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(a){a.pointerEvents=ge,a.defaults.actions.pointerEvents=ge.defaults,k(a.actions.phaselessTypes,ge.types)},listeners:{"interactions:new":function(a){var o=a.interaction;o.prevTap=null,o.tapTime=0},"interactions:update-pointer":function(a){var o=a.down,c=a.pointerInfo;!o&&c.hold||(c.hold={duration:1/0,timeout:null})},"interactions:move":function(a,o){var c=a.interaction,f=a.pointer,p=a.event,g=a.eventTarget;a.duplicate||c.pointerIsDown&&!c.pointerWasMoved||(c.pointerIsDown&&Lr(a),ln({interaction:c,pointer:f,event:p,eventTarget:g,type:"move"},o))},"interactions:down":function(a,o){(function(c,f){for(var p=c.interaction,g=c.pointer,S=c.event,b=c.eventTarget,F=c.pointerIndex,W=p.pointers[F].hold,N=pe(b),Z={interaction:p,pointer:g,event:S,eventTarget:b,type:"hold",targets:[],path:N,node:null},it=0;it<N.length;it++){var pt=N[it];Z.node=pt,f.fire("pointerEvents:collect-targets",Z)}if(Z.targets.length){for(var lt=1/0,vt=0,Tt=Z.targets;vt<Tt.length;vt++){var Et=Tt[vt].eventable.options.holdDuration;Et<lt&&(lt=Et)}W.duration=lt,W.timeout=setTimeout((function(){ln({interaction:p,eventTarget:b,pointer:g,event:S,type:"hold"},f)}),lt)}})(a,o),ln(a,o)},"interactions:up":function(a,o){Lr(a),ln(a,o),(function(c,f){var p=c.interaction,g=c.pointer,S=c.event,b=c.eventTarget;p.pointerWasMoved||ln({interaction:p,eventTarget:b,pointer:g,event:S,type:"tap"},f)})(a,o)},"interactions:cancel":function(a,o){Lr(a),ln(a,o)}},PointerEvent:zn,fire:ln,collectEventTargets:sr,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function ln(a,o){var c=a.interaction,f=a.pointer,p=a.event,g=a.eventTarget,S=a.type,b=a.targets,F=b===void 0?sr(a,o):b,W=new zn(S,f,p,g,c,o.now());o.fire("pointerEvents:new",{pointerEvent:W});for(var N={interaction:c,pointer:f,event:p,eventTarget:g,targets:F,type:S,pointerEvent:W},Z=0;Z<F.length;Z++){var it=F[Z];for(var pt in it.props||{})W[pt]=it.props[pt];var lt=yt(it.eventable,it.node);if(W._subtractOrigin(lt),W.eventable=it.eventable,W.currentTarget=it.node,it.eventable.fire(W),W._addOrigin(lt),W.immediatePropagationStopped||W.propagationStopped&&Z+1<F.length&&F[Z+1].node!==W.currentTarget)break}if(o.fire("pointerEvents:fired",N),S==="tap"){var vt=W.double?ln({interaction:c,pointer:f,event:p,eventTarget:g,type:"doubletap"},o):W;c.prevTap=vt,c.tapTime=vt.timeStamp}return W}function sr(a,o){var c=a.interaction,f=a.pointer,p=a.event,g=a.eventTarget,S=a.type,b=c.getPointerIndex(f),F=c.pointers[b];if(S==="tap"&&(c.pointerWasMoved||!F||F.downTarget!==g))return[];for(var W=pe(g),N={interaction:c,pointer:f,event:p,eventTarget:g,type:S,path:W,targets:[],node:null},Z=0;Z<W.length;Z++){var it=W[Z];N.node=it,o.fire("pointerEvents:collect-targets",N)}return S==="hold"&&(N.targets=N.targets.filter((function(pt){var lt,vt;return pt.eventable.options.holdDuration===((lt=c.pointers[b])==null||(vt=lt.hold)==null?void 0:vt.duration)}))),N.targets}function Lr(a){var o=a.interaction,c=a.pointerIndex,f=o.pointers[c].hold;f&&f.timeout&&(clearTimeout(f.timeout),f.timeout=null)}var fo=Object.freeze({__proto__:null,default:ge});function rn(a){var o=a.interaction;o.holdIntervalHandle&&(clearInterval(o.holdIntervalHandle),o.holdIntervalHandle=null)}var lo={id:"pointer-events/holdRepeat",install:function(a){a.usePlugin(ge);var o=a.pointerEvents;o.defaults.holdRepeatInterval=0,o.types.holdrepeat=a.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce((function(a,o){return a["pointerEvents:".concat(o)]=rn,a}),{"pointerEvents:new":function(a){var o=a.pointerEvent;o.type==="hold"&&(o.count=(o.count||0)+1)},"pointerEvents:fired":function(a,o){var c=a.interaction,f=a.pointerEvent,p=a.eventTarget,g=a.targets;if(f.type==="hold"&&g.length){var S=g[0].eventable.options.holdRepeatInterval;S<=0||(c.holdIntervalHandle=setTimeout((function(){o.pointerEvents.fire({interaction:c,eventTarget:p,type:"hold",pointer:f,event:f},o)}),S))}}})},cr=lo,Ye={id:"pointer-events/interactableTargets",install:function(a){var o=a.Interactable;o.prototype.pointerEvents=function(f){return k(this.events.options,f),this};var c=o.prototype._backCompatOption;o.prototype._backCompatOption=function(f,p){var g=c.call(this,f,p);return g===this&&(this.events.options[f]=p),g}},listeners:{"pointerEvents:collect-targets":function(a,o){var c=a.targets,f=a.node,p=a.type,g=a.eventTarget;o.interactables.forEachMatch(f,(function(S){var b=S.events,F=b.options;b.types[p]&&b.types[p].length&&S.testIgnoreAllow(F,f,g)&&c.push({node:f,eventable:b,props:{interactable:S}})}))},"interactable:new":function(a){var o=a.interactable;o.events.getRect=function(c){return o.getRect(c)}},"interactable:set":function(a,o){var c=a.interactable,f=a.options;k(c.events.options,o.pointerEvents.defaults),k(c.events.options,f.pointerEvents||{})}}},hn=Ye,Ar={id:"pointer-events",install:function(a){a.usePlugin(fo),a.usePlugin(cr),a.usePlugin(hn)}},_i=Ar,ur={id:"reflow",install:function(a){var o=a.Interactable;a.actions.phases.reflow=!0,o.prototype.reflow=function(c){return(function(f,p,g){for(var S=f.getAllElements(),b=g.window.Promise,F=b?[]:null,W=function(){var Z=S[N],it=f.getRect(Z);if(!it)return 1;var pt,lt=wn(g.interactions.list,(function(Et){return Et.interacting()&&Et.interactable===f&&Et.element===Z&&Et.prepared.name===p.name}));if(lt)lt.move(),F&&(pt=lt._reflowPromise||new b((function(Et){lt._reflowResolve=Et})));else{var vt=Lt(it),Tt=(function(Et){return{coords:Et,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}})({page:{x:vt.x,y:vt.y},client:{x:vt.x,y:vt.y},timeStamp:g.now()});pt=(function(Et,Nt,Yt,ne,Bt){var Kt=Et.interactions.new({pointerType:"reflow"}),Ue={interaction:Kt,event:Bt,pointer:Bt,eventTarget:Yt,phase:"reflow"};Kt.interactable=Nt,Kt.element=Yt,Kt.prevEvent=Bt,Kt.updatePointer(Bt,Bt,Yt,!0),y(Kt.coords.delta),Xe(Kt.prepared,ne),Kt._doPhase(Ue);var he=Et.window,Ze=he.Promise,qe=Ze?new Ze((function(Ke){Kt._reflowResolve=Ke})):void 0;return Kt._reflowPromise=qe,Kt.start(ne,Nt,Yt),Kt._interacting?(Kt.move(Ue),Kt.end(Bt)):(Kt.stop(),Kt._reflowResolve()),Kt.removePointer(Bt,Bt),qe})(g,f,Z,p,Tt)}F&&F.push(pt)},N=0;N<S.length&&!W();N++);return F&&b.all(F).then((function(){return f}))})(this,c,a)}},listeners:{"interactions:stop":function(a,o){var c=a.interaction;c.pointerType==="reflow"&&(c._reflowResolve&&c._reflowResolve(),(function(f,p){f.splice(f.indexOf(p),1)})(o.interactions.list,c))}}},Ge=ur;if(ze.use(Qr),ze.use(Tr),ze.use(_i),ze.use(qi),ze.use(wi),ze.use(Ui),ze.use(Fe),ze.use(ke),ze.use(Ge),ze.default=ze,L(E)==="object"&&E)try{E.exports=ze}catch{}return ze.default=ze,ze}))})(Br,Br.exports)),Br.exports}var Os=Ts();const yf=za(Os);var ja=typeof global=="object"&&global&&global.Object===Object&&global,ks=typeof self=="object"&&self&&self.Object===Object&&self,Nn=ja||ks||Function("return this")(),Dn=Nn.Symbol,Ua=Object.prototype,Rs=Ua.hasOwnProperty,Fs=Ua.toString,Ur=Dn?Dn.toStringTag:void 0;function Ds(E){var j=Rs.call(E,Ur),P=E[Ur];try{E[Ur]=void 0;var M=!0}catch{}var L=Fs.call(E);return M&&(j?E[Ur]=P:delete E[Ur]),L}var Ns=Object.prototype,Ls=Ns.toString;function As(E){return Ls.call(E)}var Cs="[object Null]",Ps="[object Undefined]",_a=Dn?Dn.toStringTag:void 0;function yr(E){return E==null?E===void 0?Ps:Cs:_a&&_a in Object(E)?Ds(E):As(E)}function Ni(E){return E!=null&&typeof E=="object"}var Ms="[object Symbol]";function Ro(E){return typeof E=="symbol"||Ni(E)&&yr(E)==Ms}function zs(E,j){for(var P=-1,M=E==null?0:E.length,L=Array(M);++P<M;)L[P]=j(E[P],P,E);return L}var vr=Array.isArray,Sa=Dn?Dn.prototype:void 0,Ea=Sa?Sa.toString:void 0;function Ba(E){if(typeof E=="string")return E;if(vr(E))return zs(E,Ba)+"";if(Ro(E))return Ea?Ea.call(E):"";var j=E+"";return j=="0"&&1/E==-1/0?"-0":j}function Ri(E){var j=typeof E;return E!=null&&(j=="object"||j=="function")}function js(E){return E}var Us="[object AsyncFunction]",Bs="[object Function]",Ws="[object GeneratorFunction]",Hs="[object Proxy]";function Wa(E){if(!Ri(E))return!1;var j=yr(E);return j==Bs||j==Ws||j==Us||j==Hs}var wo=Nn["__core-js_shared__"],ba=(function(){var E=/[^.]+$/.exec(wo&&wo.keys&&wo.keys.IE_PROTO||"");return E?"Symbol(src)_1."+E:""})();function Vs(E){return!!ba&&ba in E}var Xs=Function.prototype,Ys=Xs.toString;function Yn(E){if(E!=null){try{return Ys.call(E)}catch{}try{return E+""}catch{}}return""}var Zs=/[\\^$.*+?()[\]{}|]/g,qs=/^\[object .+?Constructor\]$/,Gs=Function.prototype,Ks=Object.prototype,Js=Gs.toString,Qs=Ks.hasOwnProperty,$s=RegExp("^"+Js.call(Qs).replace(Zs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tc(E){if(!Ri(E)||Vs(E))return!1;var j=Wa(E)?$s:qs;return j.test(Yn(E))}function ec(E,j){return E?.[j]}function Zn(E,j){var P=ec(E,j);return tc(P)?P:void 0}var bo=Zn(Nn,"WeakMap");function nc(E,j,P){switch(P.length){case 0:return E.call(j);case 1:return E.call(j,P[0]);case 2:return E.call(j,P[0],P[1]);case 3:return E.call(j,P[0],P[1],P[2])}return E.apply(j,P)}var rc=800,ic=16,oc=Date.now;function ac(E){var j=0,P=0;return function(){var M=oc(),L=ic-(M-P);if(P=M,L>0){if(++j>=rc)return arguments[0]}else j=0;return E.apply(void 0,arguments)}}function sc(E){return function(){return E}}var Fi=(function(){try{var E=Zn(Object,"defineProperty");return E({},"",{}),E}catch{}})(),cc=Fi?function(E,j){return Fi(E,"toString",{configurable:!0,enumerable:!1,value:sc(j),writable:!0})}:js,uc=ac(cc),fc=9007199254740991,lc=/^(?:0|[1-9]\d*)$/;function Ha(E,j){var P=typeof E;return j=j??fc,!!j&&(P=="number"||P!="symbol"&&lc.test(E))&&E>-1&&E%1==0&&E<j}function hc(E,j,P){j=="__proto__"&&Fi?Fi(E,j,{configurable:!0,enumerable:!0,value:P,writable:!0}):E[j]=P}function Va(E,j){return E===j||E!==E&&j!==j}var pc=Object.prototype,dc=pc.hasOwnProperty;function yc(E,j,P){var M=E[j];(!(dc.call(E,j)&&Va(M,P))||P===void 0&&!(j in E))&&hc(E,j,P)}var Ia=Math.max;function vc(E,j,P){return j=Ia(j===void 0?E.length-1:j,0),function(){for(var M=arguments,L=-1,A=Ia(M.length-j,0),q=Array(A);++L<A;)q[L]=M[j+L];L=-1;for(var R=Array(j+1);++L<j;)R[L]=M[L];return R[j]=P(q),nc(E,this,R)}}var gc=9007199254740991;function Fo(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=gc}function mc(E){return E!=null&&Fo(E.length)&&!Wa(E)}var wc=Object.prototype;function Xa(E){var j=E&&E.constructor,P=typeof j=="function"&&j.prototype||wc;return E===P}var _c="[object Arguments]";function xa(E){return Ni(E)&&yr(E)==_c}var Ya=Object.prototype,Sc=Ya.hasOwnProperty,Ec=Ya.propertyIsEnumerable,Do=xa((function(){return arguments})())?xa:function(E){return Ni(E)&&Sc.call(E,"callee")&&!Ec.call(E,"callee")};function bc(){return!1}var Za=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ta=Za&&typeof module=="object"&&module&&!module.nodeType&&module,Ic=Ta&&Ta.exports===Za,Oa=Ic?Nn.Buffer:void 0,xc=Oa?Oa.isBuffer:void 0,Tc=xc||bc,Oc="[object Arguments]",kc="[object Array]",Rc="[object Boolean]",Fc="[object Date]",Dc="[object Error]",Nc="[object Function]",Lc="[object Map]",Ac="[object Number]",Cc="[object Object]",Pc="[object RegExp]",Mc="[object Set]",zc="[object String]",jc="[object WeakMap]",Uc="[object ArrayBuffer]",Bc="[object DataView]",Wc="[object Float32Array]",Hc="[object Float64Array]",Vc="[object Int8Array]",Xc="[object Int16Array]",Yc="[object Int32Array]",Zc="[object Uint8Array]",qc="[object Uint8ClampedArray]",Gc="[object Uint16Array]",Kc="[object Uint32Array]",be={};be[Wc]=be[Hc]=be[Vc]=be[Xc]=be[Yc]=be[Zc]=be[qc]=be[Gc]=be[Kc]=!0;be[Oc]=be[kc]=be[Uc]=be[Rc]=be[Bc]=be[Fc]=be[Dc]=be[Nc]=be[Lc]=be[Ac]=be[Cc]=be[Pc]=be[Mc]=be[zc]=be[jc]=!1;function Jc(E){return Ni(E)&&Fo(E.length)&&!!be[yr(E)]}function Qc(E){return function(j){return E(j)}}var qa=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Wr=qa&&typeof module=="object"&&module&&!module.nodeType&&module,$c=Wr&&Wr.exports===qa,_o=$c&&ja.process,ka=(function(){try{var E=Wr&&Wr.require&&Wr.require("util").types;return E||_o&&_o.binding&&_o.binding("util")}catch{}})(),Ra=ka&&ka.isTypedArray,tu=Ra?Qc(Ra):Jc;function eu(E,j){return function(P){return E(j(P))}}var nu=eu(Object.keys,Object),ru=Object.prototype,iu=ru.hasOwnProperty;function ou(E){if(!Xa(E))return nu(E);var j=[];for(var P in Object(E))iu.call(E,P)&&P!="constructor"&&j.push(P);return j}var au=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,su=/^\w*$/;function cu(E,j){if(vr(E))return!1;var P=typeof E;return P=="number"||P=="symbol"||P=="boolean"||E==null||Ro(E)?!0:su.test(E)||!au.test(E)||j!=null&&E in Object(j)}var Hr=Zn(Object,"create");function uu(){this.__data__=Hr?Hr(null):{},this.size=0}function fu(E){var j=this.has(E)&&delete this.__data__[E];return this.size-=j?1:0,j}var lu="__lodash_hash_undefined__",hu=Object.prototype,pu=hu.hasOwnProperty;function du(E){var j=this.__data__;if(Hr){var P=j[E];return P===lu?void 0:P}return pu.call(j,E)?j[E]:void 0}var yu=Object.prototype,vu=yu.hasOwnProperty;function gu(E){var j=this.__data__;return Hr?j[E]!==void 0:vu.call(j,E)}var mu="__lodash_hash_undefined__";function wu(E,j){var P=this.__data__;return this.size+=this.has(E)?0:1,P[E]=Hr&&j===void 0?mu:j,this}function Xn(E){var j=-1,P=E==null?0:E.length;for(this.clear();++j<P;){var M=E[j];this.set(M[0],M[1])}}Xn.prototype.clear=uu;Xn.prototype.delete=fu;Xn.prototype.get=du;Xn.prototype.has=gu;Xn.prototype.set=wu;function _u(){this.__data__=[],this.size=0}function Li(E,j){for(var P=E.length;P--;)if(Va(E[P][0],j))return P;return-1}var Su=Array.prototype,Eu=Su.splice;function bu(E){var j=this.__data__,P=Li(j,E);if(P<0)return!1;var M=j.length-1;return P==M?j.pop():Eu.call(j,P,1),--this.size,!0}function Iu(E){var j=this.__data__,P=Li(j,E);return P<0?void 0:j[P][1]}function xu(E){return Li(this.__data__,E)>-1}function Tu(E,j){var P=this.__data__,M=Li(P,E);return M<0?(++this.size,P.push([E,j])):P[M][1]=j,this}function gr(E){var j=-1,P=E==null?0:E.length;for(this.clear();++j<P;){var M=E[j];this.set(M[0],M[1])}}gr.prototype.clear=_u;gr.prototype.delete=bu;gr.prototype.get=Iu;gr.prototype.has=xu;gr.prototype.set=Tu;var Di=Zn(Nn,"Map");function Ou(){this.size=0,this.__data__={hash:new Xn,map:new(Di||gr),string:new Xn}}function ku(E){var j=typeof E;return j=="string"||j=="number"||j=="symbol"||j=="boolean"?E!=="__proto__":E===null}function Ai(E,j){var P=E.__data__;return ku(j)?P[typeof j=="string"?"string":"hash"]:P.map}function Ru(E){var j=Ai(this,E).delete(E);return this.size-=j?1:0,j}function Fu(E){return Ai(this,E).get(E)}function Du(E){return Ai(this,E).has(E)}function Nu(E,j){var P=Ai(this,E),M=P.size;return P.set(E,j),this.size+=P.size==M?0:1,this}function qn(E){var j=-1,P=E==null?0:E.length;for(this.clear();++j<P;){var M=E[j];this.set(M[0],M[1])}}qn.prototype.clear=Ou;qn.prototype.delete=Ru;qn.prototype.get=Fu;qn.prototype.has=Du;qn.prototype.set=Nu;var Lu="Expected a function";function No(E,j){if(typeof E!="function"||j!=null&&typeof j!="function")throw new TypeError(Lu);var P=function(){var M=arguments,L=j?j.apply(this,M):M[0],A=P.cache;if(A.has(L))return A.get(L);var q=E.apply(this,M);return P.cache=A.set(L,q)||A,q};return P.cache=new(No.Cache||qn),P}No.Cache=qn;var Au=500;function Cu(E){var j=No(E,function(M){return P.size===Au&&P.clear(),M}),P=j.cache;return j}var Pu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mu=/\\(\\)?/g,zu=Cu(function(E){var j=[];return E.charCodeAt(0)===46&&j.push(""),E.replace(Pu,function(P,M,L,A){j.push(L?A.replace(Mu,"$1"):M||P)}),j});function ju(E){return E==null?"":Ba(E)}function Ci(E,j){return vr(E)?E:cu(E,j)?[E]:zu(ju(E))}function Lo(E){if(typeof E=="string"||Ro(E))return E;var j=E+"";return j=="0"&&1/E==-1/0?"-0":j}function Ga(E,j){j=Ci(j,E);for(var P=0,M=j.length;E!=null&&P<M;)E=E[Lo(j[P++])];return P&&P==M?E:void 0}function vf(E,j,P){var M=E==null?void 0:Ga(E,j);return M===void 0?P:M}function Uu(E,j){for(var P=-1,M=j.length,L=E.length;++P<M;)E[L+P]=j[P];return E}var Fa=Dn?Dn.isConcatSpreadable:void 0;function Bu(E){return vr(E)||Do(E)||!!(Fa&&E&&E[Fa])}function Wu(E,j,P,M,L){var A=-1,q=E.length;for(P||(P=Bu),L||(L=[]);++A<q;){var R=E[A];P(R)?Uu(L,R):L[L.length]=R}return L}function Hu(E){var j=E==null?0:E.length;return j?Wu(E):[]}function Vu(E){return uc(vc(E,void 0,Hu),E+"")}var Io=Zn(Nn,"DataView"),xo=Zn(Nn,"Promise"),To=Zn(Nn,"Set"),Da="[object Map]",Xu="[object Object]",Na="[object Promise]",La="[object Set]",Aa="[object WeakMap]",Ca="[object DataView]",Yu=Yn(Io),Zu=Yn(Di),qu=Yn(xo),Gu=Yn(To),Ku=Yn(bo),Vn=yr;(Io&&Vn(new Io(new ArrayBuffer(1)))!=Ca||Di&&Vn(new Di)!=Da||xo&&Vn(xo.resolve())!=Na||To&&Vn(new To)!=La||bo&&Vn(new bo)!=Aa)&&(Vn=function(E){var j=yr(E),P=j==Xu?E.constructor:void 0,M=P?Yn(P):"";if(M)switch(M){case Yu:return Ca;case Zu:return Da;case qu:return Na;case Gu:return La;case Ku:return Aa}return j});function Ju(E,j){return E!=null&&j in Object(E)}function Qu(E,j,P){j=Ci(j,E);for(var M=-1,L=j.length,A=!1;++M<L;){var q=Lo(j[M]);if(!(A=E!=null&&P(E,q)))break;E=E[q]}return A||++M!=L?A:(L=E==null?0:E.length,!!L&&Fo(L)&&Ha(q,L)&&(vr(E)||Do(E)))}function $u(E,j){return E!=null&&Qu(E,j,Ju)}function gf(E){var j=E==null?0:E.length;return j?E[j-1]:void 0}var tf="[object Map]",ef="[object Set]",nf=Object.prototype,rf=nf.hasOwnProperty;function mf(E){if(E==null)return!0;if(mc(E)&&(vr(E)||typeof E=="string"||typeof E.splice=="function"||Tc(E)||tu(E)||Do(E)))return!E.length;var j=Vn(E);if(j==tf||j==ef)return!E.size;if(Xa(E))return!ou(E).length;for(var P in E)if(rf.call(E,P))return!1;return!0}function of(E,j,P,M){if(!Ri(E))return E;j=Ci(j,E);for(var L=-1,A=j.length,q=A-1,R=E;R!=null&&++L<A;){var U=Lo(j[L]),T=P;if(U==="__proto__"||U==="constructor"||U==="prototype")return E;if(L!=q){var w=R[U];T=void 0,T===void 0&&(T=Ri(w)?w:Ha(j[L+1])?[]:{})}yc(R,U,T),R=R[U]}return E}function af(E,j,P){for(var M=-1,L=j.length,A={};++M<L;){var q=j[M],R=Ga(E,q);P(R,q)&&of(A,Ci(q,E),R)}return A}function sf(E,j){return af(E,j,function(P,M){return $u(E,M)})}var wf=Vu(function(E,j){return E==null?{}:sf(E,j)});try{self["workbox:window:7.3.0"]&&_()}catch{}function Oo(E,j){return new Promise((function(P){var M=new MessageChannel;M.port1.onmessage=function(L){P(L.data)},E.postMessage(j,[M.port2])}))}function Pa(E,j){(j==null||j>E.length)&&(j=E.length);for(var P=0,M=Array(j);P<j;P++)M[P]=E[P];return M}function cf(E,j){for(var P=0;P<j.length;P++){var M=j[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(E,ff(M.key),M)}}function uf(E,j){var P=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(P)return(P=P.call(E)).next.bind(P);if(Array.isArray(E)||(P=(function(L,A){if(L){if(typeof L=="string")return Pa(L,A);var q={}.toString.call(L).slice(8,-1);return q==="Object"&&L.constructor&&(q=L.constructor.name),q==="Map"||q==="Set"?Array.from(L):q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q)?Pa(L,A):void 0}})(E))||j){P&&(E=P);var M=0;return function(){return M>=E.length?{done:!0}:{done:!1,value:E[M++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ko(E,j){return ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,M){return P.__proto__=M,P},ko(E,j)}function ff(E){var j=(function(P,M){if(typeof P!="object"||!P)return P;var L=P[Symbol.toPrimitive];if(L!==void 0){var A=L.call(P,M);if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)})(E,"string");return typeof j=="symbol"?j:j+""}try{self["workbox:core:7.3.0"]&&_()}catch{}var So=function(){var E=this;this.promise=new Promise((function(j,P){E.resolve=j,E.reject=P}))};function Eo(E,j){var P=location.href;return new URL(E,P).href===new URL(j,P).href}var dr=function(E,j){this.type=E,Object.assign(this,j)};function Fn(E,j,P){return P?j?j(E):E:(E&&E.then||(E=Promise.resolve(E)),j?E.then(j):E)}function lf(){}var hf={type:"SKIP_WAITING"};function Ma(E,j){return E&&E.then?E.then(lf):Promise.resolve()}var pf=(function(E){function j(A,q){var R,U;return q===void 0&&(q={}),(R=E.call(this)||this).nn={},R.tn=0,R.rn=new So,R.en=new So,R.on=new So,R.un=0,R.an=new Set,R.cn=function(){var T=R.fn,w=T.installing;R.tn>0||!Eo(w.scriptURL,R.sn.toString())||performance.now()>R.un+6e4?(R.vn=w,T.removeEventListener("updatefound",R.cn)):(R.hn=w,R.an.add(w),R.rn.resolve(w)),++R.tn,w.addEventListener("statechange",R.ln)},R.ln=function(T){var w=R.fn,h=T.target,O=h.state,d=h===R.vn,Y={sw:h,isExternal:d,originalEvent:T};!d&&R.mn&&(Y.isUpdate=!0),R.dispatchEvent(new dr(O,Y)),O==="installed"?R.wn=self.setTimeout((function(){O==="installed"&&w.waiting===h&&R.dispatchEvent(new dr("waiting",Y))}),200):O==="activating"&&(clearTimeout(R.wn),d||R.en.resolve(h))},R.yn=function(T){var w=R.hn,h=w!==navigator.serviceWorker.controller;R.dispatchEvent(new dr("controlling",{isExternal:h,originalEvent:T,sw:w,isUpdate:R.mn})),h||R.on.resolve(w)},R.gn=(U=function(T){var w=T.data,h=T.ports,O=T.source;return Fn(R.getSW(),(function(){R.an.has(O)&&R.dispatchEvent(new dr("message",{data:w,originalEvent:T,ports:h,sw:O}))}))},function(){for(var T=[],w=0;w<arguments.length;w++)T[w]=arguments[w];try{return Promise.resolve(U.apply(this,T))}catch(h){return Promise.reject(h)}}),R.sn=A,R.nn=q,navigator.serviceWorker.addEventListener("message",R.gn),R}var P,M;M=E,(P=j).prototype=Object.create(M.prototype),P.prototype.constructor=P,ko(P,M);var L=j.prototype;return L.register=function(A){var q=(A===void 0?{}:A).immediate,R=q!==void 0&&q;try{var U=this;return Fn((function(T,w){var h=T();return h&&h.then?h.then(w):w(h)})((function(){if(!R&&document.readyState!=="complete")return Ma(new Promise((function(T){return window.addEventListener("load",T)})))}),(function(){return U.mn=!!navigator.serviceWorker.controller,U.dn=U.pn(),Fn(U.bn(),(function(T){U.fn=T,U.dn&&(U.hn=U.dn,U.en.resolve(U.dn),U.on.resolve(U.dn),U.dn.addEventListener("statechange",U.ln,{once:!0}));var w=U.fn.waiting;return w&&Eo(w.scriptURL,U.sn.toString())&&(U.hn=w,Promise.resolve().then((function(){U.dispatchEvent(new dr("waiting",{sw:w,wasWaitingBeforeRegister:!0}))})).then((function(){}))),U.hn&&(U.rn.resolve(U.hn),U.an.add(U.hn)),U.fn.addEventListener("updatefound",U.cn),navigator.serviceWorker.addEventListener("controllerchange",U.yn),U.fn}))})))}catch(T){return Promise.reject(T)}},L.update=function(){try{return this.fn?Fn(Ma(this.fn.update())):Fn()}catch(A){return Promise.reject(A)}},L.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},L.messageSW=function(A){try{return Fn(this.getSW(),(function(q){return Oo(q,A)}))}catch(q){return Promise.reject(q)}},L.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Oo(this.fn.waiting,hf)},L.pn=function(){var A=navigator.serviceWorker.controller;return A&&Eo(A.scriptURL,this.sn.toString())?A:void 0},L.bn=function(){try{var A=this;return Fn((function(q,R){try{var U=q()}catch(T){return R(T)}return U&&U.then?U.then(void 0,R):U})((function(){return Fn(navigator.serviceWorker.register(A.sn,A.nn),(function(q){return A.un=performance.now(),q}))}),(function(q){throw q})))}catch(q){return Promise.reject(q)}},(function(A,q,R){return q&&cf(A.prototype,q),Object.defineProperty(A,"prototype",{writable:!1}),A})(j,[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])})((function(){function E(){this.Pn=new Map}var j=E.prototype;return j.addEventListener=function(P,M){this.jn(P).add(M)},j.removeEventListener=function(P,M){this.jn(P).delete(M)},j.dispatchEvent=function(P){P.target=this;for(var M,L=uf(this.jn(P.type));!(M=L()).done;)(0,M.value)(P)},j.jn=function(P){return this.Pn.has(P)||this.Pn.set(P,new Set),this.Pn.get(P)},E})());const _f=Object.freeze(Object.defineProperty({__proto__:null,Workbox:pf,WorkboxEvent:dr,messageSW:Oo},Symbol.toStringTag,{value:"Module"}));export{df as B,mf as a,vf as g,yf as i,gf as l,wf as p,_f as w};
